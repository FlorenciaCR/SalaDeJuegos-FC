"use strict";(self.webpackChunkTP_SalaDeJuegosLabIV_FC=self.webpackChunkTP_SalaDeJuegosLabIV_FC||[]).push([[179],{2011:(st,Ie,P)=>{P.d(Ie,{hO:()=>ze,xv:()=>de,Dh:()=>fe,GT:()=>_e,cc:()=>Me,on:()=>H,pX:()=>te});var h=P(5e3),X=P(127),N=P(5813);st=P.hmd(st);const ue=["ngOnDestroy"],te=(Ce,et,We,Ae={})=>new Proxy(Ce,{get:(be,we)=>We.runOutsideAngular(()=>{var Ge;if(Ce[we])return(null===(Ge=null==Ae?void 0:Ae.spy)||void 0===Ge?void 0:Ge.get)&&Ae.spy.get(we,Ce[we]),Ce[we];if(ue.indexOf(we)>-1)return()=>{};const je=et.toPromise().then(ie=>{const K=ie&&ie[we];return"function"==typeof K?K.bind(ie):K&&K.then?K.then(se=>We.run(()=>se)):We.run(()=>K)});return new Proxy(()=>{},{get:(ie,K)=>je[K],apply:(ie,K,se)=>je.then(ye=>{var ae;const Re=ye&&ye(...se);return(null===(ae=null==Ae?void 0:Ae.spy)||void 0===ae?void 0:ae.apply)&&Ae.spy.apply(we,se,Re),Re})})})}),_e=(Ce,et)=>{et.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(Ae=>{Object.defineProperty(Ce.prototype,Ae,Object.getOwnPropertyDescriptor(We.prototype||We,Ae))})})};class ne{constructor(et){return et}}const fe=new h.OlP("angularfire2.app.options"),de=new h.OlP("angularfire2.app.name");function H(Ce,et,We){const be="object"==typeof We&&We||{};be.name=be.name||"string"==typeof We&&We||"[DEFAULT]";const Ge=X.Z.apps.filter(je=>je&&je.name===be.name)[0]||et.runOutsideAngular(()=>X.Z.initializeApp(Ce,be));try{JSON.stringify(Ce)!==JSON.stringify(Ge.options)&&$("error",`${Ge.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new ne(Ge)}const $=(Ce,...et)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[Ce](...et)},ee={provide:ne,useFactory:H,deps:[fe,h.R0b,[new h.FiY,de]]};let ze=(()=>{class Ce{constructor(We){X.Z.registerVersion("angularfire",N.q4.full,"core"),X.Z.registerVersion("angularfire",N.q4.full,"app-compat"),X.Z.registerVersion("angular",h.q4F.full,We.toString())}static initializeApp(We,Ae){return{ngModule:Ce,providers:[{provide:fe,useValue:We},{provide:de,useValue:Ae}]}}}return Ce.\u0275fac=function(We){return new(We||Ce)(h.LFG(h.Lbi))},Ce.\u0275mod=h.oAB({type:Ce}),Ce.\u0275inj=h.cJS({providers:[ee]}),Ce})();function Me(Ce,et,We,Ae,be){const[,we,Ge]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===Ce)||[];if(we)return function ke(Ce,et){try{return Ce.toString()===et.toString()}catch(We){return Ce===et}}(be,Ge)||(pe("error",`${et} was already initialized on the ${We} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:be,was:Ge})),we;{const je=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Ce,je,be]),je}}const Ve=!!st.hot,pe=(Ce,...et)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[Ce](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(st,Ie,P)=>{P.d(Ie,{q4:()=>Il,iC:()=>Ou,HU:()=>xu,vb:()=>kh,JM:()=>Aa});var h=P(5e3),X=P(5867),N=P(5861),ue=P(9681),te=P(2090),_e=P(4859),ne=P(1877);const fe="@firebase/installations",$="w:0.5.8",ee="FIS_v2",Ce=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(D){return D instanceof te.ZR&&D.code.includes("request-failed")}function We({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ae(D){return{token:D.token,requestStatus:2,expiresIn:se(D.expiresIn),creationTime:Date.now()}}function be(D,I){return we.apply(this,arguments)}function we(){return(we=(0,N.Z)(function*(D,I){const L=(yield I.json()).error;return Ce.create("request-failed",{requestName:D,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ge({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function je(D,{refreshToken:I}){const R=Ge(D);return R.append("Authorization",function ye(D){return`${ee} ${D}`}(I)),R}function ie(D){return K.apply(this,arguments)}function K(){return(K=(0,N.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function se(D){return Number(D.replace("s","000"))}function ae(D,I){return Re.apply(this,arguments)}function Re(){return(Re=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:I},{fid:R}){const L=We(D),Y=Ge(D),re=I.getImmediate({optional:!0});if(re){const Et=yield re.getHeartbeatsHeader();Et&&Y.append("x-firebase-client",Et)}const Ze={method:"POST",headers:Y,body:JSON.stringify({fid:R,authVersion:ee,appId:D.appId,sdkVersion:$})},rt=yield ie(()=>fetch(L,Ze));if(rt.ok){const Et=yield rt.json();return{fid:Et.fid||R,registrationStatus:2,refreshToken:Et.refreshToken,authToken:Ae(Et.authToken)}}throw yield be("Create Installation",rt)})).apply(this,arguments)}function ce(D){return new Promise(I=>{setTimeout(I,D)})}const nn=/^[cdef][\w-]{21}$/;function at(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function _t(D){return function Tt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return nn.test(R)?R:""}catch(D){return""}}function fn(D){return`${D.appName}!${D.appId}`}const pn=new Map;function Oi(D,I){const R=fn(D);rn(R,I),function Wt(D,I){const R=function di(){return!ar&&"BroadcastChannel"in self&&(ar=new BroadcastChannel("[Firebase] FID Change"),ar.onmessage=D=>{rn(D.data.key,D.data.fid)}),ar}();R&&R.postMessage({key:D,fid:I}),function As(){0===pn.size&&ar&&(ar.close(),ar=null)}()}(R,I)}function rn(D,I){const R=pn.get(D);if(R)for(const L of R)L(I)}let ar=null;const Rr="firebase-installations-store";let es=null;function ts(){return es||(es=(0,te.X3)("firebase-installations-database",1,(D,I)=>{0===I&&D.createObjectStore(Rr)})),es}function ct(D,I){return qr.apply(this,arguments)}function qr(){return(qr=(0,N.Z)(function*(D,I){const R=fn(D),Y=(yield ts()).transaction(Rr,"readwrite"),re=Y.objectStore(Rr),Oe=yield re.get(R);return yield re.put(I,R),yield Y.complete,(!Oe||Oe.fid!==I.fid)&&Oi(D,I.fid),I})).apply(this,arguments)}function er(D){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,N.Z)(function*(D){const I=fn(D),L=(yield ts()).transaction(Rr,"readwrite");yield L.objectStore(Rr).delete(I),yield L.complete})).apply(this,arguments)}function hi(D,I){return ro.apply(this,arguments)}function ro(){return(ro=(0,N.Z)(function*(D,I){const R=fn(D),Y=(yield ts()).transaction(Rr,"readwrite"),re=Y.objectStore(Rr),Oe=yield re.get(R),Ze=I(Oe);return void 0===Ze?yield re.delete(R):yield re.put(Ze,R),yield Y.complete,Ze&&(!Oe||Oe.fid!==Ze.fid)&&Oi(D,Ze.fid),Ze})).apply(this,arguments)}function Tn(D){return tr.apply(this,arguments)}function tr(){return(tr=(0,N.Z)(function*(D){let I;const R=yield hi(D.appConfig,L=>{const Y=Ss(L),re=ha(D,Y);return I=re.registrationPromise,re.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function Ss(D){return Gt(D||{fid:at(),registrationStatus:0})}function ha(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Ce.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Kt(D,I){return it.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:wt(D)}:{installationEntry:I}}function it(){return(it=(0,N.Z)(function*(D,I){try{const R=yield ae(D,I);return ct(D.appConfig,R)}catch(R){throw et(R)&&409===R.customData.serverCode?yield er(D.appConfig):yield ct(D.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function wt(D){return lr.apply(this,arguments)}function lr(){return(lr=(0,N.Z)(function*(D){let I=yield Gi(D.appConfig);for(;1===I.registrationStatus;)yield ce(100),I=yield Gi(D.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield Tn(D);return L||R}return I})).apply(this,arguments)}function Gi(D){return hi(D,I=>{if(!I)throw Ce.create("installation-not-found");return Gt(I)})}function Gt(D){return function io(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function mr(D,I){return ur.apply(this,arguments)}function ur(){return(ur=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:I},R){const L=dt(D,R),Y=je(D,R),re=I.getImmediate({optional:!0});if(re){const Et=yield re.getHeartbeatsHeader();Et&&Y.append("x-firebase-client",Et)}const Ze={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:$,appId:D.appId}})},rt=yield ie(()=>fetch(L,Ze));if(rt.ok)return Ae(yield rt.json());throw yield be("Generate Auth Token",rt)})).apply(this,arguments)}function dt(D,{fid:I}){return`${We(D)}/${I}/authTokens:generate`}function _r(D){return jt.apply(this,arguments)}function jt(){return(jt=(0,N.Z)(function*(D,I=!1){let R;const L=yield hi(D.appConfig,re=>{if(!Bt(re))throw Ce.create("not-registered");const Oe=re.authToken;if(!I&&j(Oe))return re;if(1===Oe.requestStatus)return R=Ke(D,I),re;{if(!navigator.onLine)throw Ce.create("app-offline");const Ze=z(re);return R=ht(D,Ze),Ze}});return R?yield R:L.authToken})).apply(this,arguments)}function Ke(D,I){return Se.apply(this,arguments)}function Se(){return(Se=(0,N.Z)(function*(D,I){let R=yield Qe(D.appConfig);for(;1===R.authToken.requestStatus;)yield ce(100),R=yield Qe(D.appConfig);const L=R.authToken;return 0===L.requestStatus?_r(D,I):L})).apply(this,arguments)}function Qe(D){return hi(D,I=>{if(!Bt(I))throw Ce.create("not-registered");return function he(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ht(D,I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,N.Z)(function*(D,I){try{const R=yield mr(D,I),L=Object.assign(Object.assign({},I),{authToken:R});return yield ct(D.appConfig,L),R}catch(R){if(!et(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield ct(D.appConfig,L)}else yield er(D.appConfig);throw R}})).apply(this,arguments)}function Bt(D){return void 0!==D&&2===D.registrationStatus}function j(D){return 2===D.requestStatus&&!function B(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function z(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function Ue(){return(Ue=(0,N.Z)(function*(D){const I=D,{installationEntry:R,registrationPromise:L}=yield Tn(I);return L?L.catch(console.error):_r(I).catch(console.error),R.fid})).apply(this,arguments)}function Xt(){return(Xt=(0,N.Z)(function*(D,I=!1){const R=D;return yield yr(R),(yield _r(R,I)).token})).apply(this,arguments)}function yr(D){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,N.Z)(function*(D){const{registrationPromise:I}=yield Tn(D);I&&(yield I)})).apply(this,arguments)}function Kn(D){return Ce.create("missing-app-config-values",{valueName:D})}const pa="installations",Pe=D=>{const I=D.getProvider("app").getImmediate(),R=function ns(D){if(!D||!D.options)throw Kn("App Configuration");if(!D.name)throw Kn("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!D.options[R])throw Kn(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,ue._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Ft=D=>{const I=D.getProvider("app").getImmediate(),R=(0,ue._getProvider)(I,pa).getImmediate();return{getId:()=>function J(D){return Ue.apply(this,arguments)}(R),getToken:Y=>function yt(D){return Xt.apply(this,arguments)}(R,Y)}};(function yn(){(0,ue._registerComponent)(new _e.wA(pa,Pe,"PUBLIC")),(0,ue._registerComponent)(new _e.wA("installations-internal",Ft,"PRIVATE"))})(),(0,ue.registerVersion)(fe,"0.5.8"),(0,ue.registerVersion)(fe,"0.5.8","esm2017");const cr="@firebase/remote-config",Ln=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wh{constructor(I,R,L,Y){this.client=I,this.storage=R,this.storageCache=L,this.logger=Y}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,Y=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Y}.`),Y}fetch(I){var R=this;return(0,N.Z)(function*(){const[L,Y]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Y&&R.isCachedDataFresh(I.cacheMaxAgeMillis,L))return Y;I.eTag=Y&&Y.eTag;const re=yield R.client.fetch(I),Oe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Oe.push(R.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Oe),re})()}}function xc(D=navigator){return D.languages&&D.languages[0]||D.language}class nl{constructor(I,R,L,Y,re,Oe){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=L,this.projectId=Y,this.apiKey=re,this.appId=Oe}fetch(I){var R=this;return(0,N.Z)(function*(){const[L,Y]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},rt={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:Y,app_id:R.appId,language_code:xc()},Et={method:"POST",headers:Ze,body:JSON.stringify(rt)},zt=fetch(Oe,Et),At=new Promise((Lr,ti)=>{I.signal.addEventListener(()=>{const Li=new Error("The operation was aborted.");Li.name="AbortError",ti(Li)})});let Un;try{yield Promise.race([zt,At]),Un=yield zt}catch(Lr){let ti="fetch-client-network";throw"AbortError"===Lr.name&&(ti="fetch-timeout"),Ln.create(ti,{originalErrorMessage:Lr.message})}let xn=Un.status;const xa=Un.headers.get("ETag")||void 0;let Wo,Fr;if(200===Un.status){let Lr;try{Lr=yield Un.json()}catch(ti){throw Ln.create("fetch-client-parse",{originalErrorMessage:ti.message})}Wo=Lr.entries,Fr=Lr.state}if("INSTANCE_STATE_UNSPECIFIED"===Fr?xn=500:"NO_CHANGE"===Fr?xn=304:("NO_TEMPLATE"===Fr||"EMPTY_CONFIG"===Fr)&&(Wo={}),304!==xn&&200!==xn)throw Ln.create("fetch-status",{httpStatus:xn});return{status:xn,eTag:xa,config:Wo}})()}}class Fp{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,N.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:L}){var Y=this;return(0,N.Z)(function*(){yield function Gn(D,I){return new Promise((R,L)=>{const Y=Math.max(I-Date.now(),0),re=setTimeout(R,Y);D.addEventListener(()=>{clearTimeout(re),L(Ln.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const re=yield Y.client.fetch(I);return yield Y.storage.deleteThrottleMetadata(),re}catch(re){if(!function Oc(D){if(!(D instanceof te.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(re))throw re;const Oe={throttleEndTimeMillis:Date.now()+(0,te.$s)(L),backoffCount:L+1};return yield Y.storage.setThrottleMetadata(Oe),Y.attemptFetch(I,Oe)}})()}}class iu{constructor(I,R,L,Y,re){this.app=I,this._client=R,this._storageCache=L,this._storage=Y,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function su(D,I){const R=D.target.error||void 0;return Ln.create(I,{originalErrorMessage:R&&R.message})}const ks="app_namespace_store";class Up{constructor(I,R,L,Y=function Bp(){return new Promise((D,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{I(su(L,"storage-open"))},R.onsuccess=L=>{D(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(ks,{keyPath:"compositeKey"})}}catch(R){I(Ln.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=I,this.appName=R,this.namespace=L,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,N.Z)(function*(){const L=yield R.openDbPromise;return new Promise((Y,re)=>{const Ze=L.transaction([ks],"readonly").objectStore(ks),rt=R.createCompositeKey(I);try{const Et=Ze.get(rt);Et.onerror=zt=>{re(su(zt,"storage-get"))},Et.onsuccess=zt=>{const At=zt.target.result;Y(At?At.value:void 0)}}catch(Et){re(Ln.create("storage-get",{originalErrorMessage:Et&&Et.message}))}})})()}set(I,R){var L=this;return(0,N.Z)(function*(){const Y=yield L.openDbPromise;return new Promise((re,Oe)=>{const rt=Y.transaction([ks],"readwrite").objectStore(ks),Et=L.createCompositeKey(I);try{const zt=rt.put({compositeKey:Et,value:R});zt.onerror=At=>{Oe(su(At,"storage-set"))},zt.onsuccess=()=>{re()}}catch(zt){Oe(Ln.create("storage-set",{originalErrorMessage:zt&&zt.message}))}})})()}delete(I){var R=this;return(0,N.Z)(function*(){const L=yield R.openDbPromise;return new Promise((Y,re)=>{const Ze=L.transaction([ks],"readwrite").objectStore(ks),rt=R.createCompositeKey(I);try{const Et=Ze.delete(rt);Et.onerror=zt=>{re(su(zt,"storage-delete"))},Et.onsuccess=()=>{Y()}}catch(Et){re(Ln.create("storage-delete",{originalErrorMessage:Et&&Et.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class kc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const R=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),Y=I.storage.getActiveConfig(),re=yield R;re&&(I.lastFetchStatus=re);const Oe=yield L;Oe&&(I.lastSuccessfulFetchTimestampMillis=Oe);const Ze=yield Y;Ze&&(I.activeConfig=Ze)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function ao(){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,N.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Fo(){(0,ue._registerComponent)(new _e.wA("remote-config",function D(I,{instanceIdentifier:R}){const L=I.getProvider("app").getImmediate(),Y=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ln.create("registration-window");if(!(0,te.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:re,apiKey:Oe,appId:Ze}=L.options;if(!re)throw Ln.create("registration-project-id");if(!Oe)throw Ln.create("registration-api-key");if(!Ze)throw Ln.create("registration-app-id");const rt=new Up(Ze,L.name,R=R||"firebase"),Et=new kc(rt),zt=new ne.Yd(cr);zt.logLevel=ne.in.ERROR;const At=new nl(Y,ue.SDK_VERSION,R,re,Oe,Ze),Un=new Fp(At,rt),xn=new wh(Un,rt,Et,zt),xa=new iu(L,xn,Et,rt,zt);return function pi(D){const I=(0,te.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(xa),xa},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(cr,"0.3.7"),(0,ue.registerVersion)(cr,"0.3.7","esm2017")}();const ou="/firebase-messaging-sw.js",Ps="/firebase-cloud-messaging-push-scope",Kr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lo="google.c.a.c_id",ma="google.c.a.c_l",Pc="google.c.a.ts",jp="google.c.a.e";var Ns=(()=>{return(D=Ns||(Ns={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ns;var D})();function mi(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function il(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),Y=new Uint8Array(L.length);for(let re=0;re<L.length;++re)Y[re]=L.charCodeAt(re);return Y}const sl="fcm_token_details_db",dr="fcm_token_object_Store";function Dh(D){return ol.apply(this,arguments)}function ol(){return ol=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(sl))return null;let I=null;return(yield(0,te.X3)(sl,5,function(){var L=(0,N.Z)(function*(Y,re,Oe,Ze){var rt;if(re<2||!Y.objectStoreNames.contains(dr))return;const Et=Ze.objectStore(dr),zt=yield Et.index("fcmSenderId").get(D);if(yield Et.clear(),zt)if(2===re){const At=zt;if(!At.auth||!At.p256dh||!At.endpoint)return;I={token:At.fcmToken,createTime:null!==(rt=At.createTime)&&void 0!==rt?rt:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:mi(At.vapidKey)}}}else if(3===re){const At=zt;I={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:mi(At.auth),p256dh:mi(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:mi(At.vapidKey)}}}else if(4===re){const At=zt;I={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:mi(At.auth),p256dh:mi(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:mi(At.vapidKey)}}}});return function(Y,re,Oe,Ze){return L.apply(this,arguments)}}())).close(),yield(0,te.Lj)(sl),yield(0,te.Lj)("fcm_vapid_details_db"),yield(0,te.Lj)("undefined"),Nc(I)?I:null}),ol.apply(this,arguments)}function Nc(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const os="firebase-messaging-store";let _a=null;function au(){return _a||(_a=(0,te.X3)("firebase-messaging-database",1,(D,I)=>{0===I&&D.createObjectStore(os)})),_a}function Dn(D){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,N.Z)(function*(D){const I=co(D),L=yield(yield au()).transaction(os).objectStore(os).get(I);if(L)return L;{const Y=yield Dh(D.appConfig.senderId);if(Y)return yield Fs(D,Y),Y}})).apply(this,arguments)}function Fs(D,I){return hn.apply(this,arguments)}function hn(){return(hn=(0,N.Z)(function*(D,I){const R=co(D),Y=(yield au()).transaction(os,"readwrite");return yield Y.objectStore(os).put(I,R),yield Y.complete,I})).apply(this,arguments)}function Fc(D){return uo.apply(this,arguments)}function uo(){return(uo=(0,N.Z)(function*(D){const I=co(D),L=(yield au()).transaction(os,"readwrite");yield L.objectStore(os).delete(I),yield L.complete})).apply(this,arguments)}function co({appConfig:D}){return D.appId}const Vn=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ya(D,I){return ki.apply(this,arguments)}function ki(){return(ki=(0,N.Z)(function*(D,I){const R=yield Vs(D),L=ft(I),Y={method:"POST",headers:R,body:JSON.stringify(L)};let re;try{re=yield(yield fetch(Zr(D.appConfig),Y)).json()}catch(Oe){throw Vn.create("token-subscribe-failed",{errorInfo:Oe})}if(re.error)throw Vn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw Vn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function Er(D,I){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,N.Z)(function*(D,I){const R=yield Vs(D),L=ft(I.subscriptionOptions),Y={method:"PATCH",headers:R,body:JSON.stringify(L)};let re;try{re=yield(yield fetch(`${Zr(D.appConfig)}/${I.token}`,Y)).json()}catch(Oe){throw Vn.create("token-update-failed",{errorInfo:Oe})}if(re.error)throw Vn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw Vn.create("token-update-no-token");return re.token})).apply(this,arguments)}function as(D,I){return ul.apply(this,arguments)}function ul(){return(ul=(0,N.Z)(function*(D,I){const L={method:"DELETE",headers:yield Vs(D)};try{const re=yield(yield fetch(`${Zr(D.appConfig)}/${I}`,L)).json();if(re.error)throw Vn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(Y){throw Vn.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function Zr({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Vs(D){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,N.Z)(function*({appConfig:D,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ft({p256dh:D,auth:I,endpoint:R,vapidKey:L}){const Y={web:{endpoint:R,auth:I,p256dh:D}};return L!==Kr&&(Y.web.applicationPubKey=L),Y}const cl=6048e5;function va(D){return dl.apply(this,arguments)}function dl(){return(dl=(0,N.Z)(function*(D){const I=yield cu(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:mi(I.getKey("auth")),p256dh:mi(I.getKey("p256dh"))},L=yield Dn(D.firebaseDependencies);if(L){if(Uo(L.subscriptionOptions,R))return Date.now()>=L.createTime+cl?lu(D,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield as(D.firebaseDependencies,L.token)}catch(Y){console.warn(Y)}return De(D.firebaseDependencies,R)}return De(D.firebaseDependencies,R)})).apply(this,arguments)}function hl(D){return fl.apply(this,arguments)}function fl(){return(fl=(0,N.Z)(function*(D){const I=yield Dn(D.firebaseDependencies);I&&(yield as(D.firebaseDependencies,I.token),yield Fc(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function lu(D,I){return uu.apply(this,arguments)}function uu(){return(uu=(0,N.Z)(function*(D,I){try{const R=yield Er(D.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield Fs(D.firebaseDependencies,L),R}catch(R){throw yield hl(D),R}})).apply(this,arguments)}function De(D,I){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,N.Z)(function*(D,I){const L={token:yield ya(D,I),createTime:Date.now(),subscriptionOptions:I};return yield Fs(D,L),L.token})).apply(this,arguments)}function cu(D,I){return An.apply(this,arguments)}function An(){return(An=(0,N.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:il(I)})})).apply(this,arguments)}function Uo(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function jo(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Yr(D,I){if(!I.notification)return;D.notification={};const R=I.notification.title;R&&(D.notification.title=R);const L=I.notification.body;L&&(D.notification.body=L);const Y=I.notification.image;Y&&(D.notification.image=Y)}(I,D),function du(D,I){!I.data||(D.data=I.data)}(I,D),function hu(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const R=I.fcmOptions.link;R&&(D.fcmOptions.link=R);const L=I.fcmOptions.analytics_label;L&&(D.fcmOptions.analyticsLabel=L)}(I,D),I}function Lc(D){return"object"==typeof D&&!!D&&lo in D}function fu(D,I){const R=[];for(let L=0;L<D.length;L++)R.push(D.charAt(L)),L<I.length&&R.push(I.charAt(L));return R.join("")}function Us(D){return Vn.create("missing-app-config-values",{valueName:D})}fu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hr{constructor(I,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function pl(D){if(!D||!D.options)throw Us("App Configuration Object");if(!D.name)throw Us("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const L of I)if(!R[L])throw Us(L);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Y,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function _i(D){return gl.apply(this,arguments)}function gl(){return(gl=(0,N.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(ou,{scope:Ps}),D.swRegistration.update().catch(()=>{})}catch(I){throw Vn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function js(D,I){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,N.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield _i(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Vn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function pu(D,I){return ml.apply(this,arguments)}function ml(){return(ml=(0,N.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=Kr)})).apply(this,arguments)}function gu(){return(gu=(0,N.Z)(function*(D,I){if(!navigator)throw Vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vn.create("permission-blocked");return yield pu(D,null==I?void 0:I.vapidKey),yield js(D,null==I?void 0:I.serviceWorkerRegistration),va(D)})).apply(this,arguments)}function ba(D,I,R){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,N.Z)(function*(D,I,R){const L=mu(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[lo],message_name:R[ma],message_time:R[Pc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function mu(D){switch(D){case Ns.NOTIFICATION_CLICKED:return"notification_open";case Ns.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Vc(){return(Vc=(0,N.Z)(function*(D,I){const R=I.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===Ns.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(jo(R)):D.onMessageHandler.next(jo(R)));const L=R.data;Lc(L)&&"1"===L[jp]&&(yield ba(D,R.messageType,L))})).apply(this,arguments)}const yu="@firebase/messaging",Bc=D=>{const I=new hr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function _u(D,I){return Vc.apply(this,arguments)}(I,R)),I},fo=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:L=>function _l(D,I){return gu.apply(this,arguments)}(I,L)}};function jc(){return po.apply(this,arguments)}function po(){return(po=(0,N.Z)(function*(){try{yield(0,te.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Uc(){(0,ue._registerComponent)(new _e.wA("messaging",Bc,"PUBLIC")),(0,ue._registerComponent)(new _e.wA("messaging-internal",fo,"PRIVATE")),(0,ue.registerVersion)(yu,"0.9.12"),(0,ue.registerVersion)(yu,"0.9.12","esm2017")}();const bu="analytics",M_="firebase_id",Ea="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yl="https://www.googletagmanager.com/gtag/js",zn=new ne.Yd("@firebase/analytics");function Hc(D){return Promise.all(D.map(I=>I.catch(R=>R)))}function Hp(D,I){const R=document.createElement("script");R.src=`${yl}?l=${D}&id=${I}`,R.async=!0,document.head.appendChild(R)}function $o(D,I,R,L,Y,re){return $c.apply(this,arguments)}function $c(){return($c=(0,N.Z)(function*(D,I,R,L,Y,re){const Oe=L[Y];try{if(Oe)yield I[Oe];else{const rt=(yield Hc(R)).find(Et=>Et.measurementId===Y);rt&&(yield I[rt.appId])}}catch(Ze){zn.error(Ze)}D("config",Y,re)})).apply(this,arguments)}function wu(D,I,R,L,Y){return go.apply(this,arguments)}function go(){return(go=(0,N.Z)(function*(D,I,R,L,Y){try{let re=[];if(Y&&Y.send_to){let Oe=Y.send_to;Array.isArray(Oe)||(Oe=[Oe]);const Ze=yield Hc(R);for(const rt of Oe){const Et=Ze.find(At=>At.measurementId===rt),zt=Et&&I[Et.appId];if(!zt){re=[];break}re.push(zt)}}0===re.length&&(re=Object.values(I)),yield Promise.all(re),D("event",L,Y||{})}catch(re){zn.error(re)}})).apply(this,arguments)}function $p(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(yl))return I;return null}const vn=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wa=new class Du{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function mo(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function zc(D){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,N.Z)(function*(D){var I;const{appId:R,apiKey:L}=D,Y={method:"GET",headers:mo(L)},re=Ea.replace("{app-id}",R),Oe=yield fetch(re,Y);if(200!==Oe.status&&304!==Oe.status){let Ze="";try{const rt=yield Oe.json();(null===(I=rt.error)||void 0===I?void 0:I.message)&&(Ze=rt.error.message)}catch(rt){}throw vn.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:Ze})}return Oe.json()})).apply(this,arguments)}function Go(D){return bn.apply(this,arguments)}function bn(){return(bn=(0,N.Z)(function*(D,I=wa,R){const{appId:L,apiKey:Y,measurementId:re}=D.options;if(!L)throw vn.create("no-app-id");if(!Y){if(re)return{measurementId:re,appId:L};throw vn.create("no-api-key")}const Oe=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new bl;return setTimeout((0,N.Z)(function*(){Ze.abort()}),void 0!==R?R:6e4),Ot({appId:L,apiKey:Y,measurementId:re},Oe,Ze,I)})).apply(this,arguments)}function Ot(D,I,R){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,N.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:R},L,Y=wa){const{appId:re,measurementId:Oe}=D;try{yield Gp(L,I)}catch(Ze){if(Oe)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:re,measurementId:Oe};throw Ze}try{const Ze=yield zc(D);return Y.deleteThrottleMetadata(re),Ze}catch(Ze){if(!vl(Ze)){if(Y.deleteThrottleMetadata(re),Oe)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:re,measurementId:Oe};throw Ze}const rt=503===Number(Ze.customData.httpStatus)?(0,te.$s)(R,Y.intervalMillis,30):(0,te.$s)(R,Y.intervalMillis),Et={throttleEndTimeMillis:Date.now()+rt,backoffCount:R+1};return Y.setThrottleMetadata(re,Et),zn.debug(`Calling attemptFetch again in ${rt} millis`),Ot(D,Et,L,Y)}})).apply(this,arguments)}function Gp(D,I){return new Promise((R,L)=>{const Y=Math.max(I-Date.now(),0),re=setTimeout(R,Y);D.addEventListener(()=>{clearTimeout(re),L(vn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function vl(D){if(!(D instanceof te.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class bl{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Ah(){return _o.apply(this,arguments)}function _o(){return(_o=(0,N.Z)(function*(){if(!(0,te.hl)())return zn.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(D){return zn.warn(vn.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Zn(){return(Zn=(0,N.Z)(function*(D,I,R,L,Y,re,Oe){var Ze;const rt=Go(D);rt.then(xn=>{R[xn.measurementId]=xn.appId,D.options.measurementId&&xn.measurementId!==D.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xn=>zn.error(xn)),I.push(rt);const Et=Ah().then(xn=>{if(xn)return L.getId()}),[zt,At]=yield Promise.all([rt,Et]);$p()||Hp(re,zt.measurementId),Y("js",new Date);const Un=null!==(Ze=null==Oe?void 0:Oe.config)&&void 0!==Ze?Ze:{};return Un.origin="firebase",Un.update=!0,null!=At&&(Un[M_]=At),Y("config",zt.measurementId,Un),zt.measurementId})).apply(this,arguments)}class zo{constructor(I){this.app=I}_delete(){return delete Qr[this.app.options.appId],Promise.resolve()}}let Qr={},yo=[];const Iu={};let vi,zs,vo="dataLayer",Yn=!1;function ds(D,I,R){!function Tu(){const D=[];if((0,te.ru)()&&D.push("This is a browser extension environment."),(0,te.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((L,Y)=>`(${Y+1}) ${L}`).join(" "),R=vn.create("invalid-analytics-context",{errorInfo:I});zn.warn(R.message)}}();const L=D.options.appId;if(!L)throw vn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw vn.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qr[L])throw vn.create("already-exists",{id:L});if(!Yn){!function us(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(vo);const{wrappedGtag:re,gtagCore:Oe}=function Th(D,I,R,L,Y){let re=function(...Oe){window[L].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(re=window[Y]),window[Y]=function Gc(D,I,R,L){function re(){return(re=(0,N.Z)(function*(Oe,Ze,rt){try{"event"===Oe?yield wu(D,I,R,Ze,rt):"config"===Oe?yield $o(D,I,R,L,Ze,rt):D("set",Ze)}catch(Et){zn.error(Et)}})).apply(this,arguments)}return function Y(Oe,Ze,rt){return re.apply(this,arguments)}}(re,D,I,R),{gtagCore:re,wrappedGtag:window[Y]}}(Qr,yo,Iu,vo,"gtag");zs=re,vi=Oe,Yn=!0}return Qr[L]=function yi(D,I,R,L,Y,re,Oe){return Zn.apply(this,arguments)}(D,yo,Iu,I,vi,vo,R),new zo(D)}function Ca(){return(Ca=(0,N.Z)(function*(D,I,R,L,Y){if(Y&&Y.global)D("event",R,L);else{const re=yield I;D("event",R,Object.assign(Object.assign({},L),{send_to:re}))}})).apply(this,arguments)}function Co(){return wl.apply(this,arguments)}function wl(){return(wl=(0,N.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(D){return!1}})).apply(this,arguments)}const Mu="@firebase/analytics";!function Mh(){(0,ue._registerComponent)(new _e.wA(bu,(I,{options:R})=>ds(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ue._registerComponent)(new _e.wA("analytics-internal",function D(I){try{const R=I.getProvider(bu).getImmediate();return{logEvent:(L,Y,re)=>function Zc(D,I,R,L){D=(0,te.m9)(D),function qc(D,I,R,L,Y){return Ca.apply(this,arguments)}(zs,Qr[D.app.options.appId],I,R,L).catch(Y=>zn.error(Y))}(R,L,Y,re)}}catch(R){throw vn.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ue.registerVersion)(Mu,"0.7.8"),(0,ue.registerVersion)(Mu,"0.7.8","esm2017")}();var Qc=P(4408),xh=P(7565);const Cl=new class Mn extends xh.v{}(class qi extends Qc.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,R,L):I.flush(this)}});var Pr=P(4986),Dl=P(8505),Nr=P(9468),Fi=P(5363);const Il=new h.GfV("7.3.0"),Wi="__angularfire_symbol__analyticsIsSupportedValue",Jr="__angularfire_symbol__analyticsIsSupported",ei="__angularfire_symbol__remoteConfigIsSupportedValue",Ia="__angularfire_symbol__remoteConfigIsSupported",Ta="__angularfire_symbol__messagingIsSupportedValue",Xc="__angularfire_symbol__messagingIsSupported";function Aa(D,I,R){if(I){if(1===I.length)return I[0];const re=I.filter(Oe=>Oe.app===R);if(1===re.length)return re[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[Jr]||(globalThis[Jr]=Co().then(D=>globalThis[Wi]=D).catch(()=>globalThis[Wi]=!1)),globalThis[Xc]||(globalThis[Xc]=jc().then(D=>globalThis[Ta]=D).catch(()=>globalThis[Ta]=!1)),globalThis[Ia]||(globalThis[Ia]=ao().then(D=>globalThis[ei]=D).catch(()=>globalThis[ei]=!1));const kh=(D,I)=>{const R=I?[I]:(0,X.C6)(),L=[];return R.forEach(Y=>{Y.container.getProvider(D).instances.forEach(Oe=>{L.includes(Oe)||L.push(Oe)})}),L};function Do(){}class Sa{constructor(I,R=Cl){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,L){const Y=this.zone;return this.delegate.schedule(function(Oe){Y.runGuarded(()=>{I.apply(this,[Oe])})},R,L)}}class Ph{constructor(I){this.zone=I,this.task=null}call(I,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Do,{},Do,Do)),R.pipe((0,Dl.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xu=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Sa(Zone.current)),this.insideAngular=R.run(()=>new Sa(Zone.current,Pr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(h.LFG(h.R0b))},D.\u0275prov=h.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function ps(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ou(D){return ps(),function gs(D){return function(R){return(R=R.lift(new Ph(D.ngZone))).pipe((0,Nr.R)(D.outsideAngular),(0,Fi.Q)(D.insideAngular))}}(ps())(D)}},2090:(st,Ie,P)=>{P.d(Ie,{BH:()=>Me,LL:()=>Tt,ZR:()=>ce,zI:()=>ye,US:()=>ne,tV:()=>H,L:()=>de,$s:()=>io,r3:()=>rn,Sg:()=>ke,ne:()=>ct,vZ:()=>As,ZB:()=>ee,Lj:()=>Ht,pd:()=>es,m9:()=>dt,z$:()=>Ve,jU:()=>et,ru:()=>We,d:()=>be,xb:()=>ar,w1:()=>we,hl:()=>K,uI:()=>pe,UG:()=>Ce,b$:()=>Ae,G6:()=>ie,Mn:()=>Ge,X3:()=>ht,xO:()=>$i,zd:()=>Rr,eu:()=>se});var h=P(5861);const te=function(j){const B=[];let z=0;for(let he=0;he<j.length;he++){let J=j.charCodeAt(he);J<128?B[z++]=J:J<2048?(B[z++]=J>>6|192,B[z++]=63&J|128):55296==(64512&J)&&he+1<j.length&&56320==(64512&j.charCodeAt(he+1))?(J=65536+((1023&J)<<10)+(1023&j.charCodeAt(++he)),B[z++]=J>>18|240,B[z++]=J>>12&63|128,B[z++]=J>>6&63|128,B[z++]=63&J|128):(B[z++]=J>>12|224,B[z++]=J>>6&63|128,B[z++]=63&J|128)}return B},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,B){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let J=0;J<j.length;J+=3){const Ue=j[J],yt=J+1<j.length,Xt=yt?j[J+1]:0,yr=J+2<j.length,Zt=yr?j[J+2]:0;let _n=(15&Xt)<<2|Zt>>6,nr=63&Zt;yr||(nr=64,yt||(_n=64)),he.push(z[Ue>>2],z[(3&Ue)<<4|Xt>>4],z[_n],z[nr])}return he.join("")},encodeString(j,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(j):this.encodeByteArray(te(j),B)},decodeString(j,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(j):function(j){const B=[];let z=0,he=0;for(;z<j.length;){const J=j[z++];if(J<128)B[he++]=String.fromCharCode(J);else if(J>191&&J<224){const Ue=j[z++];B[he++]=String.fromCharCode((31&J)<<6|63&Ue)}else if(J>239&&J<365){const yr=((7&J)<<18|(63&j[z++])<<12|(63&j[z++])<<6|63&j[z++])-65536;B[he++]=String.fromCharCode(55296+(yr>>10)),B[he++]=String.fromCharCode(56320+(1023&yr))}else{const Ue=j[z++],yt=j[z++];B[he++]=String.fromCharCode((15&J)<<12|(63&Ue)<<6|63&yt)}}return B.join("")}(this.decodeStringToByteArray(j,B))},decodeStringToByteArray(j,B){this.init_();const z=B?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let J=0;J<j.length;){const Ue=z[j.charAt(J++)],Xt=J<j.length?z[j.charAt(J)]:0;++J;const Zt=J<j.length?z[j.charAt(J)]:64;++J;const Pt=J<j.length?z[j.charAt(J)]:64;if(++J,null==Ue||null==Xt||null==Zt||null==Pt)throw Error();he.push(Ue<<2|Xt>>4),64!==Zt&&(he.push(Xt<<4&240|Zt>>2),64!==Pt&&he.push(Zt<<6&192|Pt))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},de=function(j){return function(j){const B=te(j);return ne.encodeByteArray(B,!0)}(j).replace(/\./g,"")},H=function(j){try{return ne.decodeString(j,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function ee(j,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return B}for(const z in B)!B.hasOwnProperty(z)||!ze(z)||(j[z]=ee(j[z],B[z]));return j}function ze(j){return"__proto__"!==j}class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,z)=>{this.resolve=B,this.reject=z})}wrapCallback(B){return(z,he)=>{z?this.reject(z):this.resolve(he),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(z):B(z,he))}}}function ke(j,B){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=B||"demo-project",J=j.iat||0,Ue=j.sub||j.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:J,exp:J+3600,auth_time:J,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},j);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(yt)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function et(){return"object"==typeof self&&self.self===self}function We(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){return Ve().indexOf("Electron/")>=0}function we(){const j=Ve();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Ge(){return Ve().indexOf("MSAppHost/")>=0}function ie(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){return"object"==typeof indexedDB}function se(){return new Promise((j,B)=>{try{let z=!0;const he="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(he);J.onsuccess=()=>{J.result.close(),z||self.indexedDB.deleteDatabase(he),j(!0)},J.onupgradeneeded=()=>{z=!1},J.onerror=()=>{var Ue;B((null===(Ue=J.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(z){B(z)}})}function ye(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ce extends Error{constructor(B,z,he){super(z),this.code=B,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tt.prototype.create)}}class Tt{constructor(B,z,he){this.service=B,this.serviceName=z,this.errors=he}create(B,...z){const he=z[0]||{},J=`${this.service}/${B}`,Ue=this.errors[B],yt=Ue?function nn(j,B){return j.replace(Fn,(z,he)=>{const J=B[he];return null!=J?String(J):`<${he}?>`})}(Ue,he):"Error";return new ce(J,`${this.serviceName}: ${yt} (${J}).`,he)}}const Fn=/\{\$([^}]+)}/g;function rn(j,B){return Object.prototype.hasOwnProperty.call(j,B)}function ar(j){for(const B in j)if(Object.prototype.hasOwnProperty.call(j,B))return!1;return!0}function As(j,B){if(j===B)return!0;const z=Object.keys(j),he=Object.keys(B);for(const J of z){if(!he.includes(J))return!1;const Ue=j[J],yt=B[J];if(Or(Ue)&&Or(yt)){if(!As(Ue,yt))return!1}else if(Ue!==yt)return!1}for(const J of he)if(!z.includes(J))return!1;return!0}function Or(j){return null!==j&&"object"==typeof j}function $i(j){const B=[];for(const[z,he]of Object.entries(j))Array.isArray(he)?he.forEach(J=>{B.push(encodeURIComponent(z)+"="+encodeURIComponent(J))}):B.push(encodeURIComponent(z)+"="+encodeURIComponent(he));return B.length?"&"+B.join("&"):""}function Rr(j){const B={};return j.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[J,Ue]=he.split("=");B[decodeURIComponent(J)]=decodeURIComponent(Ue)}}),B}function es(j){const B=j.indexOf("?");if(!B)return"";const z=j.indexOf("#",B);return j.substring(B,z>0?z:void 0)}function ct(j,B){const z=new qr(j,B);return z.subscribe.bind(z)}class qr{constructor(B,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{B(this)}).catch(he=>{this.error(he)})}next(B){this.forEachObserver(z=>{z.next(B)})}error(B){this.forEachObserver(z=>{z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,z,he){let J;if(void 0===B&&void 0===z&&void 0===he)throw new Error("Missing Observer.");J=function Wn(j,B){if("object"!=typeof j||null===j)return!1;for(const z of B)if(z in j&&"function"==typeof j[z])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:z,complete:he},void 0===J.next&&(J.next=hi),void 0===J.error&&(J.error=hi),void 0===J.complete&&(J.complete=hi);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(yt){}}),this.observers.push(J),Ue}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,B)}sendOne(B,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{z(this.observers[B])}catch(he){"undefined"!=typeof console&&console.error&&console.error(he)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hi(){}function io(j,B=1e3,z=2){const he=B*Math.pow(z,j),J=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+J)}function dt(j){return j&&j._delegate?j._delegate:j}function _r(j,B){return new Promise((z,he)=>{j.onsuccess=J=>{z(J.target.result)},j.onerror=J=>{var Ue;he(`${B}: ${null===(Ue=J.target.error)||void 0===Ue?void 0:Ue.message}`)}})}class jt{constructor(B){this._db=B,this.objectStoreNames=this._db.objectStoreNames}transaction(B,z="readonly"){return new Ke(this._db.transaction.call(this._db,B,z))}createObjectStore(B,z){return new Se(this._db.createObjectStore(B,z))}close(){this._db.close()}}class Ke{constructor(B){this._transaction=B,this.complete=new Promise((z,he)=>{this._transaction.oncomplete=function(){z()},this._transaction.onerror=()=>{he(this._transaction.error)},this._transaction.onabort=()=>{he(this._transaction.error)}})}objectStore(B){return new Se(this._transaction.objectStore(B))}}class Se{constructor(B){this._store=B}index(B){return new Qe(this._store.index(B))}createIndex(B,z,he){return new Qe(this._store.createIndex(B,z,he))}get(B){return _r(this._store.get(B),"Error reading from IndexedDB")}put(B,z){return _r(this._store.put(B,z),"Error writing to IndexedDB")}delete(B){return _r(this._store.delete(B),"Error deleting from IndexedDB")}clear(){return _r(this._store.clear(),"Error clearing IndexedDB object store")}}class Qe{constructor(B){this._index=B}get(B){return _r(this._index.get(B),"Error reading from IndexedDB")}}function ht(j,B,z){return new Promise((he,J)=>{try{const Ue=indexedDB.open(j,B);Ue.onsuccess=yt=>{he(new jt(yt.target.result))},Ue.onerror=yt=>{var Xt;J(`Error opening indexedDB: ${null===(Xt=yt.target.error)||void 0===Xt?void 0:Xt.message}`)},Ue.onupgradeneeded=yt=>{z(new jt(Ue.result),yt.oldVersion,yt.newVersion,new Ke(Ue.transaction))}}catch(Ue){J(`Error opening indexedDB: ${Ue.message}`)}})}function Ht(j){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,h.Z)(function*(j){return new Promise((B,z)=>{try{const he=indexedDB.deleteDatabase(j);he.onsuccess=()=>{B()},he.onerror=J=>{var Ue;z(`Error deleting indexedDB database "${j}": ${null===(Ue=J.target.error)||void 0===Ue?void 0:Ue.message}`)}}catch(he){z(`Error deleting indexedDB database "${j}": ${he.message}`)}})})).apply(this,arguments)}},9421:(st,Ie,P)=>{var h=P(5e3);let X=null;function N(){return X}const ne=new h.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function de(){return(0,h.LFG)($)}()},providedIn:"platform"}),n})();const H=new h.OlP("Location Initialized");let $=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ee()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ee()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ze(){return new $((0,h.LFG)(ne))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ce(n){const e=(0,h.LFG)(ne).location;return new We((0,h.LFG)(fe),e&&e.origin||"")}()},providedIn:"root"}),n})();const et=new h.OlP("appBaseHref");let We=(()=>{class n extends pe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const c=this.prepareExternalUrl(i+Ve(l));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){const c=this.prepareExternalUrl(i+Ve(l));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fe),h.LFG(et,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let c=this.prepareExternalUrl(i+Ve(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){let c=this.prepareExternalUrl(i+Ve(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fe),h.LFG(et,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(t,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ke(je(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function Ge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=Me,n.stripTrailingSlash=ke,n.\u0275fac=function(t){return new(t||n)(h.LFG(pe),h.LFG(fe))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function we(){return new be((0,h.LFG)(pe),(0,h.LFG)(fe))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}let pi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new dn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ja("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ja("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class dn{constructor(){this.$implicit=null,this.ngIf=null}}function Ja(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}class Oc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Fp{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const ss=new Fp,Lp=new Oc;let iu=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return ss;if((0,h.F4k)(t))return Lp;throw function Gn(n,e){return new h.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1}),n})(),Vo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const Ns="browser";function dr(n){return"server"===n}let al=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new ll((0,h.LFG)(ne),window)}),n})();class ll{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function _a(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const c=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=os(this.window.history)||os(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function os(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Fs extends class Bo extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function te(n){X||(X=n)}(new Fs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Fc(){return hn=hn||document.querySelector("base"),hn?hn.getAttribute("href"):null}();return null==t?null:function co(n){uo=uo||document.createElement("a"),uo.setAttribute("href",n);const e=uo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){hn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function No(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let uo,hn=null;const br=new h.OlP("TRANSITION_ID"),ya=[{provide:h.ip1,useFactory:function Vn(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[br,ne,h.zs3],multi:!0}];class ki{static init(){(0,h.VLi)(new ki)}addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let l=i.length,c=!1;const p=function(_){c=c||_,l--,0==l&&r(c)};i.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Er=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ls=new h.OlP("EventManagerPlugins");let as=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const c=i[l];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ls),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ul{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Zr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Vs=(()=>{class n extends Zr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const c=this._doc.createElement("style");c.textContent=l,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Bs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Bs))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Bs(n){N().remove(n)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cl=/%COMP%/g;function De(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?De(n,i,t):(i=i.replace(cl,n),t.push(i))}return t}function Ut(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let An=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Uo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new du(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new hu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=De(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(as),h.LFG(Vs),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Uo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ft[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=ft[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ft[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ut(r)):this.eventManager.addEventListener(e,t,Ut(r))}}class du extends Uo{constructor(e,t,r,i){super(e),this.component=r;const l=De(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function lu(n){return"_ngcontent-%COMP%".replace(cl,n)}(i+"-"+r.id),this.hostAttr=function uu(n){return"_nghost-%COMP%".replace(cl,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class hu extends Uo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=De(i.id,i.styles,[]);for(let c=0;c<l.length;c++){const p=document.createElement("style");p.textContent=l[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Lc=(()=>{class n extends ul{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const fu=["alt","control","meta","shift"],Us={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_i={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let gl=(()=>{class n extends ul{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),c=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,l.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let c="";if(fu.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),c+=_+".")}),c+=l,0!=r.length||0===l.length)return null;const p={};return p.domEventName=i,p.fullKey=c,p}static getEventFullKey(t){let r="",i=function js(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&hr.hasOwnProperty(e)&&(e=hr[e]))}return Us[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),fu.forEach(l=>{l!=i&&_i[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const gu=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:Ns},{provide:h.g9A,useValue:function Pi(){Fs.makeCurrent(),ki.init()},multi:!0},{provide:ne,useFactory:function ml(){return(0,h.RDi)(document),document},deps:[]}]),ba=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function pu(){return new h.qLn},deps:[]},{provide:Ls,useClass:Lc,multi:!0,deps:[ne,h.R0b,h.Lbi]},{provide:Ls,useClass:gl,multi:!0,deps:[ne]},{provide:An,useClass:An,deps:[as,Vs,h.AFp]},{provide:h.FYo,useExisting:An},{provide:Zr,useExisting:Vs},{provide:Vs,useClass:Vs,deps:[ne]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:as,useClass:as,deps:[Ls,h.R0b]},{provide:class Dn{},useClass:Er,deps:[]}];let Ho=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:br,useExisting:h.AFp},ya]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:ba,imports:[Vo,h.hGG]}),n})();"undefined"!=typeof window&&window;var Bn=P(8996),vn=P(8306);const{isArray:Cu}=Array,{getPrototypeOf:cs,prototype:Du,keys:wa}=Object;function mo(n){if(1===n.length){const e=n[0];if(Cu(e))return{args:e,keys:null};if(function zc(n){return n&&"object"==typeof n&&cs(n)===Du}(e)){const t=wa(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Jt=P(8421),Go=P(3269),bn=P(5403),Ot=P(4004);const{isArray:Gs}=Array;function vl(n){return(0,Ot.U)(e=>function Gp(n,e){return Gs(e)?n(...e):n(e)}(n,e))}function bl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let _o=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),yi=(()=>{class n extends _o{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Zn=new h.OlP("NgValueAccessor"),yo={provide:Zn,useExisting:(0,h.Gpc)(()=>bo),multi:!0},vo=new h.OlP("CompositionEventMode");let bo=(()=>{class n extends _o{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Iu(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(vo,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[h._Bn([yo]),h.qOj]}),n})();const Yn=new h.OlP("NgValidators"),Eo=new h.OlP("NgAsyncValidators");function bi(n){return null!=n}function Wc(n){const e=(0,h.QGY)(n)?(0,Bn.D)(n):n;return(0,h.CqO)(e),e}function El(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Co(n,e){return e.map(t=>t(n))}function Sh(n){return n.map(e=>function wl(n){return!n.validate}(e)?e:t=>e.validate(t))}function Kc(n){return null!=n?function kn(n){if(!n)return null;const e=n.filter(bi);return 0==e.length?null:function(t){return El(Co(t,e))}}(Sh(n)):null}function Zc(n){return null!=n?function zp(n){if(!n)return null;const e=n.filter(bi);return 0==e.length?null:function(t){return function Ah(...n){const e=(0,Go.jO)(n),{args:t,keys:r}=mo(n),i=new vn.y(l=>{const{length:c}=t;if(!c)return void l.complete();const p=new Array(c);let _=c,w=c;for(let S=0;S<c;S++){let x=!1;(0,Jt.Xf)(t[S]).subscribe((0,bn.x)(l,V=>{x||(x=!0,w--),p[S]=V},()=>_--,void 0,()=>{(!_||!x)&&(w||l.next(r?bl(r,p):p),l.complete())}))}});return e?i.pipe(vl(e)):i}(Co(t,e).map(Wc)).pipe((0,Ot.U)(El))}}(Sh(n)):null}function Mu(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Qc(n){return n?Array.isArray(n)?n:[n]:[]}function qi(n,e){return Array.isArray(n)?n.includes(e):n===e}function xh(n,e){const t=Qc(e);return Qc(n).forEach(i=>{qi(t,i)||t.push(i)}),t}function Mn(n,e){return Qc(e).filter(t=>!qi(n,t))}class Cl{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Kc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Xr extends Cl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pr extends Cl{get formDirective(){return null}get path(){return null}}class Dl{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Il=(()=>{class n extends Dl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Xr,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})(),Wi=(()=>{class n extends Dl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Pr,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[h.qOj]}),n})();function Cr(n,e){gs(n,e),e.valueAccessor.writeValue(n.value),function Ru(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&I(n,e)})}(n,e),function R(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function D(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&I(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ou(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gs(n,e){const t=function Yc(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Mu(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Mh(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Mu(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();qo(e._rawValidators,i),qo(e._rawAsyncValidators,i)}function I(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xn(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Fr="VALID",Lr="INVALID",ti="PENDING",Li="DISABLED";function ed(n){return(td(n)?n.validators:n)||null}function ku(n){return Array.isArray(n)?Kc(n):n||null}function Ko(n,e){return(td(e)?e.asyncValidators:n)||null}function Nh(n){return Array.isArray(n)?Zc(n):n||null}function td(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Ws=n=>n instanceof Lh;function Kp(n){return(n=>n instanceof x_)(n)?n.value:n.getRawValue()}function Zp(n,e){const t=Ws(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[e])throw new h.vHH(1001,"")}function Fh(n,e){Ws(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new h.vHH(1002,"")})}class Al{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ku(this._rawValidators),this._composedAsyncValidatorFn=Nh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fr}get invalid(){return this.status===Lr}get pending(){return this.status==ti}get disabled(){return this.status===Li}get enabled(){return this.status!==Li}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ku(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Nh(e)}addValidators(e){this.setValidators(xh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Mn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Mn(e,this._rawAsyncValidators))}hasValidator(e){return qi(this._rawValidators,e)}hasAsyncValidator(e){return qi(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ti,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Li,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fr,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fr||this.status===ti)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Li:Fr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ti,this._hasOwnPendingAsyncValidator=!0;const t=Wc(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function qp(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Ws(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof O_)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Li:this.errors?Lr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ti)?ti:this._anyControlsHaveStatus(Lr)?Lr:Fr}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){td(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class x_ extends Al{constructor(e=null,t,r){super(ed(t),Ko(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),td(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xn(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xn(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Lh extends Al{constructor(e,t,r){super(ed(t),Ko(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Fh(this,e),Object.keys(e).forEach(r=>{Zp(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Kp(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class O_ extends Al{constructor(e,t,r){super(ed(t),Ko(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Fh(this,e),e.forEach((r,i)=>{Zp(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Kp(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const R_={provide:Pr,useExisting:(0,h.Gpc)(()=>Oa)},Zo=(()=>Promise.resolve(null))();let Oa=(()=>{class n extends Pr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new Lh({},Kc(t),Zc(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Zo.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Cr(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Zo.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Zo.then(()=>{const r=this._findContainer(t.path),i=new Lh({});(function L(n,e){gs(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Zo.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Zo.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function At(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Yn,10),h.Y36(Eo,10))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([R_]),h.qOj]}),n})();const Qp={provide:Xr,useExisting:(0,h.Gpc)(()=>Nu)},nd=(()=>Promise.resolve(null))();let Nu=(()=>{class n extends Xr{constructor(t,r,i,l,c){super(),this._changeDetectorRef=c,this.control=new x_,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Un(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===bo?t=l:function zt(n){return Object.getPrototypeOf(n.constructor)===yi}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Et(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){nd.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;nd.then(()=>{var l;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function Tl(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Pr,9),h.Y36(Yn,10),h.Y36(Eo,10),h.Y36(Zn,10),h.Y36(h.sBO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Qp]),h.qOj,h.TTD]}),n})(),jh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ms=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),v0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[ms]]}),n})(),Uu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[v0]}),n})();function tt(...n){const e=(0,Go.yG)(n);return(0,Bn.D)(n,e)}var gn=P(7579);class wi extends gn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Dr=P(4671),ju=P(9672);function Hu(n,e,t){n?(0,ju.f)(t,n,e):e()}var Zi=P(576);function $u(n,e){const t=(0,Zi.m)(n)?n:()=>n,r=i=>i.error(t());return new vn.y(e?i=>e.schedule(r,0,i):r)}const ud=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Vi=P(8189);function ef(...n){return function fg(){return(0,Vi.J)(1)}()((0,Bn.D)(n,(0,Go.yG)(n)))}function Gu(n){return new vn.y(e=>{(0,Jt.Xf)(n()).subscribe(e)})}var Ol=P(515),Rl=P(727),an=P(4482);function cd(){return(0,an.e)((n,e)=>{let t=null;n._refCount++;const r=(0,bn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class tf extends vn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,an.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,bn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rl.w0.EMPTY)}return e}refCount(){return cd()(this)}}function ri(n,e){return(0,an.e)((t,r)=>{let i=null,l=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,bn.x)(r,_=>{null==i||i.unsubscribe();let w=0;const S=l++;(0,Jt.Xf)(n(_,S)).subscribe(i=(0,bn.x)(r,x=>r.next(e?e(_,x,S,w++):x),()=>{i=null,p()}))},()=>{c=!0,p()}))})}var Vr=P(5698);function Io(...n){const e=(0,Go.yG)(n);return(0,an.e)((t,r)=>{(e?ef(n,t,e):ef(n,t)).subscribe(r)})}function nf(n,e,t,r,i){return(l,c)=>{let p=t,_=e,w=0;l.subscribe((0,bn.x)(c,S=>{const x=w++;_=p?n(_,S,x):(p=!0,S),r&&c.next(_)},i&&(()=>{p&&c.next(_),c.complete()})))}}function kl(n,e){return(0,an.e)(nf(n,e,arguments.length>=2,!0))}function ii(n,e){return(0,an.e)((t,r)=>{let i=0;t.subscribe((0,bn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}function Ks(n){return(0,an.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,bn.x)(t,void 0,void 0,c=>{l=(0,Jt.Xf)(n(c,Ks(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Ir=P(5577);function zu(n,e){return(0,Zi.m)(e)?(0,Ir.z)(n,e,1):(0,Ir.z)(n,1)}function rf(n){return n<=0?()=>Ol.E:(0,an.e)((e,t)=>{let r=[];e.subscribe((0,bn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function pg(n=y){return(0,an.e)((e,t)=>{let r=!1;e.subscribe((0,bn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function y(){return new ud}function f(n){return(0,an.e)((e,t)=>{let r=!1;e.subscribe((0,bn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function b(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ii((i,l)=>n(i,l,r)):Dr.y,(0,Vr.q)(1),t?f(e):pg(()=>new ud))}var T=P(8505);class q{constructor(e,t){this.id=e,this.url=t}}class oe extends q{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Be extends q{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xe extends q{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vt extends q{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ut extends q{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pn extends q{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yi extends q{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qu extends q{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dd extends q{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hd{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $_{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yo{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fd{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sf{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pd{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Lt="primary";class G_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qo(n){return new G_(n)}const gg="ngNavigationCancelingError";function z_(n){const e=Error("NavigationCancelingError: "+n);return e[gg]=!0,e}function VD(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const c=r[l],p=n[l];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Zs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!q_(n[i],e[i]))return!1;return!0}function q_(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function mg(n){return Array.prototype.concat.apply([],n)}function E0(n){return n.length>0?n[n.length-1]:null}function Br(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function To(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Bn.D)(Promise.resolve(n)):tt(n)}const w0={exact:function D0(n,e,t){if(!Na(n.segments,e.segments)||!gd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!D0(n.children[r],e.children[r],t))return!1;return!0},subset:K_},W_={exact:function _g(n,e){return Zs(n,e)},subset:function I0(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>q_(n[t],e[t]))},ignored:()=>!0};function C0(n,e,t){return w0[t.paths](n.root,e.root,t.matrixParams)&&W_[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function K_(n,e,t){return Z_(n,e,e.segments,t)}function Z_(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Na(i,t)||e.hasChildren()||!gd(i,t,r))}if(n.segments.length===t.length){if(!Na(n.segments,t)||!gd(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!K_(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Na(n.segments,i)&&gd(n.segments,i,r)&&n.children[Lt])&&Z_(n.children[Lt],e,l,r)}}function gd(n,e,t){return e.every((r,i)=>W_[t](n[i].parameters,r.parameters))}class Nl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qo(this.queryParams)),this._queryParamMap}toString(){return BD.serialize(this)}}class qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Br(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return af(this)}}class Fl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qo(this.parameters)),this._parameterMap}toString(){return M0(this)}}function Na(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class yg{}class md{parse(e){const t=new zD(e);return new Nl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${lf(e.root,!0)}`,r=function UD(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${uf(t)}=${uf(i)}`).join("&"):`${uf(t)}=${uf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Y_(n){return encodeURI(n)}(e.fragment)}`:""}`}}const BD=new md;function af(n){return n.segments.map(e=>M0(e)).join("/")}function lf(n,e){if(!n.hasChildren())return af(n);if(e){const t=n.children[Lt]?lf(n.children[Lt],!1):"",r=[];return Br(n.children,(i,l)=>{l!==Lt&&r.push(`${l}:${lf(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function A0(n,e){let t=[];return Br(n.children,(r,i)=>{i===Lt&&(t=t.concat(e(r,i)))}),Br(n.children,(r,i)=>{i!==Lt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Lt?[lf(n.children[Lt],!1)]:[`${i}:${lf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${af(n)}/${t[0]}`:`${af(n)}/(${t.join("//")})`}}function S0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uf(n){return S0(n).replace(/%3B/gi,";")}function vg(n){return S0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Q_(n){return decodeURIComponent(n)}function X_(n){return Q_(n.replace(/\+/g,"%20"))}function M0(n){return`${vg(n.path)}${function x0(n){return Object.keys(n).map(e=>`;${vg(e)}=${vg(n[e])}`).join("")}(n.parameters)}`}const jD=/^[^\/()?;=#]+/;function Qi(n){const e=n.match(jD);return e?e[0]:""}const HD=/^[^=?&#]+/,$D=/^[^&#]+/;class zD{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Lt]=new qt(e,t)),r}parseSegment(){const e=Qi(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Fl(Q_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Qi(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Qi(this.remaining);i&&(r=i,this.capture(r))}e[Q_(t)]=Q_(r)}parseQueryParam(e){const t=function O0(n){const e=n.match(HD);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function GD(n){const e=n.match($D);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=X_(t),l=X_(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Qi(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Lt);const c=this.parseChildren();t[l]=1===Object.keys(c).length?c[Lt]:new qt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class R0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=bg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=J_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return J_(e,this._root).map(t=>t.value)}}function bg(n,e){if(n===e.value)return e;for(const t of e.children){const r=bg(n,t);if(r)return r}return null}function J_(n,e){if(n===e.value)return[e];for(const t of e.children){const r=J_(n,t);if(r.length)return r.unshift(e),r}return[]}class Fa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function _d(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Rt extends R0{constructor(e,t){super(e),this.snapshot=t,hf(this,e)}toString(){return this.snapshot.toString()}}function ey(n,e){const t=function k0(n,e){const c=new df([],{},{},"",{},Lt,e,null,n.root,-1,{});return new P0("",new Fa(c,[]))}(n,e),r=new wi([new Fl("",{})]),i=new wi({}),l=new wi({}),c=new wi({}),p=new wi(""),_=new Ku(r,i,c,p,l,Lt,e,t.root);return _.snapshot=t.root,new Rt(new Fa(_,[]),t)}class Ku{constructor(e,t,r,i,l,c,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=p,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.U)(e=>Qo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.U)(e=>Qo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cf(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function Ao(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class df{constructor(e,t,r,i,l,c,p,_,w,S,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=p,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=S,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class P0 extends R0{constructor(e,t){super(t),this.url=e,hf(this,t)}toString(){return Xo(this._root)}}function hf(n,e){e.value._routerState=n,e.children.forEach(t=>hf(n,t))}function Xo(n){const e=n.children.length>0?` { ${n.children.map(Xo).join(", ")} } `:"";return`${n.value}${e}`}function ff(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Zs(e.params,t.params)||n.params.next(t.params),function b0(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Zs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Eg(n,e){const t=Zs(n.params,e.params)&&function T0(n,e){return Na(n,e)&&n.every((t,r)=>Zs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Eg(n.parent,e.parent))}function wg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function N0(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return wg(n,r,i);return wg(n,r)})}(n,e,t);return new Fa(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>wg(n,p)),c}}const r=function LM(n){return new Ku(new wi(n.url),new wi(n.params),new wi(n.queryParams),new wi(n.fragment),new wi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>wg(n,l));return new Fa(r,i)}}function Zu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yu(n){return"object"==typeof n&&null!=n&&n.outlets}function pf(n,e,t,r,i){let l={};if(r&&Br(r,(p,_)=>{l[_]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),n===e)return new Nl(t,l,i);const c=Dg(n,e,t);return new Nl(c,l,i)}function Dg(n,e,t){const r={};return Br(n.children,(i,l)=>{r[l]=i===e?t:Dg(i,e,t)}),new qt(n.segments,r)}class qD{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Zu(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Yu);if(i&&i!==E0(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ny{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function YD(n,e,t){if(n||(n=new qt([],{})),0===n.segments.length&&n.hasChildren())return Ig(n,e,t);const r=function VM(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const c=n.segments[i],p=t[r];if(Yu(p))break;const _=`${p}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!Ag(_,w,c))return l;r+=2}else{if(!Ag(_,{},c))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new qt(n.segments.slice(0,r.pathIndex),{});return l.children[Lt]=new qt(n.segments.slice(r.pathIndex),n.children),Ig(l,0,i)}return r.match&&0===i.length?new qt(n.segments,{}):r.match&&!n.hasChildren()?Tg(n,e,t):r.match?Ig(n,0,i):Tg(n,e,t)}function Ig(n,e,t){if(0===t.length)return new qt(n.segments,{});{const r=function F0(n){return Yu(n[0])?n[0].outlets:{[Lt]:n}}(t),i={};return Br(r,(l,c)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[c]=YD(n.children[c],e,l))}),Br(n.children,(l,c)=>{void 0===r[c]&&(i[c]=l)}),new qt(n.segments,i)}}function Tg(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Yu(l)){const _=L0(l.outlets);return new qt(r,_)}if(0===i&&Zu(t[0])){r.push(new Fl(n.segments[e].path,V0(t[0]))),i++;continue}const c=Yu(l)?l.outlets[Lt]:`${l}`,p=i<t.length-1?t[i+1]:null;c&&p&&Zu(p)?(r.push(new Fl(c,V0(p))),i+=2):(r.push(new Fl(c,{})),i++)}return new qt(r,{})}function L0(n){const e={};return Br(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Tg(new qt([],{}),0,t))}),e}function V0(n){const e={};return Br(n,(t,r)=>e[r]=`${t}`),e}function Ag(n,e,t){return n==t.path&&Zs(e,t.parameters)}class UM{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ff(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=_d(t);e.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,i[c],r),delete i[c]}),Br(i,(l,c)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=_d(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=_d(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=_d(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new sf(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Yo(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(ff(i),i===l)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),ff(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=function jM(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=p?p.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=_,c.outlet&&c.outlet.activateWith(i,_),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class B0{constructor(e,t){this.routes=e,this.module=t}}function Qu(n){return"function"==typeof n}function yd(n){return n instanceof Nl}const Xu=Symbol("INITIAL_VALUE");function gf(){return ri(n=>function Jh(...n){const e=(0,Go.yG)(n),t=(0,Go.jO)(n),{args:r,keys:i}=mo(n);if(0===r.length)return(0,Bn.D)([],e);const l=new vn.y(function H_(n,e,t=Dr.y){return r=>{Hu(e,()=>{const{length:i}=n,l=new Array(i);let c=i,p=i;for(let _=0;_<i;_++)Hu(e,()=>{const w=(0,Bn.D)(n[_],e);let S=!1;w.subscribe((0,bn.x)(r,x=>{l[_]=x,S||(S=!0,p--),p||r.next(t(l.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>bl(i,c):Dr.y));return t?l.pipe(vl(t)):l}(n.map(e=>e.pipe((0,Vr.q)(1),Io(Xu)))).pipe(kl((e,t)=>{let r=!1;return t.reduce((i,l,c)=>i!==Xu?i:(l===Xu&&(r=!0),r||!1!==l&&c!==t.length-1&&!yd(l)?i:l),e)},Xu),ii(e=>e!==Xu),(0,Ot.U)(e=>yd(e)?e:!0===e),(0,Vr.q)(1)))}class U0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ju,this.attachRef=null}}class Ju{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new U0,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let mf=(()=>{class n{constructor(t,r,i,l,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=l||Lt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,_=new ry(t,p,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ju),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class ry{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ku?this.route:e===Ju?this.childContexts:this.parent.get(e,t)}}let j0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:[mf],encapsulation:2}),n})();function La(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];H0(r,QD(e,r))}}function H0(n,e){n.children&&La(n.children,e)}function QD(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function _f(n){const e=n.children&&n.children.map(_f),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Lt&&(t.component=j0),t}function Ys(n){return n.outlet||Lt}function iy(n,e){const t=n.filter(r=>Ys(r)===e);return t.push(...n.filter(r=>Ys(r)!==e)),t}const $0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},$0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||VD)(t,n,e);if(!l)return Object.assign({},$0);const c={};Br(l.posParams,(_,w)=>{c[w]=_.path});const p=l.consumed.length>0?Object.assign(Object.assign({},c),l.consumed[l.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:p,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Vl(n,e,t,r,i="corrected"){if(t.length>0&&function bd(n,e,t){return t.some(r=>Va(n,e,r)&&Ys(r)!==Lt)}(n,t,r)){const c=new qt(e,function sy(n,e,t,r){const i={};i[Lt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Ys(l)!==Lt){const c=new qt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ys(l)]=c}return i}(n,e,r,new qt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function yf(n,e,t){return t.some(r=>Va(n,e,r))}(n,t,r)){const c=new qt(n.segments,function vd(n,e,t,r,i,l){const c={};for(const p of r)if(Va(n,t,p)&&!i[Ys(p)]){const _=new qt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:e.length,c[Ys(p)]=_}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const l=new qt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Va(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function G0(n,e,t,r){return!!(Ys(n)===r||r!==Lt&&Va(e,t,n))&&("**"===n.path||Sg(e,n,t).matched)}function oy(n,e,t){return 0===e.length&&!n.children[t]}class vf{constructor(e){this.segmentGroup=e||null}}class Mg{constructor(e){this.urlTree=e}}function ec(n){return $u(new vf(n))}function ay(n){return $u(new Mg(n))}class qM{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=Vl(this.urlTree.root,[],[],this.config).segmentGroup,t=new qt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Lt).pipe((0,Ot.U)(l=>this.createUrlTree(Og(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ks(l=>{if(l instanceof Mg)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof vf?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Lt).pipe((0,Ot.U)(i=>this.createUrlTree(Og(i),e.queryParams,e.fragment))).pipe(Ks(i=>{throw i instanceof vf?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new qt([],{[Lt]:e}):e;return new Nl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ot.U)(l=>new qt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,Bn.D)(i).pipe(zu(l=>{const c=r.children[l],p=iy(t,l);return this.expandSegmentGroup(e,p,c,l).pipe((0,Ot.U)(_=>({segment:_,outlet:l})))}),kl((l,c)=>(l[c.outlet]=c.segment,l),{}),function m(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ii((i,l)=>n(i,l,r)):Dr.y,rf(1),t?f(e):pg(()=>new ud))}())}expandSegment(e,t,r,i,l,c){return(0,Bn.D)(r).pipe(zu(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,l,c).pipe(Ks(w=>{if(w instanceof vf)return tt(null);throw w}))),b(p=>!!p),Ks((p,_)=>{if(p instanceof ud||"EmptyError"===p.name)return oy(t,i,l)?tt(new qt([],{})):ec(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,l,c,p){return G0(i,t,l,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c):ec(t):ec(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ay(l):this.lineralizeSegments(r,l).pipe((0,Ir.z)(c=>{const p=new qt(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){const{matched:p,consumedSegments:_,remainingSegments:w,positionalParamSegments:S}=Sg(t,i,l);if(!p)return ec(t);const x=this.applyRedirectCommands(_,i.redirectTo,S);return i.redirectTo.startsWith("/")?ay(x):this.lineralizeSegments(i,x).pipe((0,Ir.z)(V=>this.expandSegment(e,t,r,V.concat(w),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?tt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Ot.U)(x=>(r._loadedConfig=x,new qt(i,{})))):tt(new qt(i,{}));const{matched:c,consumedSegments:p,remainingSegments:_}=Sg(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,Ir.z)(S=>{const x=S.module,V=S.routes,{segmentGroup:G,slicedSegments:W}=Vl(t,p,_,V),me=new qt(G.segments,G.children);if(0===W.length&&me.hasChildren())return this.expandChildren(x,V,me).pipe((0,Ot.U)(Ct=>new qt(p,Ct)));if(0===V.length&&0===W.length)return tt(new qt(p,{}));const Fe=Ys(r)===l;return this.expandSegment(x,me,V,W,Fe?Lt:l,!0).pipe((0,Ot.U)(mt=>new qt(p.concat(mt.segments),mt.children)))})):ec(t)}getChildConfig(e,t,r){return t.children?tt(new B0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?tt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ir.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Ot.U)(l=>(t._loadedConfig=l,l))):function XD(n){return $u(z_(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):tt(new B0([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?tt(i.map(c=>{const p=e.get(c);let _;if(function $M(n){return n&&Qu(n.canLoad)}(p))_=p.canLoad(t,r);else{if(!Qu(p))throw new Error("Invalid CanLoad guard");_=p(t,r)}return To(_)})).pipe(gf(),(0,T.b)(c=>{if(!yd(c))return;const p=z_(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw p.url=c,p}),(0,Ot.U)(c=>!0===c)):tt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return tt(r);if(i.numberOfChildren>1||!i.children[Lt])return $u(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Lt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Nl(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Br(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[l]=t[p]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let c={};return Br(t.children,(p,_)=>{c[_]=this.createSegmentGroup(e,p,r,i)}),new qt(l,c)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Og(n){const e={};for(const r of Object.keys(n.children)){const l=Og(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function q0(n){if(1===n.numberOfChildren&&n.children[Lt]){const e=n.children[Lt];return new qt(n.segments.concat(e.segments),e.children)}return n}(new qt(n.segments,e))}class ly{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rg{constructor(e,t){this.component=e,this.route=t}}function eI(n,e,t){const r=n._root;return Pg(r,e?e._root:null,t,[r.value])}function kg(n,e,t){const r=function tI(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Pg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=_d(e);return n.children.forEach(c=>{(function WM(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const _=function W0(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Na(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Na(n.url,e.url)||!Zs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Eg(n,e)||!Zs(n.queryParams,e.queryParams);default:return!Eg(n,e)}}(c,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new ly(r)):(l.data=c.data,l._resolvedData=c._resolvedData),Pg(n,e,l.component?p?p.children:null:t,r,i),_&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Rg(p.outlet.component,c))}else c&&Ng(e,p,i),i.canActivateChecks.push(new ly(r)),Pg(n,null,l.component?p?p.children:null:t,r,i)})(c,l[c.value.outlet],t,r.concat([c.value]),i),delete l[c.value.outlet]}),Br(l,(c,p)=>Ng(c,t.getContext(p),i)),i}function Ng(n,e,t){const r=_d(n),i=n.value;Br(r,(l,c)=>{Ng(l,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Rg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Y0{}function Q0(n){return new vn.y(e=>e.error(n))}class X0{constructor(e,t,r,i,l,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=c}recognize(){const e=Vl(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Lt);if(null===t)return null;const r=new df([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Fa(r,t),l=new P0(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=cf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const c=t.children[l],p=iy(e,l),_=this.processSegmentGroup(p,c,l);if(null===_)return null;r.push(..._)}const i=Fg(r);return function J0(n){n.sort((e,t)=>e.value.outlet===Lt?-1:t.value.outlet===Lt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const c=this.processSegmentAgainstRoute(l,t,r,i);if(null!==c)return c}return oy(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!G0(e,t,r,i))return null;let l,c=[],p=[];if("**"===e.path){const G=r.length>0?E0(r).parameters:{};l=new df(r,G,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cy(e),Ys(e),e.component,e,eE(t),uI(t)+r.length,tE(e))}else{const G=Sg(t,e,r);if(!G.matched)return null;c=G.consumedSegments,p=G.remainingSegments,l=new df(c,G.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cy(e),Ys(e),e.component,e,eE(t),uI(t)+c.length,tE(e))}const _=function lI(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:S}=Vl(t,c,p,_.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);if(0===S.length&&w.hasChildren()){const G=this.processChildren(_,w);return null===G?null:[new Fa(l,G)]}if(0===_.length&&0===S.length)return[new Fa(l,[])];const x=Ys(e)===i,V=this.processSegment(_,w,S,x?Lt:i);return null===V?null:[new Fa(l,V)]}}function Jo(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fg(n){const e=[],t=new Set;for(const r of n){if(!Jo(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Fg(r.children);e.push(new Fa(r.value,i))}return e.filter(r=>!t.has(r))}function eE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function uI(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function cy(n){return n.data||{}}function tE(n){return n.resolve||{}}function nE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function bf(n){return ri(e=>{const t=n(e);return t?(0,Bn.D)(t).pipe((0,Ot.U)(()=>e)):tt(e)})}class fy extends class hy{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Vg=new h.OlP("ROUTES");class rE{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Ot.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=l.create(e);return new B0(mg(c.injector.get(Vg,void 0,h.XFs.Self|h.XFs.Optional)).map(_f),c)}),Ks(l=>{throw t._loader$=void 0,l}));return t._loader$=new tf(i,()=>new gn.x).pipe(cd()),t._loader$}loadModuleFactory(e){return To(e()).pipe((0,Ir.z)(t=>t instanceof h.YKP?tt(t):(0,Bn.D)(this.compiler.compileModuleAsync(t))))}}class py{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ZM(n){throw n}function gI(n,e,t){return e.parse("/")}function gy(n,e){return tt(null)}const iE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let si=(()=>{class n{constructor(t,r,i,l,c,p,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new gn.x,this.errorHandler=ZM,this.malformedUriErrorHandler=gI,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gy,afterPreactivation:gy},this.urlHandlingStrategy=new py,this.routeReuseStrategy=new fy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(h.h0i),this.console=c.get(h.c2e);const x=c.get(h.R0b);this.isNgZoneEnabled=x instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Wu(){return new Nl(new qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new rE(c,p,V=>this.triggerEvent(new Pl(V)),V=>this.triggerEvent(new hd(V))),this.routerState=ey(this.currentUrlTree,this.rootComponentType),this.transitions=new wi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ii(i=>0!==i.id),(0,Ot.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ri(i=>{let l=!1,c=!1;return tt(i).pipe((0,T.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ri(p=>{const _=this.browserUrlTree.toString(),w=!this.navigated||p.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return ea(p.source)&&(this.browserUrlTree=p.extractedUrl),tt(p).pipe(ri(x=>{const V=this.transitions.getValue();return r.next(new oe(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),V!==this.transitions.getValue()?Ol.E:Promise.resolve(x)}),function JD(n,e,t,r){return ri(i=>function z0(n,e,t,r,i){return new qM(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ot.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,T.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function cI(n,e,t,r,i){return(0,Ir.z)(l=>function aI(n,e,t,r,i="emptyOnly",l="legacy"){try{const c=new X0(n,e,t,r,i,l).recognize();return null===c?Q0(new Y0):tt(c)}catch(c){return Q0(c)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,Ot.U)(c=>Object.assign(Object.assign({},l),{targetSnapshot:c}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,T.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(G,x)}this.browserUrlTree=x.urlAfterRedirects}const V=new ut(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(V)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:G,source:W,restoredState:me,extras:Fe}=p,pt=new oe(V,this.serializeUrl(G),W,me);r.next(pt);const mt=ey(G,this.rootComponentType).snapshot;return tt(Object.assign(Object.assign({},p),{targetSnapshot:mt,urlAfterRedirects:G,extras:Object.assign(Object.assign({},Fe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),Ol.E}),bf(p=>{const{targetSnapshot:_,id:w,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:V,replaceUrl:G}}=p;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!V,replaceUrl:!!G})}),(0,T.b)(p=>{const _=new Pn(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),(0,Ot.U)(p=>Object.assign(Object.assign({},p),{guards:eI(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function nI(n,e){return(0,Ir.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:c}}=t;return 0===c.length&&0===l.length?tt(Object.assign(Object.assign({},t),{guardsResult:!0})):function uy(n,e,t,r){return(0,Bn.D)(n).pipe((0,Ir.z)(i=>function oI(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?tt(l.map(p=>{const _=kg(p,e,i);let w;if(function Ll(n){return n&&Qu(n.canDeactivate)}(_))w=To(_.canDeactivate(n,e,t,r));else{if(!Qu(_))throw new Error("Invalid CanDeactivate guard");w=To(_(n,e,t,r))}return w.pipe(b())})).pipe(gf()):tt(!0)}(i.component,i.route,t,e,r)),b(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Ir.z)(p=>p&&function HM(n){return"boolean"==typeof n}(p)?function K0(n,e,t,r){return(0,Bn.D)(e).pipe(zu(i=>ef(function iI(n,e){return null!==n&&e&&e(new $_(n)),tt(!0)}(i.route.parent,r),function rI(n,e){return null!==n&&e&&e(new fd(n)),tt(!0)}(i.route,r),function Z0(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(c=>function _s(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Gu(()=>tt(c.guards.map(_=>{const w=kg(_,c.node,t);let S;if(function zM(n){return n&&Qu(n.canActivateChild)}(w))S=To(w.canActivateChild(r,n));else{if(!Qu(w))throw new Error("Invalid CanActivateChild guard");S=To(w(r,n))}return S.pipe(b())})).pipe(gf())));return tt(l).pipe(gf())}(n,i.path,t),function sI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return tt(!0);const i=r.map(l=>Gu(()=>{const c=kg(l,e,t);let p;if(function GM(n){return n&&Qu(n.canActivate)}(c))p=To(c.canActivate(e,n));else{if(!Qu(c))throw new Error("Invalid CanActivate guard");p=To(c(e,n))}return p.pipe(b())}));return tt(i).pipe(gf())}(n,i.route,t))),b(i=>!0!==i,!0))}(r,l,n,e):tt(p)),(0,Ot.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,T.b)(p=>{if(yd(p.guardsResult)){const w=z_(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw w.url=p.guardsResult,w}const _=new Yi(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(_)}),ii(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),bf(p=>{if(p.guards.canActivateChecks.length)return tt(p).pipe((0,T.b)(_=>{const w=new qu(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),ri(_=>{let w=!1;return tt(_).pipe(function dI(n,e){return(0,Ir.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return tt(t);let l=0;return(0,Bn.D)(i).pipe(zu(c=>function dy(n,e,t,r){return function hI(n,e,t,r){const i=nE(n);if(0===i.length)return tt({});const l={};return(0,Bn.D)(i).pipe((0,Ir.z)(c=>function Lg(n,e,t,r){const i=kg(n,e,r);return To(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,T.b)(p=>{l[c]=p}))),rf(1),(0,Ir.z)(()=>nE(l).length===i.length?tt(l):Ol.E))}(n._resolve,n,e,r).pipe((0,Ot.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),cf(n,t).resolve),null)))}(c.route,r,n,e)),(0,T.b)(()=>l++),rf(1),(0,Ir.z)(c=>l===i.length?tt(t):Ol.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,T.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,T.b)(_=>{const w=new dd(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),bf(p=>{const{targetSnapshot:_,id:w,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:V,replaceUrl:G}}=p;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!V,replaceUrl:!!G})}),(0,Ot.U)(p=>{const _=function ty(n,e,t){const r=wg(n,e._root,t?t._root:void 0);return new Rt(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:_})}),(0,T.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Ot.U)(r=>(new UM(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,T.b)({next(){l=!0},complete(){l=!0}}),function k(n){return(0,an.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;l||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===i.id&&(this.currentNavigation=null)}),Ks(p=>{if(c=!0,function LD(n){return n&&n[gg]}(p)){const _=yd(p.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const w=new Xe(i.id,this.serializeUrl(i.extractedUrl),p.message);r.next(w),_?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ea(i.source)};this.scheduleNavigation(S,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new vt(i.id,this.serializeUrl(i.extractedUrl),p);r.next(_);try{i.resolve(this.errorHandler(p))}catch(w){i.reject(w)}}return Ol.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const _=Object.assign({},c);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,c,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){La(t),this.config=t.map(_f),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:c,queryParamsHandling:p,preserveFragment:_}=r,w=i||this.routerState.root,S=_?this.currentUrlTree.fragment:c;let x=null;switch(p){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}return null!==x&&(x=this.removeEmptyProps(x)),function Cg(n,e,t,r,i){if(0===t.length)return pf(e.root,e.root,e.root,r,i);const l=function WD(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qD(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Br(l.outlets,(_,w)=>{p[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:p}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===c?(l.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,l]},[]);return new qD(t,e,r)}(t);if(l.toRoot())return pf(e.root,e.root,new qt([],{}),r,i);const c=function KD(n,e,t){if(n.isAbsolute)return new ny(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new ny(l,l===e.root,0)}const r=Zu(n.commands[0])?0:1;return function ZD(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ny(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),p=c.processChildren?Ig(c.segmentGroup,c.index,l.commands):YD(c.segmentGroup,c.index,l.commands);return pf(e.root,c.segmentGroup,p,r,i)}(w,this.currentUrlTree,t,x,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=yd(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function oE(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},iE):!1===r?Object.assign({},sE):r,yd(t))return C0(this.currentUrlTree,t,i);const l=this.parseUrl(t);return C0(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Be(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,c){var p,_;if(this.disposed)return Promise.resolve(!1);let w,S,x;c?(w=c.resolve,S=c.reject,x=c.promise):x=new Promise((W,me)=>{w=W,S=me});const V=++this.navigationId;let G;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),G=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):G=0,this.setTransition({id:V,targetPageId:G,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:w,reject:S,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(W=>Promise.reject(W))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Xe(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function ea(n){return"imperative"!==n}let tc=(()=>{class n{constructor(t,r,i,l,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=c,this.commands=null,this.onChanges=new gn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Ed(this.skipLocationChange),replaceUrl:Ed(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ed(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(si),h.Y36(Ku),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),n})(),Bg=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new gn.x,this.subscription=t.events.subscribe(l=>{l instanceof Be&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,c){if(0!==t||r||i||l||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const p={skipLocationChange:Ed(this.skipLocationChange),replaceUrl:Ed(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,p),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ed(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(si),h.Y36(Ku),h.Y36(pe))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&h.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&h.uIk("target",r.target)("href",r.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),n})();function Ed(n){return""===n||!!n}let mI=(()=>{class n{constructor(t,r,i,l,c,p){this.router=t,this.element=r,this.renderer=i,this.cdr=l,this.link=c,this.linkWithHref=p,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.vpe,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof Be&&this.update()})}ngAfterContentInit(){tt(this.links.changes,this.linksWithHrefs.changes,tt(null)).pipe((0,Vi.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Bn.D)(r).pipe((0,Vi.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function my(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(si),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(tc,8),h.Y36(Bg,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(h.Suo(i,tc,5),h.Suo(i,Bg,5)),2&t){let l;h.iGM(l=h.CRH())&&(r.links=l),h.iGM(l=h.CRH())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[h.TTD]}),n})();class _y{}class wd{preload(e,t){return tt(null)}}let aE=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new rE(i,r,_=>t.triggerEvent(new Pl(_)),_=>t.triggerEvent(new hd(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(ii(t=>t instanceof Be),zu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const c=l._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,Bn.D)(i).pipe((0,Vi.J)(),(0,Ot.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?tt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ir.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(si),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(_y))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ef=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof oe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Be&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pd&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new pd(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Bl=new h.OlP("ROUTER_CONFIGURATION"),vy=new h.OlP("ROUTER_FORROOT_GUARD"),yI=[be,{provide:yg,useClass:md},{provide:si,useFactory:function bI(n,e,t,r,i,l,c={},p,_){const w=new si(null,n,e,t,r,i,mg(l));return p&&(w.urlHandlingStrategy=p),_&&(w.routeReuseStrategy=_),function EI(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,w),c.enableTracing&&w.events.subscribe(S=>{var x,V;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(V=console.groupEnd)||void 0===V||V.call(console)}),w},deps:[yg,Ju,be,h.zs3,h.Sil,Vg,Bl,[class pI{},new h.FiY],[class fI{},new h.FiY]]},Ju,{provide:Ku,useFactory:function Dd(n){return n.routerState.root},deps:[si]},aE,wd,class yy{preload(e,t){return t().pipe(Ks(()=>tt(null)))}},{provide:Bl,useValue:{enableTracing:!1}}];function by(){return new h.PXZ("Router",si)}let lE=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[yI,Ey(t),{provide:vy,useFactory:Cd,deps:[[si,new h.FiY,new h.tp0]]},{provide:Bl,useValue:r||{}},{provide:pe,useFactory:uE,deps:[fe,[new h.tBr(et),new h.FiY],Bl]},{provide:Ef,useFactory:vI,deps:[si,al,Bl]},{provide:_y,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:wd},{provide:h.PXZ,multi:!0,useFactory:by},[wy,{provide:h.ip1,multi:!0,useFactory:wI,deps:[wy]},{provide:cE,useFactory:CI,deps:[wy]},{provide:h.tb,multi:!0,useExisting:cE}]]}}static forChild(t){return{ngModule:n,providers:[Ey(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(vy,8),h.LFG(si,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function vI(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ef(n,e,t)}function uE(n,e,t={}){return t.useHash?new Ae(n,e):new We(n,e)}function Cd(n){return"guarded"}function Ey(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:Vg,multi:!0,useValue:n}]}let wy=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new gn.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(p=>r=p),l=this.injector.get(si),c=this.injector.get(Bl);return"disabled"===c.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?tt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Bl),i=this.injector.get(aE),l=this.injector.get(Ef),c=this.injector.get(si),p=this.injector.get(h.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),l.init(),c.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function wI(n){return n.appInitializer.bind(n)}function CI(n){return n.bootstrapListener.bind(n)}const cE=new h.OlP("Router Initializer");let hE=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-ahorcado"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"p"),h._uU(1,"ahorcado works!"),h.qZA())},styles:[""]}),n})(),fE=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-mayor-menor"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"p"),h._uU(1,"mayor-menor works!"),h.qZA())},styles:[""]}),n})(),pE=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-preguntados"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"p"),h._uU(1,"preguntados works!"),h.qZA())},styles:[""]}),n})(),gE=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-error"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"p"),h._uU(1,"error works!"),h.qZA())},styles:[""]}),n})();var Ee=P(5861),mE=P(6451),Ug=P(5363),DI=P(6063);class _E extends gn.x{constructor(e=1/0,t=1/0,r=DI.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:c}=this;t||(r.push(e),!i&&r.push(l.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let c=0;c<l.length&&!e.closed;c+=r?1:2)e.next(l[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const c=t.now();let p=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)p=_;p&&r.splice(0,p+1)}}}var YM=P(3099);function Cy(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,YM.B)({connector:()=>new _E(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function yE(n,e){return(0,Zi.m)(e)?ri(()=>n,e):ri(()=>n)}var Dy=P(9468),Bi=P(5813),ta=P(2011);P(5867);var nc=P(9681),$g=P(4859),Yt=P(2090),Ul=P(1877);const DE=new Map,Gg={activated:!1,tokenObservers:[]},Id={initialized:!1,enabled:!1};function Ur(n){return DE.get(n)||Gg}function Ui(n,e){DE.set(n,e)}function zg(){return Id}class qg{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new Yt.BH,yield function Qs(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fr=new Yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ic(n){if(!Ur(n).activated)throw fr.create("use-before-activation",{appName:n.name})}function Hl(n,e){return $l.apply(this,arguments)}function $l(){return($l=(0,Ee.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const l={method:"POST",body:JSON.stringify(e),headers:r};let c,p;try{c=yield fetch(n,l)}catch(x){throw fr.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==c.status)throw fr.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(x){throw fr.create("fetch-parse-error",{originalErrorMessage:x.message})}const _=p.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const w=1e3*Number(_[1]),S=Date.now();return{token:p.attestationToken,expireTimeMillis:S+w,issuedAtTimeMillis:S}})).apply(this,arguments)}function TE(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Sd="firebase-app-check-store";let Cf=null;function My(){return Cf||(Cf=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(fr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Sd,{keyPath:"compositeKey"})}}catch(t){e(fr.create("storage-open",{originalErrorMessage:t.message}))}}),Cf)}function Wg(){return(Wg=(0,Ee.Z)(function*(n,e){const r=(yield My()).transaction(Sd,"readwrite"),l=r.objectStore(Sd).put({compositeKey:n,value:e});return new Promise((c,p)=>{l.onsuccess=_=>{c()},r.onerror=_=>{var w;p(fr.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const Df=new Ul.Yd("@firebase/app-check");function PE(n,e){return(0,Yt.hl)()?function SI(n,e){return function OE(n,e){return Wg.apply(this,arguments)}(function Oy(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Df.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Kg(){return zg().enabled}function Zg(){return Py.apply(this,arguments)}function Py(){return(Py=(0,Ee.Z)(function*(){const n=zg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rx={error:"UNKNOWN_ERROR"};function ix(n){return Yt.US.encodeString(JSON.stringify(n),!1)}function Yg(n){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,Ee.Z)(function*(n,e=!1){const t=n.app;ic(t);const r=Ur(t);let l,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&Xg(_)&&(i=_)}if(!e&&i&&Xg(i))return{token:i.token};let p,c=!1;if(Kg()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Hl(TE(t,yield Zg()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),c=!0);const _=yield r.exchangeTokenPromise;return yield PE(t,_),Ui(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),c=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Df.warn(_.message):Df.error(_),l=_}return i?(p={token:i.token},Ui(t,Object.assign(Object.assign({},r),{token:i})),yield PE(t,i)):p=FE(l),c&&Fy(t,p),p})).apply(this,arguments)}function Ny(n,e){const t=Ur(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ui(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function sc(n){const{app:e}=n,t=Ur(e);let r=t.tokenRefresher;r||(r=function xI(n){const{app:e}=n;return new qg((0,Ee.Z)(function*(){let r;if(r=Ur(e).token?yield Yg(n,!0):yield Yg(n),r.error)throw r.error}),()=>!0,()=>{const t=Ur(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ui(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Fy(n,e){const t=Ur(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Xg(n){return n.expireTimeMillis-Date.now()>0}function FE(n){return{token:ix(rx),error:n}}class Jg{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ur(this.app);for(const t of e)Ny(this.app,t.next);return Promise.resolve()}}const im="app-check-internal";!function jE(){(0,nc._registerComponent)(new $g.wA("app-check",n=>function OI(n,e){return new Jg(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(im).initialize()})),(0,nc._registerComponent)(new $g.wA(im,n=>function LE(n){return{getToken:e=>Yg(n,e),addTokenListener:e=>function NE(n,e,t,r){const{app:i}=n,l=Ur(i),c={next:t,error:r,type:e};if(Ui(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,c]})),l.token&&Xg(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),sc(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>sc(n))}(n,"INTERNAL",e),removeTokenListener:e=>Ny(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nc.registerVersion)("@firebase/app-check","0.5.6")}();class sm{constructor(){return(0,Bi.vb)("app-check")}}"undefined"!=typeof window&&window,P(127);const zy=new h.OlP("angularfire2.auth.use-emulator"),qy=new h.OlP("angularfire2.auth.settings"),Wy=new h.OlP("angularfire2.auth.tenant-id"),Ky=new h.OlP("angularfire2.auth.langugage-code"),KI=new h.OlP("angularfire2.auth.use-device-language"),qE=new h.OlP("angularfire.auth.persistence"),WE=(n,e,t,r,i,l,c,p)=>(0,ta.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),c)for(const[w,S]of Object.entries(c))_.settings[w]=S;return p&&_.setPersistence(p),_},[t,r,i,l,c,p]);let om=(()=>{class n{constructor(t,r,i,l,c,p,_,w,S,x,V,G){const W=new gn.x,me=tt(void 0).pipe((0,Ug.Q)(c.outsideAngular),ri(()=>l.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,820)))),(0,Ot.U)(()=>(0,ta.on)(t,l,r)),(0,Ot.U)(Fe=>WE(Fe,l,p,w,S,x,_,V)),Cy({bufferSize:1,refCount:!1}));if(dr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=tt(null);else{me.pipe(b()).subscribe();const pt=me.pipe(ri(lt=>lt.getRedirectResult().then(Vt=>Vt,()=>null)),Bi.iC,Cy({bufferSize:1,refCount:!1})),mt=me.pipe(ri(lt=>new vn.y(Vt=>({unsubscribe:l.runOutsideAngular(()=>lt.onAuthStateChanged($t=>Vt.next($t),$t=>Vt.error($t),()=>Vt.complete()))})))),Ct=me.pipe(ri(lt=>new vn.y(Vt=>({unsubscribe:l.runOutsideAngular(()=>lt.onIdTokenChanged($t=>Vt.next($t),$t=>Vt.error($t),()=>Vt.complete()))}))));this.authState=pt.pipe(yE(mt),(0,Dy.R)(c.outsideAngular),(0,Ug.Q)(c.insideAngular)),this.user=pt.pipe(yE(Ct),(0,Dy.R)(c.outsideAngular),(0,Ug.Q)(c.insideAngular)),this.idToken=this.user.pipe(ri(lt=>lt?(0,Bn.D)(lt.getIdToken()):tt(null))),this.idTokenResult=this.user.pipe(ri(lt=>lt?(0,Bn.D)(lt.getIdTokenResult()):tt(null))),this.credential=(0,mE.T)(pt,W,this.authState.pipe(ii(lt=>!lt))).pipe((0,Ot.U)(lt=>(null==lt?void 0:lt.user)?lt:null),(0,Dy.R)(c.outsideAngular),(0,Ug.Q)(c.insideAngular))}return(0,ta.pX)(this,me,l,{spy:{apply:(Fe,pt,mt)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&mt.then(Ct=>W.next(Ct))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ta.Dh),h.LFG(ta.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Bi.HU),h.LFG(zy,8),h.LFG(qy,8),h.LFG(Wy,8),h.LFG(Ky,8),h.LFG(KI,8),h.LFG(qE,8),h.LFG(sm,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var rr=P(4986);function am(){return(0,an.e)((n,e)=>{let t,r=!1;n.subscribe((0,bn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function KE(n,e=Dr.y){return n=null!=n?n:ZI,(0,an.e)((t,r)=>{let i,l=!0;t.subscribe((0,bn.x)(r,c=>{const p=e(c);(l||!n(i,p))&&(l=!1,i=p,r.next(c))}))})}function ZI(n,e){return n===e}P(820);var Ye,QI=P(3942),ZE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ra={},Zy=Zy||{},kt=ZE||self;function Sf(){}function Yy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function xd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var lm="closure_uid_"+(1e9*Math.random()>>>0),Qy=0;function ia(n,e,t){return n.call.apply(n.bind,arguments)}function XI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ai(n,e,t){return(ai=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:XI).apply(null,arguments)}function vs(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Sn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function jr(){this.s=this.s,this.o=this.o}var QE={};jr.prototype.s=!1,jr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function dx(n){return Object.prototype.hasOwnProperty.call(n,lm)&&n[lm]||(n[lm]=++Qy)}(this);delete QE[n]}},jr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},JE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function ew(n){return Array.prototype.concat.apply([],arguments)}function Mf(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Gl(n){return/^[\s\xa0]*$/.test(n)}var Di,tw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ci(n,e){return-1!=n.indexOf(e)}function Xy(n,e){return n<e?-1:n>e?1:0}e:{var Jy=kt.navigator;if(Jy){var xf=Jy.userAgent;if(xf){Di=xf;break e}}Di=""}function ev(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function tv(n){const e={};for(const t in n)e[t]=n[t];return e}var nv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function um(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<nv.length;l++)t=nv[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Of(n){return Of[" "](n),n}Of[" "]=Sf;var dm,n,rw=Ci(Di,"Opera"),oc=Ci(Di,"Trident")||Ci(Di,"MSIE"),rv=Ci(Di,"Edge"),cm=rv||oc,iv=Ci(Di,"Gecko")&&!(Ci(Di.toLowerCase(),"webkit")&&!Ci(Di,"Edge"))&&!(Ci(Di,"Trident")||Ci(Di,"MSIE"))&&!Ci(Di,"Edge"),iw=Ci(Di.toLowerCase(),"webkit")&&!Ci(Di,"Edge");function sv(){var n=kt.document;return n?n.documentMode:void 0}e:{var ov="",av=(n=Di,iv?/rv:([^\);]+)(\)|;)/.exec(n):rv?/Edge\/([\d\.]+)/.exec(n):oc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):iw?/WebKit\/(\S+)/.exec(n):rw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(av&&(ov=av?av[1]:""),oc){var lv=sv();if(null!=lv&&lv>parseFloat(ov)){dm=String(lv);break e}}dm=ov}var eT={};var nT=kt.document&&oc&&(sv()||parseInt(dm,10))||void 0,rT=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kt.addEventListener("test",Sf,e),kt.removeEventListener("test",Sf,e)}catch(t){}return n}();function Ii(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Rf(n,e){if(Ii.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(iv){e:{try{Of(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:iT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Rf.Z.h.call(this)}}Ii.prototype.h=function(){this.defaultPrevented=!0},Sn(Rf,Ii);var iT={2:"touch",3:"pen",4:"mouse"};Rf.prototype.h=function(){Rf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kf="closure_listenable_"+(1e6*Math.random()|0),sT=0;function oT(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++sT,this.ca=this.fa=!1}function hm(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function fm(n){this.src=n,this.g={},this.h=0}function pm(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=XE(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(hm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function gm(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}fm.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var c=gm(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new oT(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var mm="closure_lm_"+(1e6*Math.random()|0),_m={};function cv(n,e,t,r,i){if(r&&r.once)return hv(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)cv(n,e[l],t,r,i);return null}return t=zl(t),n&&n[kf]?n.N(e,t,xd(r)?!!r.capture:!!r,i):dv(n,e,t,!1,r,i)}function dv(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var c=xd(i)?!!i.capture:!!i,p=pv(n);if(p||(n[mm]=p=new fm(n)),(t=p.add(e,t,r,c,l)).proxy)return t;if(r=function ow(){var e=ac;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)rT||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ym(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hv(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)hv(n,e[l],t,r,i);return null}return t=zl(t),n&&n[kf]?n.O(e,t,xd(r)?!!r.capture:!!r,i):dv(n,e,t,!0,r,i)}function fv(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)fv(n,e[l],t,r,i);else r=xd(r)?!!r.capture:!!r,t=zl(t),n&&n[kf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=gm(l=n.g[e],t,r,i))&&(hm(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=pv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=gm(e,t,r,i)),(t=-1<n?e[n]:null)&&Pf(t))}function Pf(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[kf])pm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ym(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=pv(e))?(pm(t,n),0==t.h&&(t.src=null,e[mm]=null)):hm(n)}}}function ym(n){return n in _m?_m[n]:_m[n]="on"+n}function ac(n,e){if(n.ca)n=!0;else{e=new Rf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Pf(n),n=t.call(r,e)}return n}function pv(n){return(n=n[mm])instanceof fm?n:null}var gv="__closure_events_fn_"+(1e9*Math.random()>>>0);function zl(n){return"function"==typeof n?n:(n[gv]||(n[gv]=function(e){return n.handleEvent(e)}),n[gv])}function li(){jr.call(this),this.i=new fm(this),this.P=this,this.I=null}function Tr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ii(e,n);else if(e instanceof Ii)e.target=e.target||n;else{var i=e;um(e=new Ii(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var c=e.g=t[l];i=mv(c,r,!0,e)&&i}if(i=mv(c=e.g=n,r,!0,e)&&i,i=mv(c,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=mv(c=e.g=t[l],r,!1,e)&&i}function mv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.ca&&c.capture==t){var p=c.listener,_=c.ia||c.src;c.fa&&pm(n.i,c),i=!1!==p.call(_,r)&&i}}return i&&!r.defaultPrevented}Sn(li,jr),li.prototype[kf]=!0,li.prototype.removeEventListener=function(n,e,t,r){fv(this,n,e,t,r)},li.prototype.M=function(){if(li.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)hm(t[r]);delete n.g[e],n.h--}}this.I=null},li.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},li.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var vm=kt.JSON.stringify;function aw(){var n=Nf;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Od,bt=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new aT,n=>n.reset());class aT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function lT(n){kt.setTimeout(()=>{throw n},0)}function _v(n,e){Od||function uT(){var n=kt.Promise.resolve(void 0);Od=function(){n.then(Xn)}}(),Rd||(Od(),Rd=!0),Nf.add(n,e)}var Rd=!1,Nf=new class hx{constructor(){this.h=this.g=null}add(e,t){const r=bt.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Xn(){for(var n;n=aw();){try{n.h.call(n.g)}catch(t){lT(t)}var e=bt;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Rd=!1}function yv(n,e){li.call(this),this.h=n||1,this.g=e||kt,this.j=ai(this.kb,this),this.l=Date.now()}function bm(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function vv(n,e,t){if("function"==typeof n)t&&(n=ai(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ai(n.handleEvent,n)}return 2147483647<Number(e)?-1:kt.setTimeout(n,e||0)}function lw(n){n.g=vv(()=>{n.g=null,n.i&&(n.i=!1,lw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Sn(yv,li),(Ye=yv.prototype).da=!1,Ye.S=null,Ye.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tr(this,"tick"),this.da&&(bm(this),this.start()))}},Ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.M=function(){yv.Z.M.call(this),bm(this),delete this.g};class uw extends jr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lw(this)}M(){super.M(),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kd(n){jr.call(this),this.h=n,this.g={}}Sn(kd,jr);var bv=[];function Ev(n,e,t,r){Array.isArray(t)||(t&&(bv[0]=t.toString()),t=bv);for(var i=0;i<t.length;i++){var l=cv(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function cw(n){ev(n.g,function(e,t){this.g.hasOwnProperty(t)&&Pf(e)},n),n.g={}}function Em(){this.g=!0}function Pd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var c=1;c<i.length;c++)i[c]=""}}}return vm(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}kd.prototype.M=function(){kd.Z.M.call(this),cw(this)},kd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Em.prototype.Aa=function(){this.g=!1},Em.prototype.info=function(){};var sa={},wv=null;function Lf(){return wv=wv||new li}function Cv(n){Ii.call(this,sa.Ma,n)}function Vf(n){const e=Lf();Tr(e,new Cv(e,n))}function Nd(n,e){Ii.call(this,sa.STAT_EVENT,n),this.stat=e}function Ar(n){const e=Lf();Tr(e,new Nd(e,n))}function dw(n,e){Ii.call(this,sa.Na,n),this.size=e}function Bf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){n()},e)}sa.Ma="serverreachability",Sn(Cv,Ii),sa.STAT_EVENT="statevent",Sn(Nd,Ii),sa.Na="timingevent",Sn(dw,Ii);var wm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Dv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Cm(){}function hw(){}Cm.prototype.h=null;var fw,Fd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Tv(){Ii.call(this,"d")}function Av(){Ii.call(this,"c")}function Sv(){}function Dm(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new kd(this),this.P=pw,this.W=new yv(n=cm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fT}function fT(){this.i=null,this.g="",this.h=!1}Sn(Tv,Ii),Sn(Av,Ii),Sn(Sv,Cm),Sv.prototype.g=function(){return new XMLHttpRequest},Sv.prototype.i=function(){return{}},fw=new Sv;var pw=45e3,Ld={},Im={};function Mv(n,e,t){n.K=1,n.v=Sm(Mo(e)),n.s=t,n.U=!0,xv(n,null)}function xv(n,e){n.F=Date.now(),Uf(n),n.A=Mo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),ww(t.h,"t",r),n.C=0,t=n.l.H,n.h=new fT,n.g=Nw(n.l,t?e:null,!n.s),0<n.O&&(n.L=new uw(ai(n.Ia,n,n.g),n.O)),Ev(n.V,n.g,"readystatechange",n.gb),e=n.H?tv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Vf(1),function cT(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var c="",p=l.split("&"),_=0;_<p.length;_++){var w=p[_].split("=");if(1<w.length){var S=w[0];w=w[1];var x=S.split("_");c=2<=x.length&&"type"==x[1]?c+(S+"=")+w+"&":c+(S+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Vd(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function gw(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=pT(n,t),i==Im){4==e&&(n.o=4,Ar(14),r=!1),Pd(n.j,n.m,null,"[Incomplete Response]");break}if(i==Ld){n.o=4,Ar(15),Pd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Pd(n.j,n.m,i,null),Ov(n,i)}Vd(n)&&i!=Im&&i!=Ld&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ar(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Rw(e),e.L=!0,Ar(11))):(Pd(n.j,n.m,t,"[Invalid Chunked Response]"),lc(n),Bd(n))}function pT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Im:(t=Number(e.substring(t,r)),isNaN(t)?Ld:(r+=1)+t>e.length?Im:(e=e.substr(r,t),n.C=r+t,e))}function Uf(n){n.Y=Date.now()+n.P,mw(n,n.P)}function mw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bf(ai(n.eb,n),e)}function Tm(n){n.B&&(kt.clearTimeout(n.B),n.B=null)}function Bd(n){0==n.l.G||n.I||Yv(n.l,n)}function lc(n){Tm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,bm(n.W),cw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ov(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||zf(t.i,n)))if(t.I=n.N,!n.J&&zf(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Bf(ai(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Zv(t),km(t)}Wv(t),Ar(18)}if(1>=Lv(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else Wl(t,11)}else if((n.J||t.g==n)&&Zv(t),!Gl(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const S=w[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const x=w[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const V=w[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const W=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var l=r.i;!l.g&&(Ci(W,"spdy")||Ci(W,"quic")||Ci(W,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Vv(l,l.h),l.h=null))}if(r.D){const me=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;me&&(r.sa=me,jn(r.F,r.D,me))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=Pw(r,r.H?r.la:null,r.W),c.J){Dw(r.i,c);var p=c,_=r.K;_&&p.setTimeout(_),p.B&&(Tm(p),Uf(p)),r.g=c}else qv(r);0<t.l.length&&Pm(t)}else"stop"!=w[0]&&"close"!=w[0]||Wl(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Wl(t,7):Qf(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}Vf(4)}catch(w){}}function Rv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Yy(n)||"string"==typeof n)JE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Yy(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function Ud(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Yy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function uc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof uc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function kv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ql(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)ql(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function ql(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ye=Dm.prototype).setTimeout=function(n){this.P=n},Ye.gb=function(n){n=n.target;const e=this.L;e&&3==bs(n)?e.l():this.Ia(n)},Ye.Ia=function(n){try{if(n==this.g)e:{const S=bs(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>S)&&(3!=S||cm||this.g&&(this.h.h||this.g.ga()||Mw(this.g)))){this.I||4!=S||7==e||Vf(8==e||0>=x?3:2),Tm(this);var t=this.g.ba();this.N=t;t:if(Vd(this)){var r=Mw(this.g);n="";var i=r.length,l=4==bs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){lc(this),Bd(this);var c="";break t}this.h.i=new kt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function Ff(n,e,t,r,i,l,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gl(p)){var w=p;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Ar(12),lc(this),Bd(this);break e}Pd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ov(this,t)}this.U?(gw(this,S,c),cm&&this.i&&3==S&&(Ev(this.V,this.W,"tick",this.fb),this.W.start())):(Pd(this.j,this.m,c,null),Ov(this,c)),4==S&&lc(this),this.i&&!this.I&&(4==S?Yv(this.l,this):(this.i=!1,Uf(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),lc(this),Bd(this)}}}catch(S){}},Ye.fb=function(){if(this.g){var n=bs(this.g),e=this.g.ga();this.C<e.length&&(Tm(this),gw(this,n,e),this.i&&4!=n&&Uf(this))}},Ye.cancel=function(){this.I=!0,lc(this)},Ye.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function dT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vf(3),Ar(17)),lc(this),this.o=2,Bd(this)):mw(this,this.Y-n)},(Ye=uc.prototype).R=function(){kv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ye.T=function(){return kv(this),this.g.concat()},Ye.get=function(n,e){return ql(this.h,n)?this.h[n]:e},Ye.set=function(n,e){ql(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ye.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var _w=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof cc){this.g=void 0!==e?e:n.g,Am(this,n.j),this.s=n.s,jf(this,n.i),Hf(this,n.m),this.l=n.l,e=n.h;var t=new Gf;t.i=e.i,e.g&&(t.g=new uc(e.g),t.h=e.h),vw(this,t),this.o=n.o}else n&&(t=String(n).match(_w))?(this.g=!!e,Am(this,t[1]||"",!0),this.s=jd(t[2]||""),jf(this,t[3]||"",!0),Hf(this,t[4]),this.l=jd(t[5]||"",!0),vw(this,t[6]||"",!0),this.o=jd(t[7]||"")):(this.g=!!e,this.h=new Gf(null,this.g))}function Mo(n){return new cc(n)}function Am(n,e,t){n.j=t?jd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function jf(n,e,t){n.i=t?jd(e,!0):e}function Hf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function vw(n,e,t){e instanceof Gf?(n.h=e,function ET(n,e){e&&!n.j&&(ja(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Nv(this,r),ww(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=$f(e,vT)),n.h=new Gf(e,n.g))}function jn(n,e,t){n.h.set(e,t)}function Sm(n){return jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function jd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $f(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,mT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}cc.prototype.toString=function(){var n=[],e=this.j;e&&n.push($f(e,bw,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push($f(e,bw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push($f(t,"/"==t.charAt(0)?yT:_T,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",$f(t,bT)),n.join("")};var bw=/[#\/\?@]/g,_T=/[#\?:]/g,yT=/[#\?]/g,vT=/[#\?@]/g,bT=/#/g;function Gf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ja(n){n.g||(n.g=new uc,n.h=0,n.i&&function yw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Nv(n,e){ja(n),e=dc(n,e),ql(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ql((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&kv(n)))}function Ew(n,e){return ja(n),e=dc(n,e),ql(n.g.h,e)}function ww(n,e,t){Nv(n,e),0<t.length&&(n.i=null,n.g.set(dc(n,e),Mf(t)),n.h+=t.length)}function dc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Cw(n){this.l=n||Fv,n=kt.PerformanceNavigationTiming?0<(n=kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kt.g&&kt.g.Ea&&kt.g.Ea()&&kt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ye=Gf.prototype).add=function(n,e){ja(this),this.i=null,n=dc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ye.forEach=function(n,e){ja(this),this.g.forEach(function(t,r){JE(t,function(i){n.call(e,i,r,this)},this)},this)},Ye.T=function(){ja(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},Ye.R=function(n){ja(this);var e=[];if("string"==typeof n)Ew(this,n)&&(e=ew(e,this.g.get(dc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=ew(e,n[t])}return e},Ye.set=function(n,e){return ja(this),this.i=null,Ew(this,n=dc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ye.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var c=i;""!==r[l]&&(c+="="+encodeURIComponent(String(r[l]))),n.push(c)}}return this.i=n.join("&")};var Fv=10;function Mm(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Lv(n){return n.h?1:n.g?n.g.size:0}function zf(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Vv(n,e){n.g?n.g.add(e):n.h=e}function Dw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xm(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Mf(n.i)}function Bv(){}function Iw(){this.g=new Bv}function CT(n,e,t){const r=t||"";try{Rv(n,function(i,l){let c=i;xd(i)&&(c=vm(i)),e.push(r+l+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Om(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function Hd(n){this.l=n.$b||null,this.j=n.ib||!1}function Uv(n,e){li.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=jv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cw.prototype.cancel=function(){if(this.i=xm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Bv.prototype.stringify=function(n){return kt.JSON.stringify(n,void 0)},Bv.prototype.parse=function(n){return kt.JSON.parse(n,void 0)},Sn(Hd,Cm),Hd.prototype.g=function(){return new Uv(this.l,this.j)},Hd.prototype.i=function(n){return function(){return n}}({}),Sn(Uv,li);var jv=0;function qf(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Wf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,oa(n)}function oa(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ye=Uv.prototype).open=function(n,e){if(this.readyState!=jv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,oa(this)},Ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||kt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wf(this)),this.readyState=jv},Ye.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==kt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qf(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ye.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Wf(this):oa(this),3==this.readyState&&qf(this)}},Ye.Ua=function(n){this.g&&(this.response=this.responseText=n,Wf(this))},Ye.Ta=function(n){this.g&&(this.response=n,Wf(this))},Ye.ha=function(){this.g&&Wf(this)},Ye.setRequestHeader=function(n,e){this.v.append(n,e)},Ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Uv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Kf=kt.JSON.parse;function pr(n){li.call(this),this.headers=new uc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=DT,this.K=this.L=!1}Sn(pr,li);var DT="",Aw=/^https?$/i,IT=["POST","PUT"];function AT(n){return"content-type"==n.toLowerCase()}function Sw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Hv(n),$d(n)}function Hv(n){n.D||(n.D=!0,Tr(n,"complete"),Tr(n,"error"))}function $v(n){if(n.h&&void 0!==Zy&&(!n.C[1]||4!=bs(n)||2!=n.ba()))if(n.v&&4==bs(n))vv(n.Fa,0,n);else if(Tr(n,"readystatechange"),4==bs(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(_w)[1]||null;if(!i&&kt.self&&kt.self.location){var l=kt.self.location.protocol;i=l.substr(0,l.length-1)}r=!Aw.test(i?i.toLowerCase():"")}t=r}if(t)Tr(n,"complete"),Tr(n,"success");else{n.m=6;try{var c=2<bs(n)?n.g.statusText:""}catch(_){c=""}n.j=c+" ["+n.ba()+"]",Hv(n)}}finally{$d(n)}}}function $d(n,e){if(n.g){Zf(n);const t=n.g,r=n.C[0]?Sf:null;n.g=null,n.C=null,e||Tr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Zf(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(kt.clearTimeout(n.A),n.A=null)}function bs(n){return n.g?n.g.readyState:0}function Mw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case DT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Rm(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function xw(n){let e="";return ev(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):jn(n,e,t))}function Yf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ow(n){this.za=0,this.l=[],this.h=new Em,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yf("baseRetryDelayMs",5e3,n),this.$a=Yf("retryDelaySeedMs",1e4,n),this.Ya=Yf("forwardChannelMaxRetries",2,n),this.ra=Yf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Cw(n&&n.concurrentRequestLimit),this.Ca=new Iw,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Qf(n){if(ST(n),3==n.G){var e=n.V++,t=Mo(n.F);jn(t,"SID",n.J),jn(t,"RID",e),jn(t,"TYPE","terminate"),aa(n,t),(e=new Dm(n,n.h,e,void 0)).K=2,e.v=Sm(Mo(t)),t=!1,kt.navigator&&kt.navigator.sendBeacon&&(t=kt.navigator.sendBeacon(e.v.toString(),"")),!t&&kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Nw(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Uf(e)}kw(n)}function km(n){n.g&&(Rw(n),n.g.cancel(),n.g=null)}function ST(n){km(n),n.u&&(kt.clearTimeout(n.u),n.u=null),Zv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&kt.clearTimeout(n.m),n.m=null)}function Gv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Pm(n)}function Pm(n){Mm(n.i)||n.m||(n.m=!0,_v(n.Ha,n),n.C=0)}function zv(n,e){var t;t=e?e.m:n.V++;const r=Mo(n.F);jn(r,"SID",n.J),jn(r,"RID",t),jn(r,"AID",n.U),aa(n,r),n.o&&n.s&&Rm(r,n.o,n.s),t=new Dm(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=MT(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Vv(n.i,t),Mv(t,r,e)}function aa(n,e){n.j&&Rv({},function(t,r){jn(e,r,t)})}function MT(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ai(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const c=["count="+t];-1==l?0<t?(l=i[0].h,c.push("ofs="+l)):l=0:c.push("ofs="+l);let p=!0;for(let _=0;_<t;_++){let w=i[_].h;const S=i[_].g;if(w-=l,0>w)l=Math.max(0,i[_].h-100),p=!1;else try{CT(S,c,"req"+w+"_")}catch(x){r&&r(S)}}if(p){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function qv(n){n.g||n.u||(n.Y=1,_v(n.Ga,n),n.A=0)}function Wv(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Bf(ai(n.Ga,n),Nm(n,n.A)),n.A++,0))}function Rw(n){null!=n.B&&(kt.clearTimeout(n.B),n.B=null)}function Kv(n){n.g=new Dm(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Mo(n.oa);jn(e,"RID","rpc"),jn(e,"SID",n.J),jn(e,"CI",n.N?"0":"1"),jn(e,"AID",n.U),aa(n,e),jn(e,"TYPE","xmlhttp"),n.o&&n.s&&Rm(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Sm(Mo(e)),t.s=null,t.U=!0,xv(t,n)}function Zv(n){null!=n.v&&(kt.clearTimeout(n.v),n.v=null)}function Yv(n,e){var t=null;if(n.g==e){Zv(n),Rw(n),n.g=null;var r=2}else{if(!zf(n.i,e))return;t=e.D,Dw(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Tr(r=Lf(),new dw(r,t,e,i)),Pm(n)}else qv(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Gd(n,e){return!(Lv(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Bf(ai(n.Ha,n,e),Nm(n,n.C)),n.C++,0)))}(n,e)||2==r&&Wv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Wl(n,5);break;case 4:Wl(n,10);break;case 3:Wl(n,6);break;default:Wl(n,2)}}function Nm(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Wl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ai(n.jb,n);t||(t=new cc("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||Am(t,"https"),Sm(t)),function Tw(n,e){const t=new Em;if(kt.Image){const r=new Image;r.onload=vs(Om,t,r,"TestLoadImage: loaded",!0,e),r.onerror=vs(Om,t,r,"TestLoadImage: error",!1,e),r.onabort=vs(Om,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=vs(Om,t,r,"TestLoadImage: timeout",!1,e),kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ar(2);n.G=0,n.j&&n.j.va(e),kw(n),ST(n)}function kw(n){n.G=0,n.I=-1,n.j&&((0!=xm(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Mf(n.l),n.l.length=0),n.j.ua())}function Pw(n,e,t){let r=function Pv(n){return n instanceof cc?Mo(n):new cc(n,void 0)}(t);if(""!=r.i)e&&jf(r,e+"."+r.i),Hf(r,r.m);else{const i=kt.location;r=function gT(n,e,t,r){var i=new cc(null,void 0);return n&&Am(i,n),e&&jf(i,e),t&&Hf(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&ev(n.aa,function(i,l){jn(r,l,i)}),t=n.sa,(e=n.D)&&t&&jn(r,e,t),jn(r,"VER",n.ma),aa(n,r),r}function Nw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pr(t&&n.Ba&&!n.qa?new Hd({ib:!0}):n.qa)).L=n.H,e}function Fw(){}function Fm(){if(oc&&!(10<=Number(nT)))throw Error("Environmental error: no available transport.")}function Es(n,e){li.call(this),this.g=new Ow(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Gl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gl(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new zd(this)}function Lw(n){Tv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Vw(){Av.call(this),this.status=1}function zd(n){this.g=n}(Ye=pr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fw.g(),this.C=function Iv(n){return n.h||(n.h=n.i())}(this.u?this.u:fw),this.g.onreadystatechange=ai(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Sw(this,l)}n=t||"";const i=new uc(this.headers);r&&Rv(r,function(l,c){i.set(c,l)}),r=function JI(n){e:{var e=AT;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=kt.FormData&&n instanceof kt.FormData,!(0<=XE(IT,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,c){this.g.setRequestHeader(c,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zf(this),0<this.B&&((this.K=function TT(n){return oc&&function tT(){return function nw(n){var e=eT;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=tw(String(dm)).split("."),t=tw("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",l=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Xy(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Xy(0==i[2].length,0==l[2].length)||Xy(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ai(this.pa,this)):this.A=vv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Sw(this,l)}},Ye.pa=function(){void 0!==Zy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tr(this,"timeout"),this.abort(8))},Ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Tr(this,"complete"),Tr(this,"abort"),$d(this))},Ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$d(this,!0)),pr.Z.M.call(this)},Ye.Fa=function(){this.s||(this.F||this.v||this.l?$v(this):this.cb())},Ye.cb=function(){$v(this)},Ye.ba=function(){try{return 2<bs(this)?this.g.status:-1}catch(n){return-1}},Ye.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ye.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Kf(e)}},Ye.Da=function(){return this.m},Ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ye=Ow.prototype).ma=8,Ye.G=1,Ye.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ye.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Dm(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=tv(l),um(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=MT(this,i,e),jn(t=Mo(this.F),"RID",n),jn(t,"CVER",22),this.D&&jn(t,"X-HTTP-Session-Id",this.D),aa(this,t),this.o&&l&&Rm(t,this.o,l),Vv(this.i,i),this.Ra&&jn(t,"TYPE","init"),this.ja?(jn(t,"$req",e),jn(t,"SID","null"),i.$=!0,Mv(i,t,null)):Mv(i,t,e),this.G=2}}else 3==this.G&&(n?zv(this,n):0==this.l.length||Mm(this.i)||zv(this))},Ye.Ga=function(){if(this.u=null,Kv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Bf(ai(this.bb,this),n)}},Ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ar(10),km(this),Kv(this))},Ye.ab=function(){null!=this.v&&(this.v=null,km(this),Wv(this),Ar(19))},Ye.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ar(2)):(this.h.info("Failed to ping google.com"),Ar(1))},(Ye=Fw.prototype).xa=function(){},Ye.wa=function(){},Ye.va=function(){},Ye.ua=function(){},Ye.Oa=function(){},Fm.prototype.g=function(n,e){return new Es(n,e)},Sn(Es,li),Es.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),_v(ai(n.hb,n,e))),Ar(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Pw(n,null,n.W),Pm(n)},Es.prototype.close=function(){Qf(this.g)},Es.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Gv(this.g,e)}else this.v?((e={}).__data__=vm(n),Gv(this.g,e)):Gv(this.g,n)},Es.prototype.M=function(){this.g.j=null,delete this.j,Qf(this.g),delete this.g,Es.Z.M.call(this)},Sn(Lw,Tv),Sn(Vw,Av),Sn(zd,Fw),zd.prototype.xa=function(){Tr(this.g,"a")},zd.prototype.wa=function(n){Tr(this.g,new Lw(n))},zd.prototype.va=function(n){Tr(this.g,new Vw(n))},zd.prototype.ua=function(){Tr(this.g,"b")},Fm.prototype.createWebChannel=Fm.prototype.g,Es.prototype.send=Es.prototype.u,Es.prototype.open=Es.prototype.m,Es.prototype.close=Es.prototype.close,wm.NO_ERROR=0,wm.TIMEOUT=8,wm.HTTP_ERROR=6,Dv.COMPLETE="complete",hw.EventType=Fd,Fd.OPEN="a",Fd.CLOSE="b",Fd.ERROR="c",Fd.MESSAGE="d",li.prototype.listen=li.prototype.N,pr.prototype.listenOnce=pr.prototype.O,pr.prototype.getLastError=pr.prototype.La,pr.prototype.getLastErrorCode=pr.prototype.Da,pr.prototype.getStatus=pr.prototype.ba,pr.prototype.getResponseJson=pr.prototype.Qa,pr.prototype.getResponseText=pr.prototype.ga,pr.prototype.send=pr.prototype.ea;var Xf=ra.createWebChannelTransport=function(){return new Fm},Bw=ra.getStatEventTarget=function(){return Lf()},Lm=ra.ErrorCode=wm,Uw=ra.EventType=Dv,jw=ra.Event=sa,Qv=ra.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Hw=ra.FetchXmlHttpFactory=Hd,Vm=ra.WebChannel=hw,$w=ra.XhrIo=pr;const Gw="@firebase/firestore";class ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");let qd="9.6.11";const Kl=new Ul.Yd("@firebase/firestore");function hc(){return Kl.logLevel}function Ne(n,...e){if(Kl.logLevel<=Ul.in.DEBUG){const t=e.map(ep);Kl.debug(`Firestore (${qd}): ${n}`,...t)}}function In(n,...e){if(Kl.logLevel<=Ul.in.ERROR){const t=e.map(ep);Kl.error(`Firestore (${qd}): ${n}`,...t)}}function Jf(n,...e){if(Kl.logLevel<=Ul.in.WARN){const t=e.map(ep);Kl.warn(`Firestore (${qd}): ${n}`,...t)}}function ep(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Je(n="Unexpected state"){const e=`FIRESTORE (${qd}) INTERNAL ASSERTION FAILED: `+n;throw In(e),new Error(e)}function St(n,e){n||Je()}function qe(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class zw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ui.UNAUTHENTICATED))}shutdown(){}}class Ww{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xv{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const w=c;e.enqueueRetryable((0,Ee.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},_=w=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St("string"==typeof r.accessToken),new zw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(null===e||"string"==typeof e),new ui(e)}}class Kw{constructor(e,t,r){this.type="FirstParty",this.user=ui.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class RT{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Kw(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fx{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.p;return this.p=l.token,Ne("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St("string"==typeof t.token),this.p=t.token,new Zw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ji{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Qw(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ji.A=-1;class Bm{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Qw(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Nt(n,e){return n<e?-1:n>e?1:0}function Wd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Xw(n){return n+"\0"}class ir{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ir.fromMillis(Date.now())}static fromDate(e){return ir.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ir(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new ir(0,0))}static max(){return new It(new ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Jv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Kd{constructor(e,t,r){void 0===t?t=0:t>e.length&&Je(),void 0===r?r=e.length-t:r>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Kd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),c=t.get(i);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends Kd{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const Jw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends Kd{construct(e,t,r){return new $r(e,t,r)}static isValidIdentifier(e){return Jw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $r(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(l(),i++)}if(l(),c)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $r(t)}static emptyPath(){return new $r([])}}class fc{constructor(e){this.fields=e,e.sort($r.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Sr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Sr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const tC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zl(n){if(St(!!n),"string"==typeof n){let e=0;const t=tC.exec(n);if(St(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(n.seconds),nanos:en(n.nanos)}}function en(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Xs(n){return"string"==typeof n?Sr.fromBase64String(n):Sr.fromUint8Array(n)}function tb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function nC(n){const e=n.mapValue.fields.__previous_value__;return tb(e)?nC(e):e}function Um(n){const e=Zl(n.mapValue.fields.__local_write_time__.timestampValue);return new ir(e.seconds,e.nanos)}class tp{constructor(e,t,r,i,l,c,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=_}}class $a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}function Ga(n){return null==n}function np(n){return 0===n&&1/n==-1/0}function nb(n){return"number"==typeof n&&Number.isInteger(n)&&!np(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class He{constructor(e){this.path=e}static fromPath(e){return new He(tn.fromString(e))}static fromName(e){return new He(tn.fromString(e).popFirst(5))}static empty(){return new He(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new tn(e.slice()))}}const rC={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jm={nullValue:"NULL_VALUE"};function Yl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tb(n)?4:sC(n)?9:10:Je()}function xo(n,e){if(n===e)return!0;const t=Yl(n);if(t!==Yl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Um(n).isEqual(Um(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Zl(r.timestampValue),c=Zl(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Xs(n.bytesValue).isEqual(Xs(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return en(r.geoPointValue.latitude)===en(i.geoPointValue.latitude)&&en(r.geoPointValue.longitude)===en(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return en(r.integerValue)===en(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=en(r.doubleValue),c=en(i.doubleValue);return l===c?np(l)===np(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Wd(n.arrayValue.values||[],e.arrayValue.values||[],xo);case 10:return function(r,i){const l=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Jv(l)!==Jv(c))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===c[p]||!xo(l[p],c[p])))return!1;return!0}(n,e);default:return Je()}var i}function Ql(n,e){return void 0!==(n.values||[]).find(t=>xo(t,e))}function la(n,e){if(n===e)return 0;const t=Yl(n),r=Yl(e);if(t!==r)return Nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const c=en(i.integerValue||i.doubleValue),p=en(l.integerValue||l.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return kT(n.timestampValue,e.timestampValue);case 4:return kT(Um(n),Um(e));case 5:return Nt(n.stringValue,e.stringValue);case 6:return function(i,l){const c=Xs(i),p=Xs(l);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),p=l.split("/");for(let _=0;_<c.length&&_<p.length;_++){const w=Nt(c[_],p[_]);if(0!==w)return w}return Nt(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const c=Nt(en(i.latitude),en(l.latitude));return 0!==c?c:Nt(en(i.longitude),en(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const c=i.values||[],p=l.values||[];for(let _=0;_<c.length&&_<p.length;++_){const w=la(c[_],p[_]);if(w)return w}return Nt(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const c=i.fields||{},p=Object.keys(c),_=l.fields||{},w=Object.keys(_);p.sort(),w.sort();for(let S=0;S<p.length&&S<w.length;++S){const x=Nt(p[S],w[S]);if(0!==x)return x;const V=la(c[p[S]],_[w[S]]);if(0!==V)return V}return Nt(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Je()}}function kT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nt(n,e);const t=Zl(n),r=Zl(e),i=Nt(t.seconds,r.seconds);return 0!==i?i:Nt(t.nanos,r.nanos)}function pc(n){return rb(n)}function rb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Zl(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Xs(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const c of r.values||[])l?l=!1:i+=",",i+=rb(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of i)c?c=!1:l+=",",l+=`${p}:${rb(r.fields[p])}`;return l+"}"}(n.mapValue):Je();var e}function Xl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zd(n){return!!n&&"integerValue"in n}function Yd(n){return!!n&&"arrayValue"in n}function iC(n){return!!n&&"nullValue"in n}function Hm(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qd(n){return!!n&&"mapValue"in n}function $m(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ha(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$m(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$m(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function PT(n){return"nullValue"in n?jm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Xl($a.empty(),He.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Je()}function oC(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Xl($a.empty(),He.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?rC:Je()}function ib(n,e){return void 0===n?e:void 0===e||la(n,e)>0?n:e}function aC(n,e){return void 0===n?e:void 0===e||la(n,e)<0?n:e}class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$m(t)}setAll(e){let t=$r.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=$m(c):i.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());Qd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ha(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new ci($m(this.value))}}function sb(n){const e=[];return Ha(n.fields,(t,r)=>{const i=new $r([t]);if(Qd(r)){const l=sb(r.mapValue).fields;if(0===l.length)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)}),new fc(e)}class Nn{constructor(e,t,r,i,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Nn(e,0,It.min(),It.min(),ci.empty(),0)}static newFoundDocument(e,t,r){return new Nn(e,1,t,It.min(),r,0)}static newNoDocument(e,t){return new Nn(e,2,t,It.min(),ci.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,It.min(),ci.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function zm(n){return n.fields.find(e=>2===e.kind)}function gc(n){return n.fields.filter(e=>2!==e.kind)}Gm.UNKNOWN_ID=-1;class rp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xd(0,za.min())}}function ob(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new ir(t+1,0):new ir(t,r));return new za(i,He.empty(),e)}function lC(n){return new za(n.readTime,n.key,-1)}class za{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new za(It.min(),He.empty(),-1)}static max(){return new za(It.max(),He.empty(),-1)}}function NT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:Nt(n.largestBatchId,e.largestBatchId))}class px{constructor(e,t=null,r=[],i=[],l=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=p,this.P=null}}function ab(n,e=null,t=[],r=[],i=null,l=null,c=null){return new px(n,e,t,r,i,l,c)}function Jd(n){const e=qe(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+pc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ga(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>pc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>pc(r)).join(",")),e.P=t}return e.P}function qm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!hC(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!xo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!db(n.startAt,e.startAt)&&db(n.endAt,e.endAt)}function lb(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ub(n,e){return n.filters.filter(t=>t instanceof Ti&&t.field.isEqual(e))}function FT(n,e,t){let r,i=!0;for(const l of ub(n,e)){let c,p=!0;switch(l.op){case"<":case"<=":c=PT(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,p=!1;break;case"!=":case"not-in":c=jm}ib(r,c)===c&&(r=c,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];ib(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function LT(n,e,t){let r,i=!0;for(const l of ub(n,e)){let c,p=!0;switch(l.op){case">=":case">":c=oC(l.value),p=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,p=!1;break;case"!=":case"not-in":c=rC}aC(r,c)===c&&(r=c,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];aC(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Ti extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Wm(e,t,r):"array-contains"===t?new cC(e,r):"in"===t?new dC(e,r):"not-in"===t?new _x(e,r):"array-contains-any"===t?new cb(e,r):new Ti(e,t,r)}static V(e,t,r){return"in"===t?new mx(e,r):new uC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(la(t,this.value)):null!==t&&Yl(this.value)===Yl(t)&&this.v(la(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Wm extends Ti{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.v(t)}}class mx extends Ti{constructor(e,t){super(e,"in",t),this.keys=Km(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uC extends Ti{constructor(e,t){super(e,"not-in",t),this.keys=Km(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Km(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class cC extends Ti{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yd(t)&&Ql(t.arrayValue,this.value)}}class dC extends Ti{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ql(this.value.arrayValue,t)}}class _x extends Ti{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ql(this.value.arrayValue,t)}}class cb extends Ti{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ql(this.value.arrayValue,r))}}class qa{constructor(e,t){this.position=e,this.inclusive=t}}class mc{constructor(e,t="asc"){this.field=e,this.dir=t}}function hC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function VT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],c=n.position[i];if(r=l.field.isKeyField()?He.comparator(He.fromName(c.referenceValue),t.key):la(c,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function db(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xo(n.position[t],e.position[t]))return!1;return!0}class Wa{constructor(e,t=null,r=[],i=[],l=null,c="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=p,this.endAt=_,this.D=null,this.C=null}}function Zm(n,e,t,r,i,l,c,p){return new Wa(n,e,t,r,i,l,c,p)}function eh(n){return new Wa(n)}function hb(n){return!Ga(n.limit)&&"F"===n.limitType}function fb(n){return!Ga(n.limit)&&"L"===n.limitType}function fC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function pb(n){for(const e of n.filters)if(e.S())return e.field;return null}function gb(n){return null!==n.collectionGroup}function th(n){const e=qe(n);if(null===e.D){e.D=[];const t=pb(e),r=fC(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new mc(t)),e.D.push(new mc($r.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new mc($r.keyField(),l))}}}return e.D}function Oo(n){const e=qe(n);if(!e.C)if("F"===e.limitType)e.C=ab(e.path,e.collectionGroup,th(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of th(e))t.push(new mc(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new qa(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new qa(e.startAt.position,!e.startAt.inclusive):null;e.C=ab(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function pC(n,e,t){return new Wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _c(n,e){return qm(Oo(n),Oo(e))&&n.limitType===e.limitType}function gC(n){return`${Jd(Oo(n))}|lt:${n.limitType}`}function ws(n){return`Query(target=${function gx(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${pc(r.value)}`;var r}).join(", ")}]`),Ga(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>pc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>pc(t)).join(",")),`Target(${e})`}(Oo(n))}; limitType=${n.limitType})`}function mb(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):He.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,c){const p=VT(i,l,c);return i.inclusive?p<=0:p<0}(t.startAt,th(t),r)||t.endAt&&!function(i,l,c){const p=VT(i,l,c);return i.inclusive?p>=0:p>0}(t.endAt,th(t),r)));var t,r}function Ym(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mC(n){return(e,t)=>{let r=!1;for(const i of th(n)){const l=BT(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function BT(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(i,l,c){const p=l.data.field(i),_=c.data.field(i);return null!==p&&null!==_?la(p,_):Je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}function Qm(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:np(e)?"-0":e}}function _b(n){return{integerValue:""+n}}function yb(n,e){return nb(e)?_b(e):Qm(n,e)}class Xm{constructor(){this._=void 0}}function _C(n,e,t){return n instanceof nh?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Ka?Js(n,e):n instanceof yc?UT(n,e):function(r,i){const l=vC(r,i),c=vb(l)+vb(r.k);return Zd(l)&&Zd(r.k)?_b(c):Qm(r.M,c)}(n,e)}function yC(n,e,t){return n instanceof Ka?Js(n,e):n instanceof yc?UT(n,e):t}function vC(n,e){return n instanceof rh?Zd(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class nh extends Xm{}class Ka extends Xm{constructor(e){super(),this.elements=e}}function Js(n,e){const t=bC(e);for(const r of n.elements)t.some(i=>xo(i,r))||t.push(r);return{arrayValue:{values:t}}}class yc extends Xm{constructor(e){super(),this.elements=e}}function UT(n,e){let t=bC(e);for(const r of n.elements)t=t.filter(i=>!xo(i,r));return{arrayValue:{values:t}}}class rh extends Xm{constructor(e,t){super(),this.M=e,this.k=t}}function vb(n){return en(n.integerValue||n.doubleValue)}function bC(n){return Yd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ip{constructor(e,t){this.field=e,this.transform=t}}class jT{constructor(e,t){this.version=e,this.transformResults=t}}class Mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class op{}function HT(n,e,t){n instanceof ih?function(r,i,l){const c=r.value.clone(),p=wb(r.fieldTransforms,i,l.transformResults);c.setAll(p),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof vc?function(r,i,l){if(!sp(r.precondition,i))return void i.convertToUnknownDocument(l.version);const c=wb(r.fieldTransforms,i,l.transformResults),p=i.data;p.setAll(Eb(r)),p.setAll(c),i.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bb(n,e,t){var i;n instanceof ih?function(r,i,l){if(!sp(r.precondition,i))return;const c=r.value.clone(),p=CC(r.fieldTransforms,l,i);c.setAll(p),i.convertToFoundDocument(e_(i),c).setHasLocalMutations()}(n,e,t):n instanceof vc?function(r,i,l){if(!sp(r.precondition,i))return;const c=CC(r.fieldTransforms,l,i),p=i.data;p.setAll(Eb(r)),p.setAll(c),i.convertToFoundDocument(e_(i),p).setHasLocalMutations()}(n,e,t):sp(n.precondition,i=e)&&i.convertToNoDocument(It.min())}function wC(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=vC(r.transform,i||null);null!=l&&(null==t&&(t=ci.empty()),t.set(r.field,l))}return t||null}function Jm(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Wd(t,r,(i,l)=>function EC(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ka&&r instanceof Ka||t instanceof yc&&r instanceof yc?Wd(t.elements,r.elements,xo):t instanceof rh&&r instanceof rh?xo(t.k,r.k):t instanceof nh&&r instanceof nh);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function e_(n){return n.isFoundDocument()?n.version:It.min()}class ih extends op{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class vc extends op{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function Eb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function wb(n,e,t){const r=new Map;St(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],c=l.transform,p=e.data.field(l.field);r.set(l.field,yC(c,p,t[i]))}return r}function CC(n,e,t){const r=new Map;for(const i of n){const l=i.transform,c=t.data.field(i.field);r.set(i.field,_C(l,c,e))}return r}class ap extends op{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class DC extends op{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class yx{constructor(e){this.count=e}}var sr,sn;function IC(n){switch(n){default:return Je();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function TC(n){if(void 0===n)return In("GRPC error has no .code"),le.UNKNOWN;switch(n){case sr.OK:return le.OK;case sr.CANCELLED:return le.CANCELLED;case sr.UNKNOWN:return le.UNKNOWN;case sr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case sr.INTERNAL:return le.INTERNAL;case sr.UNAVAILABLE:return le.UNAVAILABLE;case sr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case sr.NOT_FOUND:return le.NOT_FOUND;case sr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case sr.ABORTED:return le.ABORTED;case sr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case sr.DATA_LOSS:return le.DATA_LOSS;default:return Je()}}(sn=sr||(sr={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";class bc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return eb(this.inner)}size(){return this.innerSize}}class gr{constructor(e,t){this.comparator=e,this.root=t||Ai.EMPTY}insert(e,t){return new gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cb(this.root,e,this.comparator,!0)}}class Cb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ai{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Ai.RED,this.left=null!=i?i:Ai.EMPTY,this.right=null!=l?l:Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Ai(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1,Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ai(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hn{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AC(this.data.getIterator())}getIteratorFrom(e){return new AC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hn(this.comparator);return t.data=e,t}}class AC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Za(n){return n.hasNext()?n.getNext():void 0}const $T=new gr(He.comparator);function eo(){return $T}const SC=new gr(He.comparator);function Ya(){return SC}function sh(){return new bc(n=>n.toString(),(n,e)=>n.isEqual(e))}const Db=new gr(He.comparator),Ib=new Hn(He.comparator);function En(...n){let e=Ib;for(const t of n)e=e.add(t);return e}const Tb=new Hn(Nt);function oh(){return Tb}class Jl{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,t_.createSynthesizedTargetChangeForCurrentChange(e,t)),new Jl(It.min(),r,oh(),eo(),En())}}class t_{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new t_(Sr.EMPTY_BYTE_STRING,t,En(),En(),En())}}class Ab{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class GT{constructor(e,t){this.targetId=e,this.$=t}}class zT{constructor(e,t,r=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Sb{constructor(){this.B=0,this.L=xC(),this.U=Sr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=En(),t=En(),r=En();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Je()}}),new t_(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=xC()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class qT{constructor(e){this.nt=e,this.st=new Map,this.it=eo(),this.rt=MC(),this.ot=new Hn(Nt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(lb(l))if(0===r){const c=new He(l.path);this.ct(t,c,Nn.newNoDocument(c,It.min()))}else St(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,c)=>{const p=this.wt(c);if(p){if(l.current&&lb(p.target)){const _=new He(p.target.path);null!==this.it.get(_)||this.It(c,_)||this.ct(c,_,Nn.newNoDocument(_,e))}l.j&&(t.set(c,l.H()),l.J())}});let r=En();this.rt.forEach((l,c)=>{let p=!0;c.forEachWhile(_=>{const w=this.wt(_);return!w||2===w.purpose||(p=!1,!1)}),p&&(r=r.add(l))}),this.it.forEach((l,c)=>c.setReadTime(e));const i=new Jl(e,t,this.ot,this.it,r);return this.it=eo(),this.rt=MC(),this.ot=new Hn(Nt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Sb,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Hn(Nt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Sb),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function MC(){return new gr(He.comparator)}function xC(){return new gr(He.comparator)}const WT={asc:"ASCENDING",desc:"DESCENDING"},OC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class RC{constructor(e,t){this.databaseId=e,this.N=t}}function ah(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kC(n,e){return n.N?e.toBase64():e.toUint8Array()}function KT(n,e){return ah(n,e.toTimestamp())}function xr(n){return St(!!n),It.fromTimestamp(function(e){const t=Zl(e);return new ir(t.seconds,t.nanos)}(n))}function lp(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ZT(n){const e=tn.fromString(n);return St(v(e)),e}function lh(n,e){return lp(n.databaseId,e.path)}function to(n,e){const t=ZT(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(YT(t))}function Mb(n,e){return lp(n.databaseId,e)}function PC(n){const e=ZT(n);return 4===e.length?tn.emptyPath():YT(e)}function n_(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YT(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function QT(n,e,t){return{name:lh(n,e),fields:t.value.mapValue.fields}}function NC(n,e,t){const r=to(n,e.name),i=xr(e.updateTime),l=new ci({mapValue:{fields:e.fields}}),c=Nn.newFoundDocument(r,i,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function r_(n,e){let t;if(e instanceof ih)t={update:QT(n,e.key,e.value)};else if(e instanceof ap)t={delete:lh(n,e.key)};else if(e instanceof vc)t={update:QT(n,e.key,e.data),updateMask:g(e.fieldMask)};else{if(!(e instanceof DC))return Je();t={verify:lh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const c=l.transform;if(c instanceof nh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ka)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof rh)return{fieldPath:l.field.canonicalString(),increment:c.k};throw Je()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:KT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Je()),t;var i}function FC(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Mr.updateTime(xr(i.updateTime)):void 0!==i.exists?Mr.exists(i.exists):Mr.none():Mr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,c){let p=null;"setToServerValue"in c?(St("REQUEST_TIME"===c.setToServerValue),p=new nh):"appendMissingElements"in c?p=new Ka(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new yc(c.removeAllFromArray.values||[]):"increment"in c?p=new rh(l,c.increment):Je();const _=$r.fromServerFormat(c.fieldPath);return new ip(_,p)}(n,i)):[];var i;if(e.update){const i=to(n,e.update.name),l=new ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new fc((e.updateMask.fieldPaths||[]).map(w=>$r.fromServerFormat(w)));return new vc(i,l,c,t,r)}return new ih(i,l,t,r)}if(e.delete){const i=to(n,e.delete);return new ap(i,t)}if(e.verify){const i=to(n,e.verify);return new DC(i,t)}return Je()}function JT(n,e){return{documents:[Mb(n,e.path)]}}function LC(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Mb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Mb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(S=>function(x){if("=="===x.op){if(Hm(x.value))return{unaryFilter:{field:o(x.field),op:"IS_NAN"}};if(iC(x.value))return{unaryFilter:{field:o(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(Hm(x.value))return{unaryFilter:{field:o(x.field),op:"IS_NOT_NAN"}};if(iC(x.value))return{unaryFilter:{field:o(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:o(x.field),op:s(x.op),value:x.value}}}(S));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(w=>{return{field:o((S=w).field),direction:wx(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=(w=e.limit,n.N||Ga(w)?w:{value:w});var w,p,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function eA(n){let e=PC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){St(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=tA(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new mc(a((x=S).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let p=null;t.limit&&(p=function(S){let x;return x="object"==typeof S?S.value:S,Ga(x)?null:x}(t.limit));let _=null;var S;t.startAt&&(_=new qa((S=t.startAt).values||[],!!S.before));let w=null;return t.endAt&&(w=function(S){return new qa(S.values||[],!S.before)}(t.endAt)),Zm(e,i,c,l,p,"F",_,w)}function tA(n){return n?void 0!==n.unaryFilter?[d(n)]:void 0!==n.fieldFilter?[u(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>tA(e)).reduce((e,t)=>e.concat(t)):Je():[]}function wx(n){return WT[n]}function s(n){return OC[n]}function o(n){return{fieldPath:n.canonicalString()}}function a(n){return $r.fromServerFormat(n.fieldPath)}function u(n){return Ti.create(a(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(n.fieldFilter.op),n.fieldFilter.value)}function d(n){switch(n.unaryFilter.op){case"IS_NAN":const e=a(n.unaryFilter.field);return Ti.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=a(n.unaryFilter.field);return Ti.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=a(n.unaryFilter.field);return Ti.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=a(n.unaryFilter.field);return Ti.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}function g(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function v(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function E(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=M(e)),e=C(n.get(t),e);return M(e)}function C(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function M(n){return n+"\x01\x01"}function O(n){const e=n.length;if(St(e>=2),2===e)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const c=n.indexOf("\x01",l);switch((c<0||c>t)&&Je(),n.charAt(c+1)){case"\x01":const p=n.substring(l,c);let _;0===i.length?_=p:(i+=p,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,c),i+="\0";break;case"\x11":i+=n.substring(l,c+1);break;default:Je()}l=c+2}return new tn(r)}const F=["userId","batchId"];function U(n,e){return[n,E(e)]}function Q(n,e,t){return[n,E(e),t]}const ve={},Le=["prefixPath","collectionGroup","readTime","documentId"],$e=["prefixPath","collectionGroup","documentId"],nt=["collectionGroup","readTime","prefixPath","documentId"],Te=["canonicalId","targetId"],gt=["targetId","path"],Qt=["path","targetId"],wn=["collectionId","parent"],Cs=["indexId","uid"],Ec=["uid","sequenceNumber"],xb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ob=["indexId","uid","orderedDocumentKey"],Rb=["userId","collectionPath","documentId"],kb=["userId","collectionPath","largestBatchId"],Pb=["userId","collectionGroup","largestBatchId"],i_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Nb=[...i_,"documentOverlays"],s_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fb=[...s_,"indexConfiguration","indexState","indexEntries"],Cx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let i=0,l=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++l,c&&l===i&&t()},_=>r(_))}),c=!0,l===i&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(i=>i?ge.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class VC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Hr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Lb(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=nA(r.target.error);this.At.reject(new Lb(e,i))}}static open(e,t,r,i){try{return new VC(t,e.transaction(i,r))}catch(l){throw new Lb(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new fP(t)}}class Qa{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===Qa.Vt((0,Yt.z$)())&&In("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),cp(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Yt.hl)())return!1;if(Qa.St())return!0;const e=(0,Yt.z$)(),t=Qa.Vt(e),r=0<t&&t<10,i=Qa.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=c=>{r(c.target.result)},l.onblocked=()=>{i(new Lb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new xe(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new xe(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Lb(e,p))},l.onupgradeneeded=c=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.bt.kt(c.target.result,l.transaction,c.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Ee.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.Nt(e);const _=VC.open(l.db,e,c?"readonly":"readwrite",r),w=i(_).next(S=>(_.Pt(),S)).catch(S=>(_.abort(S),ge.reject(S))).toPromise();return w.catch(()=>{}),yield _.Rt,w}catch(_){const w="FirebaseError"!==_.name&&p<3;if(Ne("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),l.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class hP{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return cp(this.Ft.delete())}}class Lb extends xe{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function up(n){return"IndexedDbTransactionError"===n.name}class fP{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),cp(r)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),cp(this.store.add(e))}get(e){return cp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),cp(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),cp(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Kt(i,(c,p)=>{l.push(p)}).next(()=>l)}{const i=this.store.getAll(r.range);return new ge((l,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{l(p.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ge((i,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(l,c,p)=>p.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new ge((r,i)=>{t.onerror=l=>{const c=nA(l.target.error);i(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}Kt(e,t){const r=[];return new ge((i,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const _=new hP(p),w=t(p.primaryKey,p.value,_);if(w instanceof ge){const S=w.catch(x=>(_.done(),ge.reject(x)));r.push(S)}_.isDone?i():null===_.Lt?p.continue():p.continue(_.Lt)}}).next(()=>ge.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function cp(n){return new ge((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=nA(r.target.error);t(i)}})}let Ix=!1;function nA(n){const e=Qa.Vt((0,Yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ix||(Ix=!0,setTimeout(()=>{throw r},0)),r}}return n}class Tx extends Dx{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Si(n,e){const t=qe(n);return Qa.xt(t.Ht,e)}class rA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&HT(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&bb(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&bb(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(It.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),En())}isEqual(e){return this.batchId===e.batchId&&Wd(this.mutations,e.mutations,(t,r)=>Jm(t,r))&&Wd(this.baseMutations,e.baseMutations,(t,r)=>Jm(t,r))}}class iA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){St(e.mutations.length===r.length);let i=Db;const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new iA(e,t,r,i)}}class sA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class uh{constructor(e,t,r,i,l=It.min(),c=It.min(),p=Sr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new uh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new uh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new uh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ax{constructor(e){this.Jt=e}}function Sx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:BC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:lh(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:ah(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:dp(e.version)};else{if(!e.isUnknownDocument())return Je();r.unknownDocument={path:t.path.toArray(),version:dp(e.version)}}var i,l;return r}function BC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function dp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function hp(n){const e=new ir(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function o_(n,e){const t=(e.baseMutations||[]).map(l=>FC(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(c.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>FC(n.Jt,l)),i=ir.fromMillis(e.localWriteTimeMs);return new rA(e.batchId,i,t,r)}function Vb(n){const e=hp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?hp(n.lastLimboFreeSnapshotVersion):It.min();let r;var i;return void 0!==n.query.documents?(St(1===(i=n.query).documents.length),r=Oo(eh(PC(i.documents[0])))):r=Oo(eA(n.query)),new uh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Sr.fromBase64String(n.resumeToken))}function Mx(n,e){const t=dp(e.snapshotVersion),r=dp(e.lastLimboFreeSnapshotVersion);let i;i=lb(e.target)?JT(n.Jt,e.target):LC(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Jd(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function oA(n){const e=eA({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?pC(e,e.limit,"L"):e}function aA(n,e){return new sA(e.largestBatchId,FC(n.Jt,e.overlayMutation))}function xx(n,e){const t=e.path.lastSegment();return[n,E(e.path.popLast()),t]}class gP{getBundleMetadata(e,t){return Ox(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:hp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Ox(e).put({bundleId:(r=t).id,createTime:dp(xr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Rx(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:oA(i.bundledQuery),readTime:hp(i.readTime)};var i})}saveNamedQuery(e,t){return Rx(e).put({name:(r=t).name,readTime:dp(xr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Ox(n){return Si(n,"bundles")}function Rx(n){return Si(n,"namedQueries")}class lA{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new lA(e,t.uid||"")}getOverlay(e,t){return Bb(e).get(xx(this.userId,t)).next(r=>r?aA(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,c)=>{const p=new sA(t,c);i.push(this.Xt(e,p))}),ge.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(E(c.getCollectionPath())));const l=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(Bb(e).Qt("collectionPathOverlayIndex",p))}),ge.waitFor(l)}getOverlaysForCollection(e,t,r){const i=sh(),l=E(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Bb(e).qt("collectionPathOverlayIndex",c).next(p=>{for(const _ of p){const w=aA(this.M,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=sh();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bb(e).Wt({index:"collectionGroupOverlayIndex",range:p},(_,w,S)=>{const x=aA(this.M,w);l.size()<i||x.largestBatchId===c?(l.set(x.getKey(),x),c=x.largestBatchId):S.done()}).next(()=>l)}Xt(e,t){return Bb(e).put(function(r,i,l){const[c,p,_]=xx(i,l.mutation.key);return{userId:i,collectionPath:p,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:r_(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function Bb(n){return Si(n,"documentOverlays")}class fp{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(en(e.integerValue));else if("doubleValue"in e){const r=en(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),np(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Xs(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?sC(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Je()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),He.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function mP(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function kx(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=mP(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}fp.fe=new fp;class _P{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=kx(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=kx(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class yP{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class vP{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Ub{constructor(){this.De=new _P,this.Ce=new yP(this.De),this.xe=new vP(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class ch{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ch(this.indexId,this.documentKey,this.arrayValue,r)}}function pp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Px(n.arrayValue,e.arrayValue),0!==t?t:(t=Px(n.directionalValue,e.directionalValue),0!==t?t:He.comparator(n.documentKey,e.documentKey)))}function Px(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class bP{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=zm(e);if(void 0!==t&&!this.Be(t))return!1;const r=gc(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[l++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class EP{constructor(){this.qe=new uA}addToCollectionParentIndex(e,t){return this.qe.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getFieldIndex(e,t){return ge.resolve(null)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class uA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Hn(tn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Hn(tn.comparator)).toArray()}}const a_=new Uint8Array(0);class wP{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new uA,this.Ge=new bc(r=>Jd(r),(r,i)=>qm(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const l={collectionId:r,parent:E(i)};return Nx(e).put(l)}return ge.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Xw(t),""],!1,!0);return Nx(e).qt(i).next(l=>{for(const c of l){if(c.collectionId!==t)break;r.push(O(c.parent))}return r})}addFieldIndex(e,t){const r=UC(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=UC(e),i=jC(e),l=jb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=jb(e);let i=!0;const l=new Map;return ge.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(p=>{i&&(i=!!p),l.set(c,p)})).next(()=>{if(i){let c=En();const p=[];return ge.forEach(l,(_,w)=>{var S;Ne("IndexedDbIndexManager",`Using index ${S=_,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Ct=>`${Ct.fieldPath}:${Ct.kind}`).join(",")}`} to execute ${Jd(t)}`);const x=function(Ct,lt){const Vt=zm(lt);if(void 0===Vt)return null;for(const $t of ub(Ct,Vt.fieldPath))switch($t.op){case"array-contains-any":return $t.value.arrayValue.values||[];case"array-contains":return[$t.value]}return null}(w,_),V=function(Ct,lt){const Vt=new Map;for(const $t of gc(lt))for(const Cn of ub(Ct,$t.fieldPath))switch(Cn.op){case"==":case"in":Vt.set($t.fieldPath.canonicalString(),Cn.value);break;case"not-in":case"!=":return Vt.set($t.fieldPath.canonicalString(),Cn.value),Array.from(Vt.values())}return null}(w,_),G=function(Ct,lt){const Vt=[];let $t=!0;for(const Cn of gc(lt)){const Hi=0===Cn.kind?FT(Ct,Cn.fieldPath,Ct.startAt):LT(Ct,Cn.fieldPath,Ct.startAt);if(!Hi.value)return null;Vt.push(Hi.value),$t&&($t=Hi.inclusive)}return new qa(Vt,$t)}(w,_),W=function(Ct,lt){const Vt=[];let $t=!0;for(const Cn of gc(lt)){const Hi=0===Cn.kind?LT(Ct,Cn.fieldPath,Ct.endAt):FT(Ct,Cn.fieldPath,Ct.endAt);if(!Hi.value)return null;Vt.push(Hi.value),$t&&($t=Hi.inclusive)}return new qa(Vt,$t)}(w,_),me=this.je(_,w,G),Fe=this.je(_,w,W),pt=this.We(_,w,V),mt=this.ze(_.indexId,x,me,!!G&&G.inclusive,Fe,!!W&&W.inclusive,pt);return ge.forEach(mt,Ct=>r.Gt(Ct,t.limit).next(lt=>{lt.forEach(Vt=>{const $t=He.fromSegments(Vt.documentKey);c.has($t)||(c=c.add($t),p.push($t))})}))}).next(()=>p)}return ge.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,l,c,p){const _=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),w=_/(null!=t?t.length:1),S=[];for(let x=0;x<_;++x){const V=t?this.He(t[x/w]):a_,G=r?this.Je(e,V,r[x%w],i):this.Ye(e),W=l?this.Xe(e,V,l[x%w],c):this.Ye(e+1);S.push(...this.createRange(G,W,p.map(me=>this.Je(e,V,me,!0))))}return S}Je(e,t,r,i){const l=new ch(e,He.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new ch(e,He.empty(),t,r);return i?l.ke():l}Ye(e){return new ch(e,He.empty(),a_,a_)}getFieldIndex(e,t){const r=new bP(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{const c=l.filter(p=>r.$e(p));return c.sort((p,_)=>_.fields.length-p.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new Ub;for(const i of gc(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const c=r.Ne(i.kind);fp.fe.Zt(l,c)}return r.Se()}He(e){const t=new Ub;return fp.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Ub;return fp.fe.Zt(Xl(this.databaseId,t),r.Ne(function(i){const l=gc(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new Ub);let l=0;for(const c of gc(e)){const p=r[l++];for(const _ of i)if(this.en(t,c.fieldPath)&&Yd(p))i=this.nn(i,c,p);else{const w=_.Ne(c.kind);fp.fe.Zt(p,w)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],l=[];for(const c of r.arrayValue.values||[])for(const p of i){const _=new Ub;_.seed(p.Se()),fp.fe.Zt(c,_.Ne(t.kind)),l.push(_)}return l}en(e,t){return!!e.filters.find(r=>r instanceof Ti&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=UC(e),i=jC(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const c=[];return ge.forEach(l,p=>i.get([p.indexId,this.uid]).next(_=>{c.push(function(w,S){const x=S?new Xd(S.sequenceNumber,new za(hp(S.readTime),new He(O(S.documentKey)),S.largestBatchId)):Xd.empty(),V=w.fields.map(([G,W])=>new rp($r.fromServerFormat(G),W));return new Gm(w.indexId,w.collectionGroup,V,x)}(p,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Nt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=UC(e),l=jC(e);return this.rn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ge.forEach(p,_=>{return l.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:dp((V=r).readTime),documentKey:E(V.documentKey.path),largestBatchId:V.largestBatchId});var V})))}updateIndexEntries(e,t){const r=new Map;return ge.forEach(t,(i,l)=>{const c=r.get(i.collectionGroup);return(c?ge.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),ge.forEach(p,_=>this.on(e,i,_).next(w=>{const S=this.un(l,_);return w.isEqual(S)?ge.resolve():this.an(e,l,_,w,S)}))))})}cn(e,t,r,i){return jb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return jb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=jb(e);let l=new Hn(pp);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(c,p)=>{l=l.add(new ch(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>l)}un(e,t){let r=new Hn(pp);const i=this.Ze(t,e);if(null==i)return r;const l=zm(t);if(null!=l){const c=e.data.field(l.fieldPath);if(Yd(c))for(const p of c.arrayValue.values||[])r=r.add(new ch(t.indexId,e.key,this.He(p),i))}else r=r.add(new ch(t.indexId,e.key,a_,i));return r}an(e,t,r,i,l){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,_,w,S,x){const V=p.getIterator(),G=_.getIterator();let W=Za(V),me=Za(G);for(;W||me;){let Fe=!1,pt=!1;if(W&&me){const mt=w(W,me);mt<0?pt=!0:mt>0&&(Fe=!0)}else null!=W?pt=!0:Fe=!0;Fe?(S(me),me=Za(G)):pt?(x(W),W=Za(V)):(W=Za(V),me=Za(G))}}(i,l,pp,p=>{c.push(this.cn(e,t,r,p))},p=>{c.push(this.hn(e,t,r,p))}),ge.waitFor(c)}rn(e){let t=1;return jC(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>pp(c,p)).filter((c,p,_)=>!p||0!==pp(c,_[p-1]));const i=[];i.push(e);for(const c of r){const p=pp(c,e),_=pp(c,t);if(0===p)i[0]=e.ke();else if(p>0&&_<0)i.push(c),i.push(c.ke());else if(_>0)break}i.push(t);const l=[];for(let c=0;c<i.length;c+=2)l.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,a_,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,a_,[]]));return l}}function Nx(n){return Si(n,"collectionParents")}function jb(n){return Si(n,"indexEntries")}function UC(n){return Si(n,"indexConfiguration")}function jC(n){return Si(n,"indexState")}const Fx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class no{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Lx(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],c=IDBKeyRange.only(t.batchId);let p=0;const _=r.Wt({range:c},(S,x,V)=>(p++,V.delete()));l.push(_.next(()=>{St(1===p)}));const w=[];for(const S of t.mutations){const x=Q(e,S.key.path,t.batchId);l.push(i.delete(x)),w.push(S.key)}return ge.waitFor(l).next(()=>w)}function HC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Je();e=n.noDocument}return JSON.stringify(e).length}no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(41943040,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);class cA{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){St(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new cA(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dh(e).Wt({index:"userMutationsIndex",range:r},(i,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=l_(e),c=dh(e);return c.add({}).next(p=>{St("number"==typeof p);const _=new rA(p,t,r,i),w=function(V,G,W){const me=W.baseMutations.map(pt=>r_(V.Jt,pt)),Fe=W.mutations.map(pt=>r_(V.Jt,pt));return{userId:G,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:me,mutations:Fe}}(this.M,this.userId,_),S=[];let x=new Hn((V,G)=>Nt(V.canonicalString(),G.canonicalString()));for(const V of i){const G=Q(this.userId,V.key.path,p);x=x.add(V.key.path.popLast()),S.push(c.put(w)),S.push(l.put(G,ve))}return x.forEach(V=>{S.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.ln[p]=_.keys()}),ge.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return dh(e).get(t).next(r=>r?(St(r.userId===this.userId),o_(this.M,r)):null)}fn(e,t){return this.ln[t]?ge.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return dh(e).Wt({index:"userMutationsIndex",range:i},(c,p,_)=>{p.userId===this.userId&&(St(p.batchId>=r),l=o_(this.M,p)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return dh(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,c)=>{r=l.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dh(e).qt("userMutationsIndex",t).next(r=>r.map(i=>o_(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=U(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return l_(e).Wt({range:i},(c,p,_)=>{const[w,S,x]=c,V=O(S);if(w===this.userId&&t.path.isEqual(V))return dh(e).get(x).next(G=>{if(!G)throw Je();St(G.userId===this.userId),l.push(o_(this.M,G))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Hn(Nt);const i=[];return t.forEach(l=>{const c=U(this.userId,l.path),p=IDBKeyRange.lowerBound(c),_=l_(e).Wt({range:p},(w,S,x)=>{const[V,G,W]=w,me=O(G);V===this.userId&&l.path.isEqual(me)?r=r.add(W):x.done()});i.push(_)}),ge.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=U(this.userId,r),c=IDBKeyRange.lowerBound(l);let p=new Hn(Nt);return l_(e).Wt({range:c},(_,w,S)=>{const[x,V,G]=_,W=O(V);x===this.userId&&r.isPrefixOf(W)?W.length===i&&(p=p.add(G)):S.done()}).next(()=>this.dn(e,p))}dn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(dh(e).get(l).next(c=>{if(null===c)throw Je();St(c.userId===this.userId),r.push(o_(this.M,c))}))}),ge.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Lx(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),ge.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ge.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return l_(e).Wt({range:r},(l,c,p)=>{if(l[0]===this.userId){const _=O(l[1]);i.push(_)}else p.done()}).next(()=>{St(0===i.length)})})}containsKey(e,t){return Vx(e,this.userId,t)}wn(e){return Bx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Vx(n,e,t){const r=U(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return l_(n).Wt({range:l,jt:!0},(p,_,w)=>{const[S,x,V]=p;S===e&&x===i&&(c=!0),w.done()}).next(()=>c)}function dh(n){return Si(n,"mutations")}function l_(n){return Si(n,"documentMutations")}function Bx(n){return Si(n,"mutationQueues")}class gp{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new gp(0)}static yn(){return new gp(-1)}}class CP{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new gp(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>It.fromTimestamp(new ir(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>u_(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(St(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return u_(e).Wt((c,p)=>{const _=Vb(p);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>ge.waitFor(l)).next(()=>i)}forEachTarget(e,t){return u_(e).Wt((r,i)=>{const l=Vb(i);t(l)})}pn(e){return Ux(e).get("targetGlobalKey").next(t=>(St(null!==t),t))}In(e,t){return Ux(e).put("targetGlobalKey",t)}Tn(e,t){return u_(e).put(Mx(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Jd(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return u_(e).Wt({range:i,index:"queryTargetsIndex"},(c,p,_)=>{const w=Vb(p);qm(t,w.target)&&(l=w,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=hh(e);return t.forEach(c=>{const p=E(c.path);i.push(l.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),ge.waitFor(i)}removeMatchingKeys(e,t,r){const i=hh(e);return ge.forEach(t,l=>{const c=E(l.path);return ge.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=hh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=hh(e);let l=En();return i.Wt({range:r,jt:!0},(c,p,_)=>{const w=O(c[1]),S=new He(w);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=E(t.path),i=IDBKeyRange.bound([r],[Xw(r)],!1,!0);let l=0;return hh(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,p],_,w)=>{0!==c&&(l++,w.done())}).next(()=>l>0)}Et(e,t){return u_(e).get(t).next(r=>r?Vb(r):null)}}function u_(n){return Si(n,"targets")}function Ux(n){return Si(n,"targetGlobal")}function hh(n){return Si(n,"targetDocuments")}function mp(n){return dA.apply(this,arguments)}function dA(){return dA=(0,Ee.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==Cx)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),dA.apply(this,arguments)}function jx([n,e],[t,r]){const i=Nt(n,t);return 0===i?Nt(e,r):i}class DP{constructor(e){this.An=e,this.buffer=new Hn(jx),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();jx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IP{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Ne("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ee.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){up(i)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield mp(i)}yield t.Sn(e)}))}}class TP{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ge.resolve(ji.A);const r=new DP(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(Fx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fx):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,l,c,p,_,w;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,c=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,p=Date.now(),this.removeTargets(e,r,t))).next(x=>(l=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(w=Date.now(),hc()<=Ul.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${l} targets in `+(_-p)+`ms\n\tRemoved ${x} documents in `+(w-_)+`ms\nTotal Duration: ${w-S}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:x})))}}class AP{constructor(e,t){this.db=e,this.garbageCollector=new TP(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return $C(e,r)}removeReference(e,t,r){return $C(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return $C(e,t)}On(e,t){return function(r,i){let l=!1;return Bx(r).zt(c=>Vx(r,c,i).next(p=>(p&&(l=!0),ge.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Mn(e,(c,p)=>{if(p<=t){const _=this.On(e,c).next(w=>{if(!w)return l++,r.getEntry(e,c).next(()=>(r.removeEntry(c,It.min()),hh(e).delete([0,E(c.path)])))});i.push(_)}}).next(()=>ge.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return $C(e,t)}Mn(e,t){const r=hh(e);let i,l=ji.A;return r.Wt({index:"documentTargetsIndex"},([c,p],{path:_,sequenceNumber:w})=>{0===c?(l!==ji.A&&t(new He(O(i)),l),l=w,i=_):l=ji.A}).next(()=>{l!==ji.A&&t(new He(O(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $C(n,e){return hh(n).put((r=n.currentSequenceNumber,{targetId:0,path:E(e.path),sequenceNumber:r}));var r}class Hx{constructor(){this.changes=new bc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class SP{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return _p(e).put(r)}removeEntry(e,t,r){return _p(e).delete(function(i,l){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],BC(l),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Nn.newInvalidDocument(t);return _p(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Hb(t))},(i,l)=>{r=this.$n(t,l)}).next(()=>r)}Bn(e,t){let r={size:0,document:Nn.newInvalidDocument(t)};return _p(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Hb(t))},(i,l)=>{r={document:this.$n(t,l),size:HC(l)}}).next(()=>r)}getEntries(e,t){let r=eo();return this.Ln(e,t,(i,l)=>{const c=this.$n(i,l);r=r.insert(i,c)}).next(()=>r)}Un(e,t){let r=eo(),i=new gr(He.comparator);return this.Ln(e,t,(l,c)=>{const p=this.$n(l,c);r=r.insert(l,p),i=i.insert(l,HC(c))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return ge.resolve();let i=new Hn(zx);t.forEach(_=>i=i.add(_));const l=IDBKeyRange.bound(Hb(i.first()),Hb(i.last())),c=i.getIterator();let p=c.getNext();return _p(e).Wt({index:"documentKeyIndex",range:l},(_,w,S)=>{const x=He.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;p&&zx(p,x)<0;)r(p,null),p=c.getNext();p&&p.isEqual(x)&&(r(p,w),p=c.hasNext()?c.getNext():null),p?S.Ut(Hb(p)):S.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),BC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _p(e).qt(IDBKeyRange.bound(i,l,!0)).next(c=>{let p=eo();for(const _ of c){const w=this.$n(He.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);p=p.insert(w.key,w)}return p})}getAllFromCollectionGroup(e,t,r,i){let l=eo();const c=Gx(t,r),p=Gx(t,za.max());return _p(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(_,w,S)=>{const x=this.$n(He.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(x.key,x),l.size===i&&S.done()}).next(()=>l)}newChangeBuffer(e){return new MP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $x(e).get("remoteDocumentGlobalKey").next(t=>(St(!!t),t))}Fn(e,t){return $x(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function pP(n,e){let t;if(e.document)t=NC(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=He.fromSegments(e.noDocument.path),i=hp(e.noDocument.readTime);t=Nn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Je();{const r=He.fromSegments(e.unknownDocument.path),i=hp(e.unknownDocument.version);t=Nn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new ir(r[0],r[1]);return It.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return Nn.newInvalidDocument(e)}}class MP extends Hx{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new bc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Hn((l,c)=>Nt(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const p=this.Gn.get(l);if(t.push(this.Kn.removeEntry(e,l,p.readTime)),c.isValidDocument()){const _=Sx(this.Kn.M,c);i=i.add(l.path.popLast()),r+=HC(_)-p.size,t.push(this.Kn.addEntry(e,l,_))}else if(r-=p.size,this.trackRemovals){const _=Sx(this.Kn.M,c.convertToNoDocument(It.min()));t.push(this.Kn.addEntry(e,l,_))}}),i.forEach(l=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Kn.updateMetadata(e,r)),ge.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((l,c)=>{this.Gn.set(l,{size:c,readTime:r.get(l).readTime})}),r))}}function $x(n){return Si(n,"remoteDocumentGlobal")}function _p(n){return Si(n,"remoteDocumentsV14")}function Hb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Gx(n,e){const t=e.documentKey.path.toArray();return[n,BC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function zx(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Nt(t[l],r[l]),i)return i;return i=Nt(t.length,r.length),i||(i=Nt(t[t.length-2],r[r.length-2]),i||Nt(t[t.length-1],r[r.length-1]))}class xP{constructor(e){this.M=e}kt(e,t,r,i){const l=new VC("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",F,{unique:!0}),p.createObjectStore("documentMutations"),qx(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=ge.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),qx(e)),c=c.next(()=>function(p){const _=p.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(l))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,_){return _.store("mutations").qt().next(w=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",F,{unique:!0});const S=_.store("mutations"),x=w.map(V=>S.put(V));return ge.waitFor(x)})}(e,l))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Qn(l))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.jn(l)))),r<7&&i>=7&&(c=c.next(()=>this.Wn(l))),r<8&&i>=8&&(c=c.next(()=>this.zn(e,l))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Hn(l))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const _=p.createObjectStore("documentOverlays",{keyPath:Rb});_.createIndex("collectionPathOverlayIndex",kb,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Pb,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const _=p.createObjectStore("remoteDocumentsV14",{keyPath:Le});_.createIndex("documentKeyIndex",$e),_.createIndex("collectionGroupIndex",nt)}(e)).next(()=>this.Jn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:Cs}).createIndex("sequenceNumberIndex",Ec,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:xb}).createIndex("documentKeyIndex",Ob,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=HC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>ge.forEach(i,l=>{const c=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(p=>ge.forEach(p,_=>{St(_.userId===l.userId);const w=o_(this.M,_);return Lx(e,l.userId,w).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((c,p)=>{const _=new tn(c),w=[0,E(_)];l.push(t.get(w).next(S=>S?ge.resolve():t.put({targetId:0,path:E(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ge.waitFor(l))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:wn});const r=t.store("collectionParents"),i=new uA,l=c=>{if(i.add(c)){const p=c.lastSegment(),_=c.popLast();return r.put({collectionId:p,parent:E(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,p)=>{const _=new tn(c);return l(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,p,_],w)=>{const S=O(p);return l(S.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=Vb(i),c=Mx(this.M,l);return t.put(c)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,c)=>{const p=t.store("remoteDocumentsV14"),_=(w=c,w.document?new He(tn.fromString(w.document.name).popFirst(5)):w.noDocument?He.fromSegments(w.noDocument.path):w.unknownDocument?He.fromSegments(w.unknownDocument.path):Je()).path.toArray();var w;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(S))}).next(()=>ge.waitFor(i))}}function qx(n){n.createObjectStore("targetDocuments",{keyPath:gt}).createIndex("documentTargetsIndex",Qt,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Te,{unique:!0}),n.createObjectStore("targetGlobal")}const hA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fA{constructor(e,t,r,i,l,c,p,_,w,S,x=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=l,this.window=c,this.document=p,this.Xn=w,this.Zn=S,this.ts=x,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=V=>Promise.resolve(),!fA.vt())throw new xe(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AP(this,i),this.hs=t+"main",this.M=new Ax(_),this.ls=new Qa(this.hs,this.ts,new xP(this.M)),this.fs=new CP(this.referenceDelegate,this.M),this.ds=new SP(this.M),this._s=new gP,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===S&&In("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,hA);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new ji(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,Ee.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Ee.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>GC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(up(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return $b(e).get("owner").next(t=>ge.resolve(this.bs(t)))}Vs(e){return GC(e).delete(this.clientId)}vs(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Si(r,"clientMetadata");return i.qt().next(l=>{const c=e.Ds(l,18e5),p=l.filter(_=>-1===c.indexOf(_));return ge.forEach(p,_=>i.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?ge.resolve(!0):$b(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,hA);return!1}}return!(!this.networkEnabled||!this.inForeground)||GC(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Tx(t,ji.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>GC(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return cA.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new wP(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return lA.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Ne("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(c=this.ts)?Fb:13===c?s_:12===c?Nb:11===c?i_:void Je();var c;let p;return this.ls.runTransaction(e,i,l,_=>(p=new Tx(_,this.es?this.es.next():ji.A),"readwrite-primary"===t?this.Es(p).next(w=>!!w||this.As(p)).next(w=>{if(!w)throw In(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new xe(le.FAILED_PRECONDITION,Cx);return r(p)}).next(w=>this.Ps(p).next(()=>w)):this.$s(p).next(()=>r(p)))).then(_=>(p.raiseOnCommittedEvent(),_))}$s(e){return $b(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(le.FAILED_PRECONDITION,hA)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $b(e).put("owner",t)}static vt(){return Qa.vt()}Rs(e){const t=$b(e);return t.get("owner").next(r=>this.bs(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ge.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(In(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Yt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return In("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){In("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $b(n){return Si(n,"owner")}function GC(n){return Si(n,"clientMetadata")}function pA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class OP{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return He.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):gb(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new He(t)).next(r=>{let i=Ya();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let l=Ya();return this.indexManager.getCollectionParents(e,i).next(c=>ge.forEach(c,p=>{const _=(w=t,S=p.child(i),new Wa(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,S;return this.zs(e,_,r).next(w=>{w.forEach((S,x)=>{l=l.insert(S,x)})})}).next(()=>l))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const c of l)for(const p of c.mutations){const _=p.key;let w=i.get(_);null==w&&(w=Nn.newInvalidDocument(_),i=i.insert(_,w)),bb(p,w,c.localWriteTime),w.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((l,c)=>{mb(t,c)||(i=i.remove(l))}),i))}}class gA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=En(),i=En();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new gA(e,t.fromCache,r,i)}}class Wx{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(It.min())?this.ti(e,t):this.Zs.Ks(e,i).next(l=>{const c=this.ei(t,l);return(hb(t)||fb(t))&&this.ni(t.limitType,c,i,r)?this.ti(e,t):(hc()<=Ul.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ws(t)),this.Zs.Qs(e,t,ob(r,-1)).next(p=>(c.forEach(_=>{p=p.insert(_.key,_)}),p)))});var l}ei(e,t){let r=new Hn(mC(e));return t.forEach((i,l)=>{mb(e,l)&&(r=r.add(l))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ti(e,t){return hc()<=Ul.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",ws(t)),this.Zs.Qs(e,t,za.min())}}class RP{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new gr(Nt),this.ri=new bc(l=>Jd(l),qm),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new OP(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function Kx(n,e,t,r){return new RP(n,e,t,r)}function Zx(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,Ee.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(l=>(i=l,t.ai(e),t.Bs.getAllMutationBatches(r))).next(l=>{const c=[],p=[];let _=En();for(const w of i){c.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}for(const w of l){p.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}return t.ci.Ks(r,_).next(w=>({hi:w,removedBatchIds:c,addedBatchIds:p}))})})}),mA.apply(this,arguments)}function kP(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.ui.newChangeBuffer({trackRemovals:!0});return function(c,p,_,w){const S=_.batch,x=S.keys();let V=ge.resolve();return x.forEach(G=>{V=V.next(()=>w.getEntry(p,G)).next(W=>{const me=_.docVersions.get(G);St(null!==me),W.version.compareTo(me)<0&&(S.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),w.addEntry(W)))})}),V.next(()=>c.Bs.removeMutationBatch(p,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function Yx(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function PP(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const p=[];e.targetChanges.forEach((w,S)=>{const x=i.get(S);if(!x)return;p.push(t.fs.removeMatchingKeys(l,w.removedDocuments,S).next(()=>t.fs.addMatchingKeys(l,w.addedDocuments,S)));let V=x.withSequenceNumber(l.currentSequenceNumber);var G,W,me;e.targetMismatches.has(S)?V=V.withResumeToken(Sr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):w.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(w.resumeToken,r)),i=i.insert(S,V),W=V,me=w,(0===(G=x).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&p.push(t.fs.updateTargetData(l,V))});let _=eo();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),p.push(Qx(l,c,e.documentUpdates).next(w=>{_=w})),!r.isEqual(It.min())){const w=t.fs.getLastRemoteSnapshotVersion(l).next(S=>t.fs.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(w)}return ge.waitFor(p).next(()=>c.apply(l)).next(()=>t.ci.Gs(l,_)).next(()=>_)}).then(l=>(t.ii=i,l))}function Qx(n,e,t){let r=En();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=eo();return t.forEach((c,p)=>{const _=i.get(c);p.isNoDocument()&&p.version.isEqual(It.min())?(e.removeEntry(c,p.readTime),l=l.insert(c,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(p),l=l.insert(c,p)):Ne("LocalStore","Ignoring outdated watch update for ",c,". Current version:",_.version," Watch version:",p.version)}),l})}function NP(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function c_(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(l=>l?(i=l,ge.resolve(i)):t.fs.allocateTargetId(r).next(c=>(i=new uh(e,c,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function d_(n,e,t){return _A.apply(this,arguments)}function _A(){return _A=(0,Ee.Z)(function*(n,e,t){const r=qe(n),i=r.ii.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!up(c))throw c;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),_A.apply(this,arguments)}function zC(n,e,t){const r=qe(n);let i=It.min(),l=En();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,_,w){const S=qe(p),x=S.ri.get(w);return void 0!==x?ge.resolve(S.ii.get(x)):S.fs.getTargetData(_,w)}(r,c,Oo(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(c,p.targetId).next(_=>{l=_})}).next(()=>r.si.Qs(c,e,t?i:It.min(),t?l:En())).next(p=>(eO(r,Ym(e),p),{documents:p,li:l})))}function Xx(n,e){const t=qe(n),r=qe(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(c=>c?c.target:null))}function Jx(n,e){const t=qe(n),r=t.oi.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,ob(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(eO(t,e,i),i))}function eO(n,e,t){let r=It.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.oi.set(e,r)}function yA(){return yA=(0,Ee.Z)(function*(n,e,t,r){const i=qe(n);let l=En(),c=eo();for(const w of t){const S=e.fi(w.metadata.name);w.document&&(l=l.add(S));const x=e.di(w);x.setReadTime(e._i(w.metadata.readTime)),c=c.insert(S,x)}const p=i.ui.newChangeBuffer({trackRemovals:!0}),_=yield c_(i,(w=r,Oo(eh(tn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>Qx(w,p,c).next(S=>(p.apply(w),S)).next(S=>i.fs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.fs.addMatchingKeys(w,l,_.targetId)).next(()=>i.ci.Gs(w,S)).next(()=>S)))}),yA.apply(this,arguments)}function LP(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,Ee.Z)(function*(n,e,t=En()){const r=yield c_(n,Oo(oA(e.bundledQuery))),i=qe(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const c=xr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i._s.saveNamedQuery(l,e);const p=r.withResumeToken(Sr.EMPTY_BYTE_STRING,c);return i.ii=i.ii.insert(p.targetId,p),i.fs.updateTargetData(l,p).next(()=>i.fs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.fs.addMatchingKeys(l,t,r.targetId)).next(()=>i._s.saveNamedQuery(l,e))})}),vA.apply(this,arguments)}class VP{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return ge.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:xr(r.createTime)}),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:oA(r.bundledQuery),readTime:xr(r.readTime)}),ge.resolve();var r}}class BP{constructor(){this.overlays=new gr(He.comparator),this.gi=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.gi.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const i=sh(),l=t.length+1,c=new He(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const _=p.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new gr((w,S)=>w-S);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let S=l.get(w.largestBatchId);null===S&&(S=sh(),l=l.insert(w.largestBatchId,S)),S.set(w.getKey(),w)}}const p=sh(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,S)=>p.set(w,S)),!(p.size()>=i)););return ge.resolve(p)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new sA(t,r));let l=this.gi.get(t);void 0===l&&(l=En(),this.gi.set(t,l)),this.gi.set(t,l.add(r.key))}}class bA{constructor(){this.yi=new Hn(Mi.pi),this.Ii=new Hn(Mi.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new Mi(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new Mi(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new He(new tn([])),r=new Mi(t,e),i=new Mi(t,e+1),l=[];return this.Ii.forEachInRange([r,i],c=>{this.Ai(c),l.push(c.key)}),l}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new He(new tn([])),r=new Mi(t,e),i=new Mi(t,e+1);let l=En();return this.Ii.forEachInRange([r,i],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Mi(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Mi{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return He.comparator(e.key,t.key)||Nt(e.vi,t.vi)}static Ti(e,t){return Nt(e.vi,t.vi)||He.comparator(e.key,t.key)}}class UP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Hn(Mi.pi)}checkEmpty(e){return ge.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const l=this.Si;this.Si++;const c=new rA(l,t,r,i);this.Bs.push(c);for(const p of i)this.Di=this.Di.add(new Mi(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ge.resolve(c)}lookupMutationBatch(e,t){return ge.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),l=i<0?0:i;return ge.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return ge.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mi(t,0),i=new Mi(t,Number.POSITIVE_INFINITY),l=[];return this.Di.forEachInRange([r,i],c=>{const p=this.Ci(c.vi);l.push(p)}),ge.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Hn(Nt);return t.forEach(i=>{const l=new Mi(i,0),c=new Mi(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([l,c],p=>{r=r.add(p.vi)})}),ge.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;He.isDocumentKey(l)||(l=l.child(""));const c=new Mi(new He(l),0);let p=new Hn(Nt);return this.Di.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(p=p.add(_.vi)),!0)},c),ge.resolve(this.Ni(p))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){St(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return ge.forEach(t.mutations,i=>{const l=new Mi(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new Mi(t,0),i=this.Di.firstAfterOrEqual(r);return ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ge.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class jP{constructor(e){this.Mi=e,this.docs=new gr(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,c=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let r=eo();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Nn.newInvalidDocument(i))}),ge.resolve(r)}getAllFromCollection(e,t,r){let i=eo();const l=new He(t.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:p,value:{document:_}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||NT(lC(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return ge.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Je()}Oi(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new HP(this)}getSize(e){return ge.resolve(this.size)}}class HP extends Hx{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class $P{constructor(e){this.persistence=e,this.Fi=new bc(t=>Jd(t),qm),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.$i=0,this.Bi=new bA,this.targetCount=0,this.Li=gp.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),ge.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new gp(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.Tn(t),ge.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Fi.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Fi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),ge.waitFor(l).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(c=>{l.push(i.markPotentiallyOrphaned(e,c))}),ge.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.Bi.containsKey(t))}}class GP{constructor(e,t){this.Ui={},this.overlays={},this.es=new ji(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new $P(this),this.indexManager=new EP,this.ds=new jP(r=>this.referenceDelegate.qi(r)),this.M=new Ax(t),this._s=new VP(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new UP(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new zP(this.es.next());return this.referenceDelegate.Ki(),r(i).next(l=>this.referenceDelegate.Gi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Qi(e,t){return ge.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class zP extends Dx{constructor(e){super(),this.currentSequenceNumber=e}}class EA{constructor(e){this.persistence=e,this.ji=new bA,this.Wi=null}static zi(e){return new EA(e)}get Hi(){if(this.Wi)return this.Wi;throw Je()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),ge.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Hi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Hi,r=>{const i=He.fromPath(r);return this.Ji(e,i).next(l=>{l||t.removeEntry(i,It.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return ge.or([()=>ge.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function tO(n,e){return`firestore_clients_${n}_${e}`}function nO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function wA(n,e){return`firestore_targets_${n}_${e}`}class qC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let l,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(l=new xe(i.error.code,i.error.message))),c?new qC(e,t,i.state,l):(In("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new xe(r.error.code,r.error.message))),l?new Gb(e,r.state,i):(In("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class WC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=oh();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=nb(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return i?new WC(e,l):(In("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class CA{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new CA(t.clientId,t.onlineState):(In("SharedClientState",`Failed to parse online state: ${e}`),null)}}class DA{constructor(){this.activeTargetIds=oh()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IA{constructor(e,t,r,i,l){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new gr(Nt),this.started=!1,this.rr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ur=tO(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new DA),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const l=e.getItem(tO(e.persistenceKey,i));if(l){const c=WC.Yi(i,l);c&&(e.ir=e.ir.insert(c.clientId,c))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(wA(this.persistenceKey,e));if(r){const i=Gb.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void In("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(l){let c=ji.A;if(null!=l)try{const p=JSON.parse(l);St("number"==typeof p),c=p}catch(p){In("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==ji.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.kr(l)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new qC(this.currentUser,e,t,r),l=nO(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Xi())}Ir(e){const t=nO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=wA(this.persistenceKey,e),l=new Gb(e,t,r);this.setItem(i,l.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return WC.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return qC.Yi(new ui(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return Gb.Yi(i,t)}mr(e){return CA.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),l=this.yr(r),c=[],p=[];return l.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{l.has(_)||p.push(_)}),this.syncEngine.Fr(c,p).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=oh();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class rO{constructor(){this.$r=new DA,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new DA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qP{Lr(e){}shutdown(){}}class iO{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const WP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class KP{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class ZP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,l){const c=this.uo(e,t);Ne("RestConnection","Sending: ",c,r);const p={};return this.ao(p,i,l),this.co(e,c,p,r).then(_=>(Ne("RestConnection","Received: ",_),_),_=>{throw Jf("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}ho(e,t,r,i,l){return this.oo(e,t,r,i,l)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}uo(e,t){return`${this.io}/v1/${t}:${WP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((l,c)=>{const p=new $w;p.listenOnce(Uw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Lm.NO_ERROR:const w=p.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(w)),l(w);break;case Lm.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),c(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case Lm.HTTP_ERROR:const S=p.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',S,"response text:",p.getResponseText()),S>0){const x=p.getResponseJson().error;if(x&&x.status&&x.message){const V=function(G){const W=G.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(W)>=0?W:le.UNKNOWN}(x.status);c(new xe(V,x.message))}else c(new xe(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new xe(le.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);p.send(t,"POST",_,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Xf(),c=Bw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new Hw({})),this.ao(p.initMessageHeaders,t,r),(0,Yt.uI)()||(0,Yt.b$)()||(0,Yt.d)()||(0,Yt.w1)()||(0,Yt.Mn)()||(0,Yt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Ne("Connection","Creating WebChannel: "+_,p);const w=l.createWebChannel(_,p);let S=!1,x=!1;const V=new KP({Wr:W=>{x?Ne("Connection","Not sending because WebChannel is closed:",W):(S||(Ne("Connection","Opening WebChannel transport."),w.open(),S=!0),Ne("Connection","WebChannel sending:",W),w.send(W))},zr:()=>w.close()}),G=(W,me,Fe)=>{W.listen(me,pt=>{try{Fe(pt)}catch(mt){setTimeout(()=>{throw mt},0)}})};return G(w,Vm.EventType.OPEN,()=>{x||Ne("Connection","WebChannel transport opened.")}),G(w,Vm.EventType.CLOSE,()=>{x||(x=!0,Ne("Connection","WebChannel transport closed"),V.no())}),G(w,Vm.EventType.ERROR,W=>{x||(x=!0,Jf("Connection","WebChannel transport errored:",W),V.no(new xe(le.UNAVAILABLE,"The operation could not be completed")))}),G(w,Vm.EventType.MESSAGE,W=>{var me;if(!x){const Fe=W.data[0];St(!!Fe);const pt=Fe,mt=pt.error||(null===(me=pt[0])||void 0===me?void 0:me.error);if(mt){Ne("Connection","WebChannel received error:",mt);const Ct=mt.status;let lt=function($t){const Cn=sr[$t];if(void 0!==Cn)return TC(Cn)}(Ct),Vt=mt.message;void 0===lt&&(lt=le.INTERNAL,Vt="Unknown error status: "+Ct+" with message "+mt.message),x=!0,V.no(new xe(lt,Vt)),w.close()}else Ne("Connection","WebChannel received:",Fe),V.so(Fe)}}),G(c,jw.STAT_EVENT,W=>{W.stat===Qv.PROXY?Ne("Connection","Detected buffering proxy"):W.stat===Qv.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.eo()},0),V}}function sO(){return"undefined"!=typeof window?window:null}function KC(){return"undefined"!=typeof document?document:null}function zb(n){return new RC(n,!0)}class TA{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=l,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class oO{constructor(e,t,r,i,l,c,p,_){this.Yn=e,this.Ro=r,this.Po=i,this.bo=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new TA(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Ee.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Ee.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,Ee.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(In(t.toString()),In("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new xe(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To((0,Ee.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YP extends oO{constructor(e,t,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=l}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function vx(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Je(),i=e.targetChange.targetIds||[],l=function(_,w){return _.N?(St(void 0===w||"string"==typeof w),Sr.fromBase64String(w||"")):(St(void 0===w||w instanceof Uint8Array),Sr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(_){const w=void 0===_.code?le.UNKNOWN:TC(_.code);return new xe(w,_.message||"")}(c);t=new zT(r,i,l,p||null)}else if("documentChange"in e){const r=e.documentChange,i=to(n,r.document.name),l=xr(r.document.updateTime),c=new ci({mapValue:{fields:r.document.fields}}),p=Nn.newFoundDocument(i,l,c);t=new Ab(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=to(n,r.document),l=r.readTime?xr(r.readTime):It.min(),c=Nn.newNoDocument(i,l);t=new Ab([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=to(n,r.document);t=new Ab([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Je();{const r=e.filter,l=new yx(r.count||0);t=new GT(r.targetId,l)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return It.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?It.min():l.readTime?xr(l.readTime):It.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=n_(this.M),t.addTarget=function(i,l){let c;const p=l.target;return c=lb(p)?{documents:JT(i,p)}:{query:LC(i,p)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?c.resumeToken=kC(i,l.resumeToken):l.snapshotVersion.compareTo(It.min())>0&&(c.readTime=ah(i,l.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function Ex(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Je()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=n_(this.M),t.removeTarget=e,this.Fo(t)}}class QP extends oO{constructor(e,t,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=l,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function bx(n,e){return n&&n.length>0?(St(void 0!==e),n.map(t=>function(r,i){let l=xr(r.updateTime?r.updateTime:i);return l.isEqual(It.min())&&(l=xr(i)),new jT(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.Yo(r,t)}return St(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=n_(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>r_(this.M,r))};this.Fo(t)}}class XP extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.oo(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(le.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.ho(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(le.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class JP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(In(t),this.iu=!1):Ne("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class eN{constructor(e,t,r,i,l){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=l,this._u.Lr(p=>{r.enqueueAndForget((0,Ee.Z)(function*(){var _;fh(c)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ee.Z)(function*(w){const S=qe(w);S.fu.add(4),yield h_(S),S.wu.set("Unknown"),S.fu.delete(4),yield qb(S)}),function(w){return _.apply(this,arguments)})(c))}))}),this.wu=new JP(r,i)}}function qb(n){return AA.apply(this,arguments)}function AA(){return AA=(0,Ee.Z)(function*(n){if(fh(n))for(const e of n.du)yield e(!0)}),AA.apply(this,arguments)}function h_(n){return SA.apply(this,arguments)}function SA(){return SA=(0,Ee.Z)(function*(n){for(const e of n.du)yield e(!1)}),SA.apply(this,arguments)}function ZC(n,e){const t=qe(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),OA(t)?xA(t):p_(t).xo()&&MA(t,e))}function Wb(n,e){const t=qe(n),r=p_(t);t.lu.delete(e),r.xo()&&aO(t,e),0===t.lu.size&&(r.xo()?r.Mo():fh(t)&&t.wu.set("Unknown"))}function MA(n,e){n.mu.Z(e.targetId),p_(n).jo(e)}function aO(n,e){n.mu.Z(e),p_(n).Wo(e)}function xA(n){n.mu=new qT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),p_(n).start(),n.wu.ru()}function OA(n){return fh(n)&&!p_(n).Co()&&n.lu.size>0}function fh(n){return 0===qe(n).fu.size}function lO(n){n.mu=void 0}function tN(n){return RA.apply(this,arguments)}function RA(){return RA=(0,Ee.Z)(function*(n){n.lu.forEach((e,t)=>{MA(n,e)})}),RA.apply(this,arguments)}function nN(n,e){return kA.apply(this,arguments)}function kA(){return kA=(0,Ee.Z)(function*(n,e){lO(n),OA(n)?(n.wu.au(e),xA(n)):n.wu.set("Unknown")}),kA.apply(this,arguments)}function rN(n,e,t){return PA.apply(this,arguments)}function PA(){return PA=(0,Ee.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof zT&&2===e.state&&e.cause)try{yield(r=(0,Ee.Z)(function*(i,l){const c=l.cause;for(const p of l.targetIds)i.lu.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.lu.delete(p),i.mu.removeTarget(p))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield YC(n,r)}else if(e instanceof Ab?n.mu.ut(e):e instanceof GT?n.mu._t(e):n.mu.ht(e),!t.isEqual(It.min()))try{const r=yield Yx(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const c=i.mu.yt(l);return c.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const w=i.lu.get(_);w&&i.lu.set(_,w.withResumeToken(p.resumeToken,l))}}),c.targetMismatches.forEach(p=>{const _=i.lu.get(p);if(!_)return;i.lu.set(p,_.withResumeToken(Sr.EMPTY_BYTE_STRING,_.snapshotVersion)),aO(i,p);const w=new uh(_.target,p,1,_.sequenceNumber);MA(i,w)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield YC(n,r)}var r}),PA.apply(this,arguments)}function YC(n,e,t){return NA.apply(this,arguments)}function NA(){return NA=(0,Ee.Z)(function*(n,e,t){if(!up(e))throw e;n.fu.add(1),yield h_(n),n.wu.set("Offline"),t||(t=()=>Yx(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield qb(n)}))}),NA.apply(this,arguments)}function uO(n,e){return e().catch(t=>YC(n,t,e))}function f_(n){return FA.apply(this,arguments)}function FA(){return FA=(0,Ee.Z)(function*(n){const e=qe(n),t=ph(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;iN(e);)try{const i=yield NP(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,sN(e,i)}catch(i){yield YC(e,i)}cO(e)&&dO(e)}),FA.apply(this,arguments)}function iN(n){return fh(n)&&n.hu.length<10}function sN(n,e){n.hu.push(e);const t=ph(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function cO(n){return fh(n)&&!ph(n).Co()&&n.hu.length>0}function dO(n){ph(n).start()}function oN(n){return LA.apply(this,arguments)}function LA(){return LA=(0,Ee.Z)(function*(n){ph(n).Zo()}),LA.apply(this,arguments)}function aN(n){return VA.apply(this,arguments)}function VA(){return VA=(0,Ee.Z)(function*(n){const e=ph(n);for(const t of n.hu)e.Jo(t.mutations)}),VA.apply(this,arguments)}function lN(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,Ee.Z)(function*(n,e,t){const r=n.hu.shift(),i=iA.from(r,e,t);yield uO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield f_(n)}),BA.apply(this,arguments)}function uN(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,Ee.Z)(function*(n,e){var t;e&&ph(n).Ho&&(yield(t=(0,Ee.Z)(function*(r,i){if(IC(l=i.code)&&l!==le.ABORTED){const c=r.hu.shift();ph(r).ko(),yield uO(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield f_(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),cO(n)&&dO(n)}),UA.apply(this,arguments)}function hO(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,Ee.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=fh(t);t.fu.add(3),yield h_(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield qb(t)}),jA.apply(this,arguments)}function HA(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,Ee.Z)(function*(n,e){const t=qe(n);e?(t.fu.delete(2),yield qb(t)):e||(t.fu.add(2),yield h_(t),t.wu.set("Unknown"))}),$A.apply(this,arguments)}function p_(n){return n.gu||(n.gu=function(e,t,r){const i=qe(e);return i.eu(),new YP(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:tN.bind(null,n),Yr:nN.bind(null,n),Qo:rN.bind(null,n)}),n.du.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.gu.ko(),OA(n)?xA(n):n.wu.set("Unknown")):(yield n.gu.stop(),lO(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function ph(n){return n.yu||(n.yu=function(e,t,r){const i=qe(e);return i.eu(),new QP(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:oN.bind(null,n),Yr:uN.bind(null,n),Xo:aN.bind(null,n),Yo:lN.bind(null,n)}),n.du.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.yu.ko(),yield f_(n)):(yield n.yu.stop(),n.hu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class GA{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,l){const c=Date.now()+r,p=new GA(e,t,c,i,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g_(n,e){if(In("AsyncQueue",`${e}: ${n}`),up(n))return new xe(le.UNAVAILABLE,`${e}: ${n}`);throw n}class m_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=Ya(),this.sortedSet=new gr(this.comparator)}static emptySet(e){return new m_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof m_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new m_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class fO{constructor(){this.pu=new gr(He.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Je():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class __{constructor(e,t,r,i,l,c,p,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new __(e,t,m_.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class cN{constructor(){this.Tu=void 0,this.listeners=[]}}class dN{constructor(){this.queries=new bc(e=>gC(e),_c),this.onlineState="Unknown",this.Eu=new Set}}function zA(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,Ee.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new cN),i)try{l.Tu=yield t.onListen(r)}catch(c){const p=g_(c,`Initialization of query '${ws(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.Au(t.onlineState),l.Tu&&e.Ru(l.Tu)&&ZA(t)}),qA.apply(this,arguments)}function WA(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,Ee.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),KA.apply(this,arguments)}function hN(n,e){const t=qe(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Ru(i)&&(r=!0);c.Tu=i}}r&&ZA(t)}function fN(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function ZA(n){n.Eu.forEach(e=>{e.next()})}class YA{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new __(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=__.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class pN{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class pO{constructor(e){this.M=e}fi(e){return to(this.M,e)}di(e){return e.metadata.exists?NC(this.M,e.document,!1):Nn.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return xr(e)}}class gN{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gO(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=tn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new pO(this.M);for(const i of e)if(i.metadata.queries){const l=r.fi(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||En()).add(l);t.set(c,p)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function FP(n,e,t,r){return yA.apply(this,arguments)}(e.localStore,new pO(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield LP(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function gO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class mO{constructor(e){this.key=e}}class _O{constructor(e){this.key=e}}class yO{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=En(),this.mutatedKeys=En(),this.Uu=mC(e),this.qu=new m_(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new fO,i=t?t.qu:this.qu;let l=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const _=hb(this.query)&&i.size===this.query.limit?i.last():null,w=fb(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,x)=>{const V=i.get(S),G=mb(this.query,x)?x:null,W=!!V&&this.mutatedKeys.has(V.key),me=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Fe=!1;V&&G?V.data.isEqual(G.data)?W!==me&&(r.track({type:3,doc:G}),Fe=!0):this.ju(V,G)||(r.track({type:2,doc:G}),Fe=!0,(_&&this.Uu(G,_)>0||w&&this.Uu(G,w)<0)&&(p=!0)):!V&&G?(r.track({type:0,doc:G}),Fe=!0):V&&!G&&(r.track({type:1,doc:V}),Fe=!0,(_||w)&&(p=!0)),Fe&&(G?(c=c.add(G),l=me?l.add(S):l.delete(S)):(c=c.delete(S),l=l.delete(S)))}),hb(this.query)||fb(this.query))for(;c.size>this.query.limit;){const S=hb(this.query)?c.last():c.first();c=c.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{qu:c,Qu:r,ni:p,mutatedKeys:l}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const l=e.Qu.Iu();l.sort((w,S)=>function(x,V){const G=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return G(x)-G(V)}(w.type,S.type)||this.Uu(w.doc,S.doc)),this.Wu(r);const c=t?this.zu():[],p=0===this.Lu.size&&this.current?1:0,_=p!==this.Bu;return this.Bu=p,0!==l.length||_?{snapshot:new __(this.query,e.qu,i,l,e.mutatedKeys,0===p,_,!1),Hu:c}:{Hu:c}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new fO,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=En(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new _O(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new mO(r))}),t}Yu(e){this.$u=e.li,this.Lu=En();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return __.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class mN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _N{constructor(e){this.key=e,this.Zu=!1}}class yN{constructor(e,t,r,i,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.ta={},this.ea=new bc(p=>gC(p),_c),this.na=new Map,this.sa=new Set,this.ia=new gr(He.comparator),this.ra=new Map,this.oa=new bA,this.ua={},this.aa=new Map,this.ca=gp.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function vN(n,e){return QA.apply(this,arguments)}function QA(){return QA=(0,Ee.Z)(function*(n,e){const t=bS(n);let r,i;const l=t.ea.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.Xu();else{const c=yield c_(t.localStore,Oo(e));t.isPrimaryClient&&ZC(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield XA(t,e,r,"current"===p)}return i}),QA.apply(this,arguments)}function XA(n,e,t,r){return JA.apply(this,arguments)}function JA(){return JA=(0,Ee.Z)(function*(n,e,t,r){n.la=(S,x,V)=>{return(G=(0,Ee.Z)(function*(W,me,Fe,pt){let mt=me.view.Gu(Fe);mt.ni&&(mt=yield zC(W.localStore,me.query,!1).then(({documents:Vt})=>me.view.Gu(Vt,mt)));const Ct=pt&&pt.targetChanges.get(me.targetId),lt=me.view.applyChanges(mt,W.isPrimaryClient,Ct);return uS(W,me.targetId,lt.Hu),lt.snapshot}),function(W,me,Fe,pt){return G.apply(this,arguments)})(n,S,x,V);var G};const i=yield zC(n.localStore,e,!0),l=new yO(e,i.li),c=l.Gu(i.documents),p=t_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=l.applyChanges(c,n.isPrimaryClient,p);uS(n,t,_.Hu);const w=new mN(e,t,l);return n.ea.set(e,w),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),_.snapshot}),JA.apply(this,arguments)}function bN(n,e){return eS.apply(this,arguments)}function eS(){return eS=(0,Ee.Z)(function*(n,e){const t=qe(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(l=>!_c(l,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield d_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Wb(t.remoteStore,r.targetId),y_(t,r.targetId)}).catch(mp))):(y_(t,r.targetId),yield d_(t.localStore,r.targetId,!0))}),eS.apply(this,arguments)}function tS(){return tS=(0,Ee.Z)(function*(n,e,t){const r=ES(n);try{const i=yield function(l,c){const p=qe(l),_=ir.now(),w=c.reduce((x,V)=>x.add(V.key),En());let S;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>p.ci.Ks(x,w).next(V=>{S=V;const G=[];for(const W of c){const me=wC(W,S.get(W.key));null!=me&&G.push(new vc(W.key,me,sb(me.value.mapValue),Mr.exists(!0)))}return p.Bs.addMutationBatch(x,_,G,c)})).then(x=>(x.applyToLocalDocumentSet(S),{batchId:x.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,p){let _=l.ua[l.currentUser.toKey()];_||(_=new gr(Nt)),_=_.insert(c,p),l.ua[l.currentUser.toKey()]=_}(r,i.batchId,t),yield wc(r,i.changes),yield f_(r.remoteStore)}catch(i){const l=g_(i,"Failed to persist write");t.reject(l)}}),tS.apply(this,arguments)}function vO(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,Ee.Z)(function*(n,e){const t=qe(n);try{const r=yield PP(t.localStore,e);e.targetChanges.forEach((i,l)=>{const c=t.ra.get(l);c&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Zu=!0:i.modifiedDocuments.size>0?St(c.Zu):i.removedDocuments.size>0&&(St(c.Zu),c.Zu=!1))}),yield wc(t,r,e)}catch(r){yield mp(r)}}),nS.apply(this,arguments)}function bO(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((l,c)=>{const p=c.view.Au(e);p.snapshot&&i.push(p.snapshot)}),function(l,c){const p=qe(l);p.onlineState=c;let _=!1;p.queries.forEach((w,S)=>{for(const x of S.listeners)x.Au(c)&&(_=!0)}),_&&ZA(p)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wN(n,e,t){return rS.apply(this,arguments)}function rS(){return rS=(0,Ee.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),l=i&&i.key;if(l){let c=new gr(He.comparator);c=c.insert(l,Nn.newNoDocument(l,It.min()));const p=En().add(l),_=new Jl(It.min(),new Map,new Hn(Nt),c,p);yield vO(r,_),r.ia=r.ia.remove(l),r.ra.delete(e),cS(r)}else yield d_(r.localStore,e,!1).then(()=>y_(r,e,t)).catch(mp)}),rS.apply(this,arguments)}function CN(n,e){return iS.apply(this,arguments)}function iS(){return iS=(0,Ee.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield kP(t.localStore,e);lS(t,r,null),aS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield wc(t,i)}catch(i){yield mp(i)}}),iS.apply(this,arguments)}function DN(n,e,t){return sS.apply(this,arguments)}function sS(){return sS=(0,Ee.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(l,c){const p=qe(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return p.Bs.lookupMutationBatch(_,c).next(S=>(St(null!==S),w=S.keys(),p.Bs.removeMutationBatch(_,S))).next(()=>p.Bs.performConsistencyCheck(_)).next(()=>p.ci.Ks(_,w))})}(r.localStore,e);lS(r,e,t),aS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield wc(r,i)}catch(i){yield mp(i)}}),sS.apply(this,arguments)}function oS(){return oS=(0,Ee.Z)(function*(n,e){const t=qe(n);fh(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const c=qe(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.Bs.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=g_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),oS.apply(this,arguments)}function aS(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function lS(n,e,t){const r=qe(n);let i=r.ua[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function y_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||EO(n,r)})}function EO(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(Wb(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),cS(n))}function uS(n,e,t){for(const r of t)r instanceof mO?(n.oa.addReference(r.key,e),TN(n,r)):r instanceof _O?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||EO(n,r.key)):Je()}function TN(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.sa.add(r),cS(n))}function cS(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new He(tn.fromString(e)),r=n.ca.next();n.ra.set(r,new _N(t)),n.ia=n.ia.insert(t,r),ZC(n.remoteStore,new uh(Oo(eh(t.path)),r,2,ji.A))}}function wc(n,e,t){return dS.apply(this,arguments)}function dS(){return dS=(0,Ee.Z)(function*(n,e,t){const r=qe(n),i=[],l=[],c=[];var p;r.ea.isEmpty()||(r.ea.forEach((p,_)=>{c.push(r.la(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),i.push(w);const S=gA.Ys(_.targetId,w);l.push(S)}}))}),yield Promise.all(c),r.ta.Qo(i),yield(p=(0,Ee.Z)(function*(_,w){const S=qe(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ge.forEach(w,V=>ge.forEach(V.Hs,G=>S.persistence.referenceDelegate.addReference(x,V.targetId,G)).next(()=>ge.forEach(V.Js,G=>S.persistence.referenceDelegate.removeReference(x,V.targetId,G)))))}catch(x){if(!up(x))throw x;Ne("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const V=x.targetId;if(!x.fromCache){const G=S.ii.get(V),me=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);S.ii=S.ii.insert(V,me)}}}),function(_,w){return p.apply(this,arguments)})(r.localStore,l))}),dS.apply(this,arguments)}function AN(n,e){return hS.apply(this,arguments)}function hS(){return hS=(0,Ee.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield Zx(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(c=>{c.forEach(p=>{p.reject(new xe(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wc(t,r.hi)}var i}),hS.apply(this,arguments)}function SN(n,e){const t=qe(n),r=t.ra.get(e);if(r&&r.Zu)return En().add(r.key);{let i=En();const l=t.na.get(e);if(!l)return i;for(const c of l){const p=t.ea.get(c);i=i.unionWith(p.view.Ku)}return i}}function MN(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,Ee.Z)(function*(n,e){const t=qe(n),r=yield zC(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&uS(t,e.targetId,i.Hu),i}),fS.apply(this,arguments)}function xN(n,e){return pS.apply(this,arguments)}function pS(){return pS=(0,Ee.Z)(function*(n,e){const t=qe(n);return Jx(t.localStore,e).then(r=>wc(t,r))}),pS.apply(this,arguments)}function ON(n,e,t,r){return gS.apply(this,arguments)}function gS(){return gS=(0,Ee.Z)(function*(n,e,t,r){const i=qe(n),l=yield function(c,p){const _=qe(c),w=qe(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>w.fn(S,p).next(x=>x?_.ci.Ks(S,x):ge.resolve(null)))}(i.localStore,e);var p;null!==l?("pending"===t?yield f_(i.remoteStore):"acknowledged"===t||"rejected"===t?(lS(i,e,r||null),aS(i,e),p=e,qe(qe(i.localStore).Bs)._n(p)):Je(),yield wc(i,l)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),gS.apply(this,arguments)}function mS(){return mS=(0,Ee.Z)(function*(n,e){const t=qe(n);if(bS(t),ES(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield wO(t,r.toArray());t.ha=!0,yield HA(t.remoteStore,!0);for(const l of i)ZC(t.remoteStore,l)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(y_(t,c),d_(t.localStore,c,!0))),Wb(t.remoteStore,c)}),yield i,yield wO(t,r),function(l){const c=qe(l);c.ra.forEach((p,_)=>{Wb(c.remoteStore,_)}),c.oa.bi(),c.ra=new Map,c.ia=new gr(He.comparator)}(t),t.ha=!1,yield HA(t.remoteStore,!1)}}),mS.apply(this,arguments)}function wO(n,e,t){return _S.apply(this,arguments)}function _S(){return _S=(0,Ee.Z)(function*(n,e,t){const r=qe(n),i=[],l=[];for(const c of e){let p;const _=r.na.get(c);if(_&&0!==_.length){p=yield c_(r.localStore,Oo(_[0]));for(const w of _){const S=r.ea.get(w),x=yield MN(r,S);x.snapshot&&l.push(x.snapshot)}}else{const w=yield Xx(r.localStore,c);p=yield c_(r.localStore,w),yield XA(r,CO(w),c,!1)}i.push(p)}return r.ta.Qo(l),i}),_S.apply(this,arguments)}function CO(n){return Zm(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function kN(n){const e=qe(n);return qe(qe(e.localStore).persistence).Fs()}function PN(n,e,t,r){return yS.apply(this,arguments)}function yS(){return yS=(0,Ee.Z)(function*(n,e,t,r){const i=qe(n);if(i.ha)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const l=i.na.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=yield Jx(i.localStore,Ym(l[0])),p=Jl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield wc(i,c,p);break}case"rejected":yield d_(i.localStore,e,!0),y_(i,e,r);break;default:Je()}}),yS.apply(this,arguments)}function NN(n,e,t){return vS.apply(this,arguments)}function vS(){return vS=(0,Ee.Z)(function*(n,e,t){const r=bS(n);if(r.ha){for(const i of e){if(r.na.has(i)){Ne("SyncEngine","Adding an already active target "+i);continue}const l=yield Xx(r.localStore,i),c=yield c_(r.localStore,l);yield XA(r,CO(l),c.targetId,!1),ZC(r.remoteStore,c)}for(const i of t)r.na.has(i)&&(yield d_(r.localStore,i,!1).then(()=>{Wb(r.remoteStore,i),y_(r,i)}).catch(mp))}}),vS.apply(this,arguments)}function bS(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wN.bind(null,e),e.ta.Qo=hN.bind(null,e.eventManager),e.ta.fa=fN.bind(null,e.eventManager),e}function ES(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DN.bind(null,e),e}class DO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.M=zb(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return Kx(this.persistence,new Wx,e.initialUser,this.M)}wa(e){return new GP(EA.zi,this.M)}_a(e){return new rO}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class IO extends DO{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield ES(r.ya.syncEngine),yield f_(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return Kx(this.persistence,new Wx,e.initialUser,this.M)}ma(e){return new IP(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=pA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?no.withCacheSize(this.cacheSizeBytes):no.DEFAULT;return new fA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,sO(),KC(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new rO}}class LN extends IO{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof IA&&(r.sharedClientState.syncEngine={Mr:ON.bind(null,i),Or:PN.bind(null,i),Fr:NN.bind(null,i),Fs:kN.bind(null,i),kr:xN.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var l=(0,Ee.Z)(function*(c){yield function RN(n,e){return mS.apply(this,arguments)}(r.ya.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return l.apply(this,arguments)}}())})()}_a(e){const t=sO();if(!IA.vt(t))throw new xe(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=pA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class wS{initialize(e,t){var r=this;return(0,Ee.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>bO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=AN.bind(null,r.syncEngine),yield HA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dN}createDatastore(e){const t=zb(e.databaseInfo.databaseId),r=new ZP(e.databaseInfo);return new XP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=p=>bO(this.syncEngine,p,0),c=iO.vt()?new iO:new qP,new eN(t,r,i,l,c);var t,r,i,l,c}createSyncEngine(e,t){return function(r,i,l,c,p,_,w){const S=new yN(r,i,l,c,p,_);return w&&(S.ha=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const r=qe(t);Ne("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield h_(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function TO(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class QC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class VN{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new Hr,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const l=yield e.ba(i);return new pN(JSON.parse(l),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Ee.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class BN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ee.Z)(function*(l,c){const p=qe(l),_=n_(p.M)+"/documents",w={documents:c.map(G=>lh(p.M,G))},S=yield p.ho("BatchGetDocuments",_,w),x=new Map;S.forEach(G=>{const W=function XT(n,e){return"found"in e?function(t,r){St(!!r.found);const i=to(t,r.found.name),l=xr(r.found.updateTime),c=new ci({mapValue:{fields:r.found.fields}});return Nn.newFoundDocument(i,l,c)}(n,e):"missing"in e?function(t,r){St(!!r.missing),St(!!r.readTime);const i=to(t,r.missing),l=xr(r.readTime);return Nn.newNoDocument(i,l)}(n,e):Je()}(p.M,G);x.set(W.key.toString(),W)});const V=[];return c.forEach(G=>{const W=x.get(G.toString());St(!!W),V.push(W)}),V}),function(l,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ap(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=He.fromPath(i);e.mutations.push(new DC(l,e.precondition(l)))}),yield(r=(0,Ee.Z)(function*(i,l){const c=qe(i),p=n_(c.M)+"/documents",_={writes:l.map(w=>r_(c.M,w))};yield c.oo("Commit",p,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Je();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Mr.updateTime(t):Mr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new xe(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mr.updateTime(t)}return Mr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class UN{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new TA(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Ee.Z)(function*(){const t=new BN(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.xa(l)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!Ga(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!IC(t)}return!1}}class jN{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ui.UNAUTHENTICATED,this.clientId=Bm.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ee.Z)(function*(p){Ne("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ne("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=g_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function AO(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ee.Z)(function*(l){r.isEqual(l)||(yield Zx(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),CS.apply(this,arguments)}function SO(n,e){return DS.apply(this,arguments)}function DS(){return DS=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield IS(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>hO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>hO(e.remoteStore,l)),n.onlineComponents=e}),DS.apply(this,arguments)}function IS(n){return TS.apply(this,arguments)}function TS(){return TS=(0,Ee.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield AO(n,new DO)),n.offlineComponents}),TS.apply(this,arguments)}function XC(n){return AS.apply(this,arguments)}function AS(){return AS=(0,Ee.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield SO(n,new wS)),n.onlineComponents}),AS.apply(this,arguments)}function MO(n){return IS(n).then(e=>e.persistence)}function SS(n){return IS(n).then(e=>e.localStore)}function xO(n){return XC(n).then(e=>e.remoteStore)}function MS(n){return XC(n).then(e=>e.syncEngine)}function v_(n){return xS.apply(this,arguments)}function xS(){return xS=(0,Ee.Z)(function*(n){const e=yield XC(n),t=e.eventManager;return t.onListen=vN.bind(null,e.syncEngine),t.onUnlisten=bN.bind(null,e.syncEngine),t}),xS.apply(this,arguments)}function OO(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,l,c,p,_){const w=new QC({next:x=>{l.enqueueAndForget(()=>WA(i,S));const V=x.docs.has(c);!V&&x.fromCache?_.reject(new xe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&x.fromCache&&p&&"server"===p.source?_.reject(new xe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new YA(eh(c.path),w,{includeMetadataChanges:!0,Cu:!0});return zA(i,S)}(yield v_(n),n.asyncQueue,e,t,r)})),r.promise}function RO(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,l,c,p,_){const w=new QC({next:x=>{l.enqueueAndForget(()=>WA(i,S)),x.fromCache&&"server"===p.source?_.reject(new xe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new YA(c,w,{includeMetadataChanges:!0,Cu:!0});return zA(i,S)}(yield v_(n),n.asyncQueue,e,t,r)})),r.promise}const kO=new Map;function OS(n,e,t){if(!t)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PO(n,e,t,r){if(!0===e&&!0===r)throw new xe(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NO(n){if(!He.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FO(n){if(He.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Je()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=JC(n);throw new xe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function LO(n,e){if(e<=0)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class VO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,PO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VO({}),this._settingsFrozen=!1,e instanceof $a?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(i.options.projectId)}(e))}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qw;switch(t.type){case"gapi":const r=t.client;return St(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new RT(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=kO.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),kO.delete(e),t.terminate())}(this),Promise.resolve()}}class qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class Xi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class eu extends Xi{constructor(e,t,r){super(e,t,eh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new He(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function BO(n,e,...t){if(n=(0,Yt.m9)(n),OS("collection","path",e),n instanceof Kb){const r=tn.fromString(e,...t);return FO(r),new eu(n,null,r)}{if(!(n instanceof qn||n instanceof eu))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return FO(r),new eu(n.firestore,null,r)}}function eD(n,e,...t){if(n=(0,Yt.m9)(n),1===arguments.length&&(e=Bm.R()),OS("doc","path",e),n instanceof Kb){const r=tn.fromString(e,...t);return NO(r),new qn(n,null,new He(r))}{if(!(n instanceof qn||n instanceof eu))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return NO(r),new qn(n.firestore,n instanceof eu?n.converter:null,new He(r))}}function UO(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),(n instanceof qn||n instanceof eu)&&(e instanceof qn||e instanceof eu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function jO(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),n instanceof Xi&&e instanceof Xi&&n.firestore===e.firestore&&_c(n._query,e._query)&&n.converter===e.converter}class XN{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new TA(this,"async_queue_retry"),this.qa=()=>{const t=KC();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=KC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=KC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Hr;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!up(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,In("INTERNAL UNHANDLED ERROR: ",function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),c}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=GA.createAndSchedule(this,e,t,r,l=>this.ja(l));return this.Fa.push(i),i}Ka(){this.$a&&Je()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function RS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class JN{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Jn extends Kb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new XN,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||HO(this),this._firestoreClient.terminate()}}function Gr(n){return n._firestoreClient||HO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function HO(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new tp(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new jN(n._authCredentials,n._appCheckCredentials,n._queue,r)}function $O(n,e,t){const r=new Hr;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield AO(n,t),yield SO(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===le.FAILED_PRECONDITION||l.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function GO(n){if(n._initialized||n._terminated)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tu(Sr.fromBase64String(e))}catch(t){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tu(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yp{constructor(e){this._methodName=e}}class tD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const c1=/^__.*__$/;class d1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new vc(e,this.data,this.fieldMask,t,this.fieldTransforms):new ih(e,this.data,t,this.fieldTransforms)}}class zO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new vc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class nD{constructor(e,t,r,i,l,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.Ya(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new nD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return sD(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(qO(this.Xa)&&c1.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class h1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||zb(e)}ac(e,t,r,i=!1){return new nD({Xa:e,methodName:t,uc:r,path:$r.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function vp(n){const e=n._freezeSettings(),t=zb(n._databaseId);return new h1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rD(n,e,t,r,i,l={}){const c=n.ac(l.merge||l.mergeFields?2:0,e,t,i);FS("Data must be an object, but it was:",c,r);const p=ZO(r,c);let _,w;if(l.merge)_=new fc(c.fieldMask),w=c.fieldTransforms;else if(l.mergeFields){const S=[];for(const x of l.mergeFields){const V=LS(e,x,t);if(!c.contains(V))throw new xe(le.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);QO(S,V)||S.push(V)}_=new fc(S),w=c.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,w=c.fieldTransforms;return new d1(new ci(p),_,w)}class Zb extends yp{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zb}}function WO(n,e,t){return new nD({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class kS extends yp{_toFieldTransform(e){return new ip(e.path,new nh)}isEqual(e){return e instanceof kS}}class f1 extends yp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=WO(this,e,!0),r=this.cc.map(l=>bp(l,t)),i=new Ka(r);return new ip(e.path,i)}isEqual(e){return this===e}}class p1 extends yp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=WO(this,e,!0),r=this.cc.map(l=>bp(l,t)),i=new yc(r);return new ip(e.path,i)}isEqual(e){return this===e}}class g1 extends yp{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new rh(e.M,yb(e.M,this.hc));return new ip(e.path,t)}isEqual(e){return this===e}}function PS(n,e,t,r){const i=n.ac(1,e,t);FS("Data must be an object, but it was:",i,r);const l=[],c=ci.empty();Ha(r,(_,w)=>{const S=iD(e,_,t);w=(0,Yt.m9)(w);const x=i.sc(S);if(w instanceof Zb)l.push(S);else{const V=bp(w,x);null!=V&&(l.push(S),c.set(S,V))}});const p=new fc(l);return new zO(c,p,i.fieldTransforms)}function NS(n,e,t,r,i,l){const c=n.ac(1,e,t),p=[LS(e,r,t)],_=[i];if(l.length%2!=0)throw new xe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<l.length;V+=2)p.push(LS(e,l[V])),_.push(l[V+1]);const w=[],S=ci.empty();for(let V=p.length-1;V>=0;--V)if(!QO(w,p[V])){const G=p[V];let W=_[V];W=(0,Yt.m9)(W);const me=c.sc(G);if(W instanceof Zb)w.push(G);else{const Fe=bp(W,me);null!=Fe&&(w.push(G),S.set(G,Fe))}}const x=new fc(w);return new zO(S,x,c.fieldTransforms)}function KO(n,e,t,r=!1){return bp(t,n.ac(r?4:3,e))}function bp(n,e){if(YO(n=(0,Yt.m9)(n)))return FS("Unsupported field value:",e,n),ZO(n,e);if(n instanceof yp)return function(t,r){if(!qO(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const c of t){let p=bp(c,r.ic(l));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yb(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ir.fromDate(t);return{timestampValue:ah(r.M,i)}}if(t instanceof ir){const i=new ir(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ah(r.M,i)}}if(t instanceof tD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tu)return{bytesValue:kC(r.M,t._byteString)};if(t instanceof qn){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.rc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:lp(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${JC(t)}`)}(n,e)}function ZO(n,e){const t={};return eb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(n,(r,i)=>{const l=bp(i,e.tc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function YO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ir||n instanceof tD||n instanceof tu||n instanceof qn||n instanceof yp)}function FS(n,e,t){if(!YO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=JC(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function LS(n,e,t){if((e=(0,Yt.m9)(e))instanceof Cc)return e._internalPath;if("string"==typeof e)return iD(n,e);throw sD("Field path arguments must be of type string or ",n,!1,void 0,t)}const m1=new RegExp("[~\\*/\\[\\]]");function iD(n,e,t){if(e.search(m1)>=0)throw sD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cc(...e.split("."))._internalPath}catch(r){throw sD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sD(n,e,t,r,i){const l=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(l||c)&&(_+=" (found",l&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new xe(le.INVALID_ARGUMENT,p+n+_)}function QO(n,e){return n.some(t=>t.isEqual(e))}class Yb{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _1 extends Yb{data(){return super.data()}}function oD(n,e){return"string"==typeof e?iD(n,e):e instanceof Cc?e._internalPath:e._delegate._internalPath}class Ep{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dc extends Yb{constructor(e,t,r,i,l,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(oD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Qb extends Dc{data(e={}){return super.data(e)}}class gh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ep(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qb(this._firestore,this._userDataWriter,r.key,r,new Ep(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Qb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ep(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new Qb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ep(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==c.type&&(_=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),1!==c.type&&(l=l.add(c.doc),w=l.indexOf(c.doc.key)),{type:y1(c.type),doc:p,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function y1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function XO(n,e){return n instanceof Dc&&e instanceof Dc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof gh&&e instanceof gh&&n._firestore===e._firestore&&jO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function JO(n){if(fb(n)&&0===n.explicitOrderBy.length)throw new xe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xb{}function mh(n,...e){for(const t of e)n=t._apply(n);return n}class v1 extends Xb{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=vp(e.firestore),r=function(i,l,c,p,_,w,S){let x;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){sR(S,w);const G=[];for(const W of S)G.push(iR(p,i,W));x={arrayValue:{values:G}}}else x=iR(p,i,S)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||sR(S,w),x=KO(c,"where",S,"in"===w||"not-in"===w);const V=Ti.create(_,w,x);return function(G,W){if(W.S()){const Fe=pb(G);if(null!==Fe&&!Fe.isEqual(W.field))throw new xe(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Fe.toString()}' and '${W.field.toString()}'`);const pt=fC(G);null!==pt&&oR(0,W.field,pt)}const me=function(Fe,pt){for(const mt of Fe.filters)if(pt.indexOf(mt.op)>=0)return mt.op;return null}(G,function(Fe){switch(Fe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(W.op));if(null!==me)throw new xe(le.INVALID_ARGUMENT,me===W.op?`Invalid query. You cannot use more than one '${W.op.toString()}' filter.`:`Invalid query. You cannot use '${W.op.toString()}' filters with '${me.toString()}' filters.`)}(i,V),V}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Xi(e.firestore,e.converter,function(i,l){const c=i.filters.concat([l]);return new Wa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class E1 extends Xb{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new mc(i,l);return function(p,_){if(null===fC(p)){const w=pb(p);null!==w&&oR(0,w,_.field)}}(r,c),c}(e._query,this.lc,this._c);return new Xi(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Wa(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class eR extends Xb{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new Xi(e.firestore,e.converter,pC(e._query,this.wc,this.mc))}}class tR extends Xb{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=rR(e,this.type,this.gc,this.yc);return new Xi(e.firestore,e.converter,(i=t,new Wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class nR extends Xb{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=rR(e,this.type,this.gc,this.yc);return new Xi(e.firestore,e.converter,(i=t,new Wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function rR(n,e,t,r){if(t[0]=(0,Yt.m9)(t[0]),t[0]instanceof Yb)return function(i,l,c,p,_){if(!p)throw new xe(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const S of th(i))if(S.field.isKeyField())w.push(Xl(l,p.key));else{const x=p.data.field(S.field);if(tb(x))throw new xe(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const V=S.field.canonicalString();throw new xe(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}w.push(x)}return new qa(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=vp(n.firestore);return function(l,c,p,_,w,S){const x=l.explicitOrderBy;if(w.length>x.length)throw new xe(le.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let G=0;G<w.length;G++){const W=w[G];if(x[G].field.isKeyField()){if("string"!=typeof W)throw new xe(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof W}`);if(!gb(l)&&-1!==W.indexOf("/"))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${W}' contains a slash.`);const me=l.path.child(tn.fromString(W));if(!He.isDocumentKey(me))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${me}' is not because it contains an odd number of segments.`);const Fe=new He(me);V.push(Xl(c,Fe))}else{const me=KO(p,_,W);V.push(me)}}return new qa(V,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function iR(n,e,t){if("string"==typeof(t=(0,Yt.m9)(t))){if(""===t)throw new xe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gb(e)&&-1!==t.indexOf("/"))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tn.fromString(t));if(!He.isDocumentKey(r))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xl(n,new He(r))}if(t instanceof qn)return Xl(n,t._key);throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${JC(t)}.`)}function sR(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function oR(n,e,t){if(!t.isEqual(e))throw new xe(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class VS{convertValue(e,t="none"){switch(Yl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Je()}}convertObject(e,t){const r={};return Ha(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new tD(en(e.latitude),en(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=nC(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Um(e));default:return null}}convertTimestamp(e){const t=Zl(e);return new ir(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tn.fromString(e);St(v(r));const i=new $a(r.get(1),r.get(3)),l=new He(r.popFirst(5));return i.isEqual(t)||In(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function aD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class M1 extends VS{constructor(e){super(),this.firestore=e}convertBytes(e){return new tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,t)}}class aR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vp(e)}set(e,t,r){this._verifyNotCommitted();const i=_h(e,this._firestore),l=aD(i.converter,t,r),c=rD(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Mr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=_h(e,this._firestore);let c;return c="string"==typeof(t=(0,Yt.m9)(t))||t instanceof Cc?NS(this._dataReader,"WriteBatch.update",l._key,t,r,i):PS(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_h(e,this._firestore);return this._mutations=this._mutations.concat(new ap(t._key,Mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _h(n,e){if((n=(0,Yt.m9)(n)).firestore!==e)throw new xe(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class wp extends VS{constructor(e){super(),this.firestore=e}convertBytes(e){return new tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,t)}}function lR(n,e,t){n=ln(n,qn);const r=ln(n.firestore,Jn),i=aD(n.converter,e,t);return b_(r,[rD(vp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Mr.none())])}function uR(n,e,t,...r){n=ln(n,qn);const i=ln(n.firestore,Jn),l=vp(i);let c;return c="string"==typeof(e=(0,Yt.m9)(e))||e instanceof Cc?NS(l,"updateDoc",n._key,e,t,r):PS(l,"updateDoc",n._key,e),b_(i,[c.toMutation(n._key,Mr.exists(!0))])}function cR(n,...e){var t,r,i;n=(0,Yt.m9)(n);let l={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||RS(e[c])||(l=e[c],c++);const p={includeMetadataChanges:l.includeMetadataChanges};if(RS(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,w,S;if(n instanceof qn)w=ln(n.firestore,Jn),S=eh(n._key.path),_={next:x=>{e[c]&&e[c](BS(w,n,x))},error:e[c+1],complete:e[c+2]};else{const x=ln(n,Xi);w=ln(x.firestore,Jn),S=x._query;const V=new wp(w);_={next:G=>{e[c]&&e[c](new gh(w,V,x,G))},error:e[c+1],complete:e[c+2]},JO(n._query)}return function(x,V,G,W){const me=new QC(W),Fe=new YA(V,me,G);return x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return zA(yield v_(x),Fe)})),()=>{me.Ia(),x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return WA(yield v_(x),Fe)}))}}(Gr(w),S,p,_)}function b_(n,e){return function(t,r){const i=new Hr;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function EN(n,e,t){return tS.apply(this,arguments)}(yield MS(t),r,i)})),i.promise}(Gr(n),e)}function BS(n,e,t){const r=t.docs.get(e._key),i=new wp(n);return new Dc(n,i,e._key,r,new Ep(t.hasPendingWrites,t.fromCache),e.converter)}class B1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=vp(e)}get(e){const t=_h(e,this._firestore),r=new M1(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Je();const l=i[0];if(l.isFoundDocument())return new Yb(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Yb(this._firestore,r,t._key,null,t.converter);throw Je()})}set(e,t,r){const i=_h(e,this._firestore),l=aD(i.converter,t,r),c=rD(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const l=_h(e,this._firestore);let c;return c="string"==typeof(t=(0,Yt.m9)(t))||t instanceof Cc?NS(this._dataReader,"Transaction.update",l._key,t,r,i):PS(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=_h(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_h(e,this._firestore),r=new wp(this._firestore);return super.get(e).then(i=>new Dc(this._firestore,r,t._key,i._document,new Ep(!1,!1),t.converter))}}function US(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function hR(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function fR(){if(!function eC(){return"undefined"!=typeof atob}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){qd=nc.SDK_VERSION,(0,nc._registerComponent)(new $g.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new Jn(i,new Xv(t.getProvider("auth-internal")),new fx(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,nc.registerVersion)(Gw,"3.4.8",n),(0,nc.registerVersion)(Gw,"3.4.8","esm2017")}();class Jb{constructor(e){this._delegate=e}static fromBase64String(e){return fR(),new Jb(tu.fromBase64String(e))}static fromUint8Array(e){return hR(),new Jb(tu.fromUint8Array(e))}toBase64(){return fR(),this._delegate.toBase64()}toUint8Array(){return hR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jS(n){return function K1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Z1{enableIndexedDbPersistence(e,t){return function t1(n,e){GO(n=ln(n,Jn));const t=Gr(n),r=n._freezeSettings(),i=new wS;return $O(t,i,new IO(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function n1(n){GO(n=ln(n,Jn));const e=Gr(n),t=n._freezeSettings(),r=new wS;return $O(e,r,new LN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function r1(n){if(n._initialized&&!n._terminated)throw new xe(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Hr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(r){if(!Qa.vt())return Promise.resolve();const i=r+"main";yield Qa.delete(i)}),function(r){return t.apply(this,arguments)})(pA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class pR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof $a||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Jf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function YN(n,e,t,r={}){var i;const l=(n=ln(n,Kb))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Jf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=ui.MOCK_USER;else{c=(0,Yt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ui(_)}n._authCredentials=new Ww(new zw(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function o1(n){return function HN(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield MO(n),t=yield xO(n);return e.setNetworkEnabled(!0),function(r){const i=qe(r);return i.fu.delete(0),qb(i)}(t)}))}(Gr(n=ln(n,Jn)))}(this._delegate)}disableNetwork(){return function a1(n){return function $N(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield MO(n),t=yield xO(n);return e.setNetworkEnabled(!1),(r=(0,Ee.Z)(function*(i){const l=qe(i);l.fu.add(0),yield h_(l),l.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Gr(n=ln(n,Jn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,PO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function s1(n){return function(e){const t=new Hr;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function IN(n,e){return oS.apply(this,arguments)}(yield MS(e),t)})),t.promise}(Gr(n=ln(n,Jn)))}(this._delegate)}onSnapshotsInSync(e){return function V1(n,e){return function qN(n,e){const t=new QC(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield v_(n),i=t,qe(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield v_(n),i=t,void qe(r).Eu.delete(i);var r,i}))}}(Gr(n=ln(n,Jn)),RS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new E_(this,BO(this._delegate,e))}catch(t){throw Ds(t,"collection()","Firestore.collection()")}}doc(e){try{return new ua(this,eD(this._delegate,e))}catch(t){throw Ds(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Is(this,function QN(n,e){if(n=ln(n,Kb),OS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xi(n,null,(t=e,new Wa(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ds(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function U1(n,e){return function WN(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const r=yield(i=n,XC(i).then(l=>l.datastore));var i;new UN(n.asyncQueue,r,e,t).run()})),t.promise}(Gr(n=ln(n,Jn)),t=>e(new B1(n,t)))}(this._delegate,t=>e(new gR(this,t)))}batch(){return Gr(this._delegate),new mR(new aR(this._delegate,e=>b_(this._delegate,e)))}loadBundle(e){return function l1(n,e){const t=Gr(n=ln(n,Jn)),r=new JN;return function KN(n,e,t,r){const i=function(l,c){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,w){if(_ instanceof Uint8Array)return TO(_,w);if(_ instanceof ArrayBuffer)return TO(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new VN(_,c);var _}(t,zb(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function FN(n,e,t){const r=qe(n);var i;(i=(0,Ee.Z)(function*(l,c,p){try{const _=yield c.getMetadata();if(yield function(V,G){const W=qe(V),me=xr(G.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",Fe=>W._s.getBundleMetadata(Fe,G.id)).then(Fe=>!!Fe&&Fe.createTime.compareTo(me)>=0)}(l.localStore,_))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(V=_).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);p._updateProgress(gO(_));const w=new gN(_,l.localStore,c.M);let S=yield c.da();for(;S;){const V=yield w.ku(S);V&&p._updateProgress(V),S=yield c.da()}const x=yield w.complete();return yield wc(l,x.Fu,void 0),yield function(V,G){const W=qe(V);return W.persistence.runTransaction("Save bundle","readwrite",me=>W._s.saveBundleMetadata(me,G))}(l.localStore,_),p._completeWith(x.progress),Promise.resolve(x.Ou)}catch(_){return Jf("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_),Promise.resolve(new Set)}var V}),function(l,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield MS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function u1(n,e){return function ZN(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,r){const i=qe(t);return i.persistence.runTransaction("Get named query","readonly",l=>i._s.getNamedQuery(l,r))}(yield SS(n),e)}))}(Gr(n=ln(n,Jn)),e).then(t=>t?new Xi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Is(this,t):null)}}class lD extends VS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jb(new tu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ua.forKey(t,this.firestore,null)}}class gR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new lD(e)}get(e){const t=Dp(e);return this._delegate.get(t).then(r=>new e0(this._firestore,new Dc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Dp(e);return r?(US("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Dp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Dp(e);return this._delegate.delete(t),this}}class mR{constructor(e){this._delegate=e}set(e,t,r){const i=Dp(e);return r?(US("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Dp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Dp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Cp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Qb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new t0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Cp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Cp(e,new lD(e),t),i.set(t,l)),l}}Cp.INSTANCES=new WeakMap;class ua{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ua(t,new qn(t._delegate,r,new He(e)))}static forKey(e,t,r){return new ua(t,new qn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new E_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new E_(this.firestore,BO(this._delegate,e))}catch(t){throw Ds(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Yt.m9)(e))instanceof qn&&UO(this._delegate,e)}set(e,t){t=US("DocumentReference.set",t);try{return t?lR(this._delegate,e,t):lR(this._delegate,e)}catch(r){throw Ds(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?uR(this._delegate,e):uR(this._delegate,e,t,...r)}catch(i){throw Ds(i,"updateDoc()","DocumentReference.update()")}}delete(){return function F1(n){return b_(ln(n.firestore,Jn),[new ap(n._key,Mr.none())])}(this._delegate)}onSnapshot(...e){const t=_R(e),r=yR(e,i=>new e0(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return cR(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function O1(n){n=ln(n,qn);const e=ln(n.firestore,Jn),t=Gr(e),r=new wp(e);return function GN(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,l,c){try{const p=yield function(_,w){const S=qe(_);return S.persistence.runTransaction("read document","readonly",x=>S.ci.Ls(x,w))}(i,l);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new xe(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=g_(p,`Failed to get document '${l} from cache`);c.reject(_)}}),function(i,l,c){return r.apply(this,arguments)})(yield SS(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Dc(e,r,n._key,i,new Ep(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function R1(n){n=ln(n,qn);const e=ln(n.firestore,Jn);return OO(Gr(e),n._key,{source:"server"}).then(t=>BS(e,n,t))}(this._delegate):function x1(n){n=ln(n,qn);const e=ln(n.firestore,Jn);return OO(Gr(e),n._key).then(t=>BS(e,n,t))}(this._delegate),t.then(r=>new e0(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ua(this.firestore,this._delegate.withConverter(e?Cp.getInstance(this.firestore,e):null))}}function Ds(n,e,t){return n.message=n.message.replace(e,t),n}function _R(n){for(const e of n)if("object"==typeof e&&!jS(e))return e;return{}}function yR(n,e){var t,r;let i;return i=jS(n[0])?n[0]:jS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class e0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ua(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return XO(this._delegate,e._delegate)}}class t0 extends e0{data(e){const t=this._delegate.data(e);return function OT(n,e){n||Je()}(void 0!==t),t}}class Is{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lD(e)}where(e,t,r){try{return new Is(this.firestore,mh(this._delegate,function b1(n,e,t){const r=e,i=oD("where",n);return new v1(i,r,t)}(e,t,r)))}catch(i){throw Ds(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Is(this.firestore,mh(this._delegate,function w1(n,e="asc"){const t=e,r=oD("orderBy",n);return new E1(r,t)}(e,t)))}catch(r){throw Ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Is(this.firestore,mh(this._delegate,function C1(n){return LO("limit",n),new eR("limit",n,"F")}(e)))}catch(t){throw Ds(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Is(this.firestore,mh(this._delegate,function D1(n){return LO("limitToLast",n),new eR("limitToLast",n,"L")}(e)))}catch(t){throw Ds(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Is(this.firestore,mh(this._delegate,function I1(...n){return new tR("startAt",n,!0)}(...e)))}catch(t){throw Ds(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Is(this.firestore,mh(this._delegate,function T1(...n){return new tR("startAfter",n,!1)}(...e)))}catch(t){throw Ds(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Is(this.firestore,mh(this._delegate,function A1(...n){return new nR("endBefore",n,!1)}(...e)))}catch(t){throw Ds(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Is(this.firestore,mh(this._delegate,function S1(...n){return new nR("endAt",n,!0)}(...e)))}catch(t){throw Ds(t,"endAt()","Query.endAt()")}}isEqual(e){return jO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function P1(n){n=ln(n,Xi);const e=ln(n.firestore,Jn),t=Gr(e),r=new wp(e);return function zN(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,l,c){try{const p=yield zC(i,l,!0),_=new yO(l,p.li),w=_.Gu(p.documents),S=_.applyChanges(w,!1);c.resolve(S.snapshot)}catch(p){const _=g_(p,`Failed to execute query '${l} against cache`);c.reject(_)}}),function(i,l,c){return r.apply(this,arguments)})(yield SS(n),e,t);var r})),t.promise}(t,n._query).then(i=>new gh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function N1(n){n=ln(n,Xi);const e=ln(n.firestore,Jn),t=Gr(e),r=new wp(e);return RO(t,n._query,{source:"server"}).then(i=>new gh(e,r,n,i))}(this._delegate):function k1(n){n=ln(n,Xi);const e=ln(n.firestore,Jn),t=Gr(e),r=new wp(e);return JO(n._query),RO(t,n._query).then(i=>new gh(e,r,n,i))}(this._delegate),t.then(r=>new HS(this.firestore,new gh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=_R(e),r=yR(e,i=>new HS(this.firestore,new gh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return cR(this._delegate,t,r)}withConverter(e){return new Is(this.firestore,this._delegate.withConverter(e?Cp.getInstance(this.firestore,e):null))}}class Q1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new t0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class HS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Is(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new t0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Q1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new t0(this._firestore,r))})}isEqual(e){return XO(this._delegate,e._delegate)}}class E_ extends Is{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ua(this.firestore,e):null}doc(e){try{return new ua(this.firestore,void 0===e?eD(this._delegate):eD(this._delegate,e))}catch(t){throw Ds(t,"doc()","CollectionReference.doc()")}}add(e){return function L1(n,e){const t=ln(n.firestore,Jn),r=eD(n),i=aD(n.converter,e);return b_(t,[rD(vp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ua(this.firestore,t))}isEqual(e){return UO(this._delegate,e._delegate)}withConverter(e){return new E_(this.firestore,this._delegate.withConverter(e?Cp.getInstance(this.firestore,e):null))}}function Dp(n){return ln(n,qn)}class $S{constructor(...e){this._delegate=new Cc(...e)}static documentId(){return new $S($r.keyField().canonicalString())}isEqual(e){return(e=(0,Yt.m9)(e))instanceof Cc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ip{constructor(e){this._delegate=e}static serverTimestamp(){const e=function H1(){return new kS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ip(e)}static delete(){const e=function j1(){return new Zb("deleteField")}();return e._methodName="FieldValue.delete",new Ip(e)}static arrayUnion(...e){const t=function $1(...n){return new f1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ip(t)}static arrayRemove(...e){const t=function G1(...n){return new p1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ip(t)}static increment(e){const t=function z1(n){return new g1("increment",n)}(e);return t._methodName="FieldValue.increment",new Ip(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const X1={Firestore:pR,GeoPoint:tD,Timestamp:ir,Blob:Jb,Transaction:gR,WriteBatch:mR,DocumentReference:ua,DocumentSnapshot:e0,Query:Is,QueryDocumentSnapshot:t0,QuerySnapshot:HS,CollectionReference:E_,FieldPath:$S,FieldValue:Ip,setLogLevel:function Y1(n){!function xT(n){Kl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function vR(n,e){return function tF(n,e=rr.z){return new vn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function GS(n,e){return vR(n,e).pipe((0,Ot.U)(t=>({payload:t,type:"query"})))}function uD(n,e){return GS(n,e).pipe(Io(void 0),am(),(0,Ot.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const _=i.find(S=>S.doc.ref.isEqual(c.ref)),w=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),l}))}function bR(n,e,t){return uD(n,t).pipe(kl((r,i)=>function rF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function iF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return zS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return zS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),KE(),(0,Ot.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function zS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function ER(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function eF(n){(function J1(n,e){n.INTERNAL.registerComponent(new $g.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},X1)))})(n,(e,t)=>new pR(e,t,new Z1)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(QI.Z);class wR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=uD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ot.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Io(void 0),am(),ii(([r,i])=>i.length>0||!r),(0,Ot.U)(([r,i])=>i),Bi.iC)}auditTrail(e){return this.stateChanges(e).pipe(kl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ER(e);return bR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Bi.iC)}valueChanges(e={}){return GS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Bi.iC)}get(e){return(0,Bn.D)(this.query.get(e)).pipe(Bi.iC)}add(e){return this.ref.add(e)}doc(e){return new CR(this.ref.doc(e),this.afs)}}class CR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=DR(r,t);return new wR(i,l,this.afs)}snapshotChanges(){return function nF(n,e){return vR(n,e).pipe(Io(void 0),am(),(0,Ot.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Bi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ot.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Bn.D)(this.ref.get(e)).pipe(Bi.iC)}}class sF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?uD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ii(t=>t.length>0),Bi.iC):uD(this.query,this.afs.schedulers.outsideAngular).pipe(Bi.iC)}auditTrail(e){return this.stateChanges(e).pipe(kl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ER(e);return bR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Bi.iC)}valueChanges(e={}){return GS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Bi.iC)}get(e){return(0,Bn.D)(this.query.get(e)).pipe(Bi.iC)}}const oF=new h.OlP("angularfire2.enableFirestorePersistence"),aF=new h.OlP("angularfire2.firestore.persistenceSettings"),lF=new h.OlP("angularfire2.firestore.settings"),uF=new h.OlP("angularfire2.firestore.use-emulator");function DR(n,e=(t=>t)){return{query:e(n),ref:n}}let cF=(()=>{class n{constructor(t,r,i,l,c,p,_,w,S,x,V,G,W,me,Fe,pt,mt){this.schedulers=_;const Ct=(0,ta.on)(t,p,r),lt=S;x&&WE(Ct,p,V,W,me,Fe,G,pt),[this.firestore,this.persistenceEnabled$]=(0,ta.cc)(`${Ct.name}.firestore`,"AngularFirestore",Ct.name,()=>{const Vt=p.runOutsideAngular(()=>Ct.firestore());if(l&&Vt.settings(l),lt&&Vt.useEmulator(...lt),i&&!dr(c)){const $t=()=>{try{return(0,Bn.D)(Vt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Cn){return"undefined"!=typeof console&&console.warn(Cn),tt(!1)}};return[Vt,p.runOutsideAngular($t)]}return[Vt,tt(!1)]},[l,lt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:c}=DR(i,r),p=this.schedulers.ngZone.run(()=>l);return new wR(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),l=this.firestore.collectionGroup(t);return new sF(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new CR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ta.Dh),h.LFG(ta.xv,8),h.LFG(oF,8),h.LFG(lF,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Bi.HU),h.LFG(aF,8),h.LFG(uF,8),h.LFG(om,8),h.LFG(zy,8),h.LFG(qy,8),h.LFG(Wy,8),h.LFG(Ky,8),h.LFG(KI,8),h.LFG(qE,8),h.LFG(sm,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qS=(()=>{class n{constructor(t,r){this.afauth=t,this.firestore=r}logIn(t,r){var i=this;return(0,Ee.Z)(function*(){return yield i.afauth.signInWithEmailAndPassword(t,r).catch(l=>{throw l})})()}register(t,r){var i=this;return(0,Ee.Z)(function*(){return yield i.afauth.createUserWithEmailAndPassword(t,r).catch(l=>{throw l})})()}getCurrentUser(){return this.afauth.authState}logOut(){this.afauth.signOut()}sendUserLog(t){return this.firestore.collection("userLogins").add(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(om),h.LFG(cF))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dF(n,e){if(1&n&&(h.TgZ(0,"div",11)(1,"p",12),h._uU(2),h.qZA()()),2&n){const t=e.ngIf;h.xp6(2),h.Oqu(t.email)}}const hF=function(){return["/login"]};function fF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",13)(1,"button",14),h.NdJ("click",function(){return h.CHM(t),h.oxw().CerrarSesion()}),h._uU(2," Log Out"),h.qZA()()}2&n&&(h.xp6(1),h.Q6J("routerLink",h.DdM(1,hF)))}const pF=function(){return{exact:!0}},gF=function(){return["/home"]},mF=function(){return["/quienSoy"]},_F=function(){return["/juegos"]};let yF=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.usuarioLogueado=this.authService.getCurrentUser(),this.estaLogueado=null}ngOnInit(){}ObtenerUsuarioLogueado(){this.authService.getCurrentUser().subscribe(t=>{console.log(null==t?void 0:t.email),this.estaLogueado=!!t})}CerrarSesion(){this.authService.logOut()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(qS),h.Y36(si))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-nav-bar"]],decls:21,vars:14,consts:[[1,"p-3","bg-dark","text-white"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["href","/",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-white","text-decoration-none"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["href","#",1,"nav-link","px-2","text-white"],["src","../assets/iconoJ.png","alt","",1,"imagenNav"],["href","#","routerLinkActive","active",1,"nav-link","px-2","text-white",3,"routerLinkActiveOptions","routerLink"],["href","#",1,"nav-link","px-2","text-white",3,"routerLink"],["class","col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3",4,"ngIf"],["class","text-end",4,"ngIf"],[1,"col-12","col-lg-auto","mb-3","mb-lg-0","me-lg-3"],[1,"nav-item"],[1,"text-end"],["type","button",1,"btn","btn-outline-light","me-2",3,"routerLink","click"]],template:function(t,r){1&t&&(h.TgZ(0,"header",0)(1,"div",1)(2,"div",2),h._UZ(3,"a",3),h.TgZ(4,"ul",4)(5,"li")(6,"a",5),h._UZ(7,"img",6),h.qZA()(),h.TgZ(8,"li")(9,"a",7),h._uU(10,"Home"),h.qZA()(),h.TgZ(11,"li")(12,"a",8),h._uU(13,"QuienSoy"),h.qZA()(),h.TgZ(14,"li")(15,"a",8),h._uU(16,"Juegos"),h.qZA()()(),h.YNc(17,dF,3,1,"div",9),h.ALo(18,"async"),h.YNc(19,fF,3,2,"div",10),h.ALo(20,"async"),h.qZA()()()),2&t&&(h.xp6(9),h.Q6J("routerLinkActiveOptions",h.DdM(10,pF))("routerLink",h.DdM(11,gF)),h.xp6(3),h.Q6J("routerLink",h.DdM(12,mF)),h.xp6(3),h.Q6J("routerLink",h.DdM(13,_F)),h.xp6(2),h.Q6J("ngIf",h.lcZ(18,6,r.usuarioLogueado)),h.xp6(2),h.Q6J("ngIf",h.lcZ(20,8,r.usuarioLogueado)))},directives:[Bg,mI,pi,tc],pipes:[iu],styles:["body[_ngcontent-%COMP%]{min-height:75rem;box-sizing:border-box;margin:0;padding-left:0}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.2rem;margin-left:1.5rem}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.2rem}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex-direction:column;justify-content:start}.imagenNav[_ngcontent-%COMP%]{width:45px;height:35px;border-radius:15%}"]}),n})(),vF=(()=>{class n{constructor(){this.estaLogueado=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:18,vars:0,consts:[[1,"cover-container","d-flex","w-100","h-100","p-3","mx-auto","flex-column","quienSoy"],[1,"px-3"],[2,"font-weight","bold"],[1,"lead"],["src","../../../assets/astroGamer.png","alt",""],["href","#",1,"btn","btn-lg","btn-secondary","fw-bold","border-white","bg-white"],[1,"mt-auto","text-white-50"],["href","",1,"text-white"]],template:function(t,r){1&t&&(h._UZ(0,"app-nav-bar"),h.TgZ(1,"div",0)(2,"main",1)(3,"h1",2),h._uU(4,"Bienvenido a la Sala de Juegos"),h.qZA(),h.TgZ(5,"p",3),h._uU(6,"Trabajo Practico de Labo IV"),h.qZA(),h._UZ(7,"img",4),h.TgZ(8,"p",3),h._UZ(9,"br"),h.TgZ(10,"a",5),h._uU(11,"Learn more"),h.qZA()()(),h.TgZ(12,"footer",6)(13,"p"),h._uU(14,"Sala de juegos , by "),h.TgZ(15,"a",7),h._uU(16,"Florencia Colodro"),h.qZA(),h._uU(17,"."),h.qZA()()())},directives:[yF],styles:["body[_ngcontent-%COMP%]{text-shadow:0 .05rem .1rem rgba(0,0,0,.5);box-shadow:inset 0 0 5rem #00000080}.btn-secondary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:hover, .btn-secondary[_ngcontent-%COMP%]:focus{color:#333;text-shadow:none}.cover-container[_ngcontent-%COMP%]{max-width:42em}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.25rem 0;font-weight:700;color:#ffffff80;background-color:transparent;border-bottom:.25rem solid transparent}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{border-bottom-color:#ffffff40}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] + .nav-link[_ngcontent-%COMP%]{margin-left:1rem}.nav-masthead[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#fff;border-bottom-color:#fff}img[_ngcontent-%COMP%]{box-shadow:2px 2px 2px 1px #0003;width:40%;height:40%}"]}),n})(),bF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-juegos-menu"]],decls:30,vars:0,consts:[[1,"divPadre"],[1,"col-md-5","divCards"],[1,"col-md-7"],[1,"card","shadow-sm"],["focusable","true","width","","height","250px","src","../../../assets/astroLogin.png","alt","",1,"bd-placeholder-img","card-img-top"],[1,"card-body"],[1,"card-text"],[1,"col-md-5"],["focusable","true","width","200","height","250","src","../../../assets/astroLogin.png","alt","",1,"bd-placeholder-img","card-img-top"]],template:function(t,r){1&t&&(h._UZ(0,"router-outlet"),h.TgZ(1,"p"),h._uU(2,"juegos-menu works!"),h.qZA(),h.TgZ(3,"div",0)(4,"div",1)(5,"div",2)(6,"div",3),h._UZ(7,"img",4),h.TgZ(8,"div",5)(9,"p",6),h._uU(10,"Ahorcado"),h.qZA()()()(),h.TgZ(11,"div",2)(12,"div",3),h._UZ(13,"img",4),h.TgZ(14,"div",5)(15,"p",6),h._uU(16,"Ahorcado"),h.qZA()()()()(),h.TgZ(17,"div",7)(18,"div",2)(19,"div",3),h._UZ(20,"img",8),h.TgZ(21,"div",5)(22,"p",6),h._uU(23,"Ahorcado"),h.qZA()()()(),h.TgZ(24,"div",2)(25,"div",3),h._UZ(26,"img",8),h.TgZ(27,"div",5)(28,"p",6),h._uU(29,"Ahorcado"),h.qZA()()()()()())},directives:[mf],styles:[".divPadre[_ngcontent-%COMP%]{display:flex;justify-content:end}"]}),n})();class IR{constructor(){this.email="",this.contrasenia=""}}let EF=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.responseMessage="",this.miUsuario=new IR}ngOnInit(){}Ingresar(){try{console.log(this.miUsuario);const{email:t,contrasenia:r}=this.miUsuario;this.authService.logIn(t,r).catch(i=>{switch(i.code){case"auth/user-disabled":this.responseMessage="Usuario deshabilitado.";break;case"auth/user-not-found":this.responseMessage="Usuario no encontrado.";break;case"auth/wrong-password":this.responseMessage="Contrasenia incorrecta.";break;case"auth/invalid-email":this.responseMessage="Email invalido."}console.log("Error en login A: ",i)}).then(i=>{if(console.log("Se logueo el usuario",i),null!=i){let l={email:this.miUsuario.email,date:new Date};this.authService.sendUserLog(l).then(c=>{console.log("Usuario log subido correctamente.")}).catch(c=>{console.log("Error al subirlo el log usuario :(")}),this.router.navigate(["home"])}})}catch(t){console.log("Error ingresar",t)}}CompletarDatos(){this.miUsuario.email="invitado@hotmail.com",this.miUsuario.contrasenia="123456"}IrAlRegistro(){this.router.navigate(["registro"])}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(qS),h.Y36(si))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:20,vars:3,consts:[[1,"container"],[1,"articleLogin"],["action","#"],[1,"buttonDatos",3,"click"],[2,"font-weight","normal"],["type","email","placeholder","Email","name","email",3,"ngModel","ngModelChange"],["type","password","placeholder","Password","name","pwd",3,"ngModel","ngModelChange"],[1,"buttonLogIn",3,"click"],[1,"imagen"],["src","../../../assets/astroLogin.png","alt","",1,"imagLogin"]],template:function(t,r){1&t&&(h.TgZ(0,"section",0)(1,"article",1)(2,"form",2)(3,"h1"),h._uU(4,"Log In"),h.qZA(),h.TgZ(5,"button",3),h.NdJ("click",function(){return r.CompletarDatos()}),h.TgZ(6,"span",4),h._uU(7,"Entrar como invitado"),h.qZA()(),h.TgZ(8,"button",3),h.NdJ("click",function(){return r.IrAlRegistro()}),h.TgZ(9,"span",4),h._uU(10,"Registrarme"),h.qZA()(),h.TgZ(11,"input",5),h.NdJ("ngModelChange",function(l){return r.miUsuario.email=l}),h.qZA(),h.TgZ(12,"input",6),h.NdJ("ngModelChange",function(l){return r.miUsuario.contrasenia=l}),h.qZA(),h.TgZ(13,"div")(14,"p"),h._uU(15),h.qZA()(),h.TgZ(16,"button",7),h.NdJ("click",function(){return r.Ingresar()}),h._uU(17,"Ingresar"),h.qZA()()(),h.TgZ(18,"article",8),h._UZ(19,"img",9),h.qZA()()),2&t&&(h.xp6(11),h.Q6J("ngModel",r.miUsuario.email),h.xp6(1),h.Q6J("ngModel",r.miUsuario.contrasenia),h.xp6(3),h.Oqu(r.responseMessage))},directives:[jh,Wi,Oa,bo,Il,Nu],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,800";*[_ngcontent-%COMP%]{box-sizing:border-box;padding:0}h1[_ngcontent-%COMP%]{font-weight:700;margin:0}h2[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{font-size:14px;font-weight:100;line-height:20px;letter-spacing:.5px;margin:20px 0 30px}span[_ngcontent-%COMP%]{font-size:12px}a[_ngcontent-%COMP%]{color:#333;font-size:14px;text-decoration:none;margin:15px 0}.buttonLogIn[_ngcontent-%COMP%]{border-radius:20px;border:1px solid #FF4B2B;background-color:#ff4b2b;color:#fff;font-size:12px;font-weight:700;padding:12px 45px;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in}button[_ngcontent-%COMP%]:active{transform:scale(.95)}button[_ngcontent-%COMP%]:focus{outline:none}button.ghost[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}button[_ngcontent-%COMP%]{margin-top:8px}.buttonDatos[_ngcontent-%COMP%]{border-radius:20px;font-size:10px;width:55%;background-color:#f65d43;color:#fff;border:none}section[_ngcontent-%COMP%]{width:75%;height:500px;display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.articleLogin[_ngcontent-%COMP%]{width:340px;height:70%;box-shadow:2px 2px 2px 1px #0003}.imagen[_ngcontent-%COMP%]{width:340px;height:70%;box-shadow:0 2px 2px 1px #0003}form[_ngcontent-%COMP%]{height:100%;width:100%;padding:0 50px;background-color:#fff;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.imagLogin[_ngcontent-%COMP%]{width:100%;height:100%}input[_ngcontent-%COMP%]{background-color:#eee;border:none;padding:10px 15px;margin:8px 0;width:100%}.sign-in-container[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.social-container[_ngcontent-%COMP%]{margin:15px 0}.social-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid #DDDDDD;border-radius:50%;display:inline-flex;justify-content:center;align-items:center;margin:0 5px;height:40px;width:40px}']}),n})(),wF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-quien-soy"]],decls:16,vars:0,consts:[[1,"cover-container","d-flex","w-100","h-100","p-3","mx-auto","flex-column","quienSoy"],[1,"px-3"],[1,"lead"],["href","#",1,"btn","btn-lg","btn-secondary","fw-bold","border-white","bg-white"],["src","../../../assets/astroLove2.png","alt",""],[1,"mt-auto","text-white-50"],["href","https://twitter.com/mdo",1,"text-white"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"main",1)(2,"h1"),h._uU(3,"Sobre mi"),h.qZA(),h.TgZ(4,"p",2),h._uU(5,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Modi deserunt facilis, numquam repellendus id reprehenderit accusamus ullam iure sint. Unde eos itaque iste consectetur earum ut maxime voluptatibus aperiam sequi."),h.qZA(),h.TgZ(6,"p",2)(7,"a",3),h._uU(8,"Learn more"),h.qZA()()(),h._UZ(9,"img",4),h.TgZ(10,"footer",5)(11,"p"),h._uU(12,"Sala de juegos , by "),h.TgZ(13,"a",6),h._uU(14,"Florencia Colodro"),h.qZA(),h._uU(15,"."),h.qZA()()())},styles:[".btn-secondary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:hover, .btn-secondary[_ngcontent-%COMP%]:focus{color:#333;text-shadow:none}body[_ngcontent-%COMP%]{text-shadow:0 .05rem .1rem rgba(0,0,0,.5);box-shadow:inset 0 0 5rem #00000080}.cover-container[_ngcontent-%COMP%]{max-width:42em}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.25rem 0;font-weight:700;color:#ffffff80;background-color:transparent;border-bottom:.25rem solid transparent}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{border-bottom-color:#ffffff40}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] + .nav-link[_ngcontent-%COMP%]{margin-left:1rem}.nav-masthead[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#fff;border-bottom-color:#fff}img[_ngcontent-%COMP%]{box-shadow:2px 2px 2px 1px #0003;width:200px;height:200px}"]}),n})();function TR(n){return Array.isArray(n)?n:[n]}function zr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function cD(n){return n instanceof h.SBq?n.nativeElement:n}var DF=P(1144);const IF=["addListener","removeListener"],TF=["addEventListener","removeEventListener"],AF=["on","off"];function WS(n,e,t,r){if((0,Zi.m)(t)&&(r=t,t=void 0),r)return WS(n,e,t).pipe(vl(r));const[i,l]=function xF(n){return(0,Zi.m)(n.addEventListener)&&(0,Zi.m)(n.removeEventListener)}(n)?TF.map(c=>p=>n[c](e,p,t)):function SF(n){return(0,Zi.m)(n.addListener)&&(0,Zi.m)(n.removeListener)}(n)?IF.map(AR(n,e)):function MF(n){return(0,Zi.m)(n.on)&&(0,Zi.m)(n.off)}(n)?AF.map(AR(n,e)):[];if(!i&&(0,DF.z)(n))return(0,Ir.z)(c=>WS(c,e,t))((0,Jt.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new vn.y(c=>{const p=(..._)=>c.next(1<_.length?_:_[0]);return i(p),()=>l(p)})}function AR(n,e){return t=>r=>n[t](e,r)}var SR=P(4408);const n0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=n0;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(l=>{t=void 0,n(l)});return new Rl.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=n0;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=n0;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var MR=P(7565);new class RF extends MR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class OF extends SR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=n0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(n0.cancelAnimationFrame(t),e._scheduled=void 0)}});let KS,PF=1;const dD={};function xR(n){return n in dD&&(delete dD[n],!0)}const NF={setImmediate(n){const e=PF++;return dD[e]=!0,KS||(KS=Promise.resolve()),KS.then(()=>xR(e)&&n()),e},clearImmediate(n){xR(n)}},{setImmediate:FF,clearImmediate:LF}=NF,hD={setImmediate(...n){const{delegate:e}=hD;return((null==e?void 0:e.setImmediate)||FF)(...n)},clearImmediate(n){const{delegate:e}=hD;return((null==e?void 0:e.clearImmediate)||LF)(n)},delegate:void 0};new class BF extends MR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class VF extends SR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=hD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(hD.clearImmediate(t),e._scheduled=void 0)}});var HF=P(3532);function OR(n,e=rr.z){return function jF(n){return(0,an.e)((e,t)=>{let r=!1,i=null,l=null,c=!1;const p=()=>{if(null==l||l.unsubscribe(),l=null,r){r=!1;const w=i;i=null,t.next(w)}c&&t.complete()},_=()=>{l=null,c&&t.complete()};e.subscribe((0,bn.x)(t,w=>{r=!0,i=w,l||(0,Jt.Xf)(n(w)).subscribe(l=(0,bn.x)(t,p,_))},()=>{c=!0,(!r||!l||l.closed)&&t.complete()}))})}(()=>function GF(n=0,e,t=rr.P){let r=-1;return null!=e&&((0,HF.K)(e)?t=e:r=e),new vn.y(i=>{let l=function $F(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(n,e))}let ZS;try{ZS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){ZS=!1}let r0,Tp,QS,Ic=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function kr(n){return n===Ns}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ZS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YS(n){return function zF(){if(null==r0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>r0=!0}))}finally{r0=r0||!1}return r0}()?n:!!n.capture}function qF(){if(null==Tp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Tp=!1,Tp;if("scrollBehavior"in document.documentElement.style)Tp=!0;else{const n=Element.prototype.scrollTo;Tp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Tp}function XS(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Ap(n){return n.composedPath?n.composedPath()[0]:n.target}function JS(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const ZF=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function YF(){return(0,h.f3M)(ne)}}),QF=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let eM=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new h.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function XF(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?QF.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ZF,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),eL=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new gn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new vn.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(OR(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):tt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(ii(l=>!l||i.indexOf(l)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,l)=>{this._scrollableContainsElement(l,t)&&r.push(l)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=cD(r),l=t.getElementRef().nativeElement;do{if(i==l)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>WS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(Ic),h.LFG(ne,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kR=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new gn.x,this._changeListener=l=>{this._change.next(l)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,l=i.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-l.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(OR(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ic),h.LFG(h.R0b),h.LFG(ne,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),NR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[s0,PR],s0,PR]}),n})();class tM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class nM extends tM{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class FR extends tM{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class nL extends tM{constructor(e){super(),this.element=e instanceof h.SBq?e.nativeElement:e}}class rM{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof nM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof FR?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof nL?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class rL extends rM{constructor(e,t,r,i,l){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const p=c.element,_=this._document.createComment("dom-portal");p.parentNode.insertBefore(_,p),this.outletElement.appendChild(p),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(p,_)})},this._document=l}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let LR=(()=>{class n extends rM{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=l=>{const c=l.element,p=this._document.createComment("dom-portal");l.setAttachedHost(this),c.parentNode.insertBefore(p,c),this._getRootNode().appendChild(c),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(c,p)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,l=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=r.createComponent(l,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(ne))},n.\u0275dir=h.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.qOj]}),n})(),VR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();var iL=P(5032);function BR(n){return(0,an.e)((e,t)=>{(0,Jt.Xf)(n).subscribe((0,bn.x)(t,()=>t.complete(),iL.Z)),!t.closed&&e.subscribe(t)})}const UR=qF();class sL{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=zr(-this._previousScrollPosition.left),e.style.top=zr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,l=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),UR&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),UR&&(r.scrollBehavior=l,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class oL{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class jR{enable(){}disable(){}attach(){}}function iM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function HR(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class aL{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();iM(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let lL=(()=>{class n{constructor(t,r,i,l){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new jR,this.close=c=>new oL(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new sL(this._viewportRuler,this._document),this.reposition=c=>new aL(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=l}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(eL),h.LFG(kR),h.LFG(h.R0b),h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $R{constructor(e){if(this.scrollStrategy=new jR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class uL{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class cL{constructor(e,t,r,i,l,c,p,_,w){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=l,this._keyboardDispatcher=c,this._document=p,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new gn.x,this._attachments=new gn.x,this._detachments=new gn.x,this._locationChanges=Rl.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new gn.x,this._outsidePointerEvents=new gn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Vr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=zr(this._config.width),e.height=zr(this._config.height),e.minWidth=zr(this._config.minWidth),e.minHeight=zr(this._config.minHeight),e.maxWidth=zr(this._config.maxWidth),e.maxHeight=zr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=TR(t||[]).filter(l=>!!l);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(BR((0,mE.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let sM=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||JS()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let l=0;l<i.length;l++)i[l].remove()}const r=this._document.createElement("div");r.classList.add(t),JS()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne),h.LFG(Ic))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GR="cdk-overlay-connected-position-bounding-box",dL=/([A-Za-z%]+)$/;class hL{constructor(e,t,r,i,l){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new gn.x,this._resizeSubscription=Rl.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(GR),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,l=[];let c;for(let p of this._preferredPositions){let _=this._getOriginPoint(e,i,p),w=this._getOverlayPoint(_,t,p),S=this._getOverlayFit(w,t,r,p);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,_);this._canFitWithFlexibleDimensions(S,w,r)?l.push({position:p,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,p)}):(!c||c.overlayFit.visibleArea<S.visibleArea)&&(c={overlayFit:S,overlayPoint:w,originPoint:_,position:p,overlayRect:t})}if(l.length){let p=null,_=-1;for(const w of l){const S=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);S>_&&(_=S,p=w)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Sp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(GR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,l;if("center"==r.originX)i=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,p=this._isRtl()?e.left:e.right;i="start"==r.originX?c:p}return t.left<0&&(i-=t.left),l="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(l-=t.top),{x:i,y:l}}_getOverlayPoint(e,t,r){let i,l;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,l="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+l}}_getOverlayFit(e,t,r,i){const l=qR(t);let{x:c,y:p}=e,_=this._getOffset(i,"x"),w=this._getOffset(i,"y");_&&(c+=_),w&&(p+=w);let V=0-p,G=p+l.height-r.height,W=this._subtractOverflows(l.width,0-c,c+l.width-r.width),me=this._subtractOverflows(l.height,V,G),Fe=W*me;return{visibleArea:Fe,isCompletelyWithinViewport:l.width*l.height===Fe,fitsInViewportVertically:me===l.height,fitsInViewportHorizontally:W==l.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,l=r.right-t.x,c=zR(this._overlayRef.getConfig().minHeight),p=zR(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=p&&p<=l;return(e.fitsInViewportVertically||null!=c&&c<=i)&&w}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=qR(t),l=this._viewportRect,c=Math.max(e.x+i.width-l.width,0),p=Math.max(e.y+i.height-l.height,0),_=Math.max(l.top-r.top-e.y,0),w=Math.max(l.left-r.left-e.x,0);let S=0,x=0;return S=i.width<=l.width?w||-c:e.x<this._viewportMargin?l.left-r.left-e.x:0,x=i.height<=l.height?_||-p:e.y<this._viewportMargin?l.top-r.top-e.y:0,this._previousPushAmount={x:S,y:x},{x:e.x+S,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new uL(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let l=0;l<t.length;l++)t[l].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let l,c,p,S,x,V;if("top"===t.overlayY)c=e.y,l=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)p=r.height-e.y+2*this._viewportMargin,l=r.height-p+this._viewportMargin;else{const G=Math.min(r.bottom-e.y+r.top,e.y),W=this._lastBoundingBoxSize.height;l=2*G,c=e.y-G,l>W&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-W/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)V=r.width-e.x+this._viewportMargin,S=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)x=e.x,S=r.right-e.x;else{const G=Math.min(r.right-e.x+r.left,e.x),W=this._lastBoundingBoxSize.width;S=2*G,x=e.x-G,S>W&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-W/2)}return{top:c,left:x,bottom:p,right:V,width:S,height:l}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=zr(r.height),i.top=zr(r.top),i.bottom=zr(r.bottom),i.width=zr(r.width),i.left=zr(r.left),i.right=zr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",l&&(i.maxHeight=zr(l)),c&&(i.maxWidth=zr(c))}this._lastBoundingBoxSize=r,Sp(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Sp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Sp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),l=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const S=this._viewportRuler.getViewportScrollPosition();Sp(r,this._getExactOverlayY(t,e,S)),Sp(r,this._getExactOverlayX(t,e,S))}else r.position="static";let p="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(p+=`translateX(${_}px) `),w&&(p+=`translateY(${w}px)`),r.transform=p.trim(),c.maxHeight&&(i?r.maxHeight=zr(c.maxHeight):l&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=zr(c.maxWidth):l&&(r.maxWidth="")),Sp(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":i.top=zr(l.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":i.left=zr(l.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:HR(e,r),isOriginOutsideView:iM(e,r),isOverlayClipped:HR(t,r),isOverlayOutsideView:iM(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&TR(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof h.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Sp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function zR(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(dL);return t&&"px"!==t?null:parseFloat(e)}return n||null}function qR(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const WR="cdk-global-overlay-wrapper";class fL{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(WR),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:l,maxWidth:c,maxHeight:p}=r,_=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),w=!("100%"!==l&&"100vh"!==l||p&&"100%"!==p&&"100vh"!==p);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(WR),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let pL=(()=>{class n{constructor(t,r,i,l){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=l}global(){return new fL}flexibleConnectedTo(t){return new hL(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(kR),h.LFG(ne),h.LFG(Ic),h.LFG(sM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KR=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gL=(()=>{class n extends KR{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const l=this._attachedOverlays;for(let c=l.length-1;c>-1;c--)if(l[c]._keydownEvents.observers.length>0){const p=l[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(i)):p.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne),h.LFG(h.R0b,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mL=(()=>{class n extends KR{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=Ap(l)},this._clickListener=l=>{const c=Ap(l),p="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const S=_[w];if(S._outsidePointerEvents.observers.length<1||!S.hasAttached())continue;if(S.overlayElement.contains(c)||S.overlayElement.contains(p))break;const x=S._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(l)):x.next(l)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne),h.LFG(Ic),h.LFG(h.R0b,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_L=0,pD=(()=>{class n{constructor(t,r,i,l,c,p,_,w,S,x,V){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=l,this._keyboardDispatcher=c,this._injector=p,this._ngZone=_,this._document=w,this._directionality=S,this._location=x,this._outsideClickDispatcher=V}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),l=this._createPortalOutlet(i),c=new $R(t);return c.direction=c.direction||this._directionality.value,new cL(l,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+_L++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new rL(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(lL),h.LFG(sM),h.LFG(h._Vd),h.LFG(pL),h.LFG(gL),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(ne),h.LFG(eM),h.LFG(be),h.LFG(mL))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const bL={provide:new h.OlP("cdk-connected-overlay-scroll-strategy"),deps:[pD],useFactory:function vL(n){return()=>n.scrollStrategies.reposition()}};let EL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[pD,bL],imports:[[s0,VR,NR],NR]}),n})(),XR=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function kL(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function RL(n){try{return n.frameElement}catch(e){return null}}(function jL(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===ek(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),l=ek(t);return t.hasAttribute("contenteditable")?-1!==l:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function BL(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==l:"video"===i?-1!==l&&(null!==l||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function UL(n){return!function NL(n){return function LL(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function PL(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function FL(n){return function VL(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||JR(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ic))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JR(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function ek(n){if(!JR(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class HL{constructor(e,t,r,i,l=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Vr.q)(1)).subscribe(e)}}let $L=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new HL(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(XR),h.LFG(h.R0b),h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qL=new h.OlP("cdk-input-modality-detector-options"),WL={ignoreKeys:[18,17,224,91,16]},C_=YS({passive:!0,capture:!0});let KL=(()=>{class n{constructor(t,r,i,l){this._platform=t,this._mostRecentTarget=null,this._modality=new wi(null),this._lastTouchMs=0,this._onKeydown=c=>{var p,_;(null===(_=null===(p=this._options)||void 0===p?void 0:p.ignoreKeys)||void 0===_?void 0:_.some(w=>w===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Ap(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function GL(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(c)?"keyboard":"mouse"),this._mostRecentTarget=Ap(c))},this._onTouchstart=c=>{!function zL(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(c)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ap(c)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},WL),l),this.modalityDetected=this._modality.pipe(function ML(n){return ii((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(KE()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,C_),i.addEventListener("mousedown",this._onMousedown,C_),i.addEventListener("touchstart",this._onTouchstart,C_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,C_),document.removeEventListener("mousedown",this._onMousedown,C_),document.removeEventListener("touchstart",this._onTouchstart,C_))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ic),h.LFG(h.R0b),h.LFG(ne),h.LFG(qL,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YL=new h.OlP("cdk-focus-monitor-default-options"),gD=YS({passive:!0,capture:!0});let QL=(()=>{class n{constructor(t,r,i,l,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new gn.x,this._rootNodeFocusAndBlurListener=p=>{const _=Ap(p),w="focus"===p.type?this._onFocus:this._onBlur;for(let S=_;S;S=S.parentElement)w.call(this,p,S)},this._document=l,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(t,r=!1){const i=cD(t);if(!this._platform.isBrowser||1!==i.nodeType)return tt(null);const l=function KF(n){if(function WF(){if(null==QS){const n="undefined"!=typeof document?document.head:null;QS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return QS}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const p={checkChildren:r,subject:new gn.x,rootNode:l};return this._elementInfo.set(i,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const r=cD(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const l=cD(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([p,_])=>this._originChanged(p,r,_)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),l=Ap(t);!i||!i.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,gD),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,gD)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(BR(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gD),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gD),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,l)=>{(l===t||i.checkChildren&&l.contains(t))&&r.push([l,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(Ic),h.LFG(KL),h.LFG(ne,8),h.LFG(YL,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nk="cdk-high-contrast-black-on-white",rk="cdk-high-contrast-white-on-black",oM="cdk-high-contrast-active";let XL=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,l=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(oM),t.remove(nk),t.remove(rk),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(oM),t.add(nk)):2===r&&(t.add(oM),t.add(rk))}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ic),h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eV=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function JL(){return!0}});let D_=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!JS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(XL),h.LFG(eV,8),h.LFG(ne))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[s0],s0]}),n})(),oV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[D_],D_]}),n})();class lk{}const Tc="*";function lV(n,e){return{type:7,name:n,definitions:e,options:{}}}function uk(n,e=null){return{type:4,styles:e,timings:n}}function ck(n,e=null){return{type:3,steps:n,options:e}}function dk(n,e=null){return{type:2,steps:n,options:e}}function I_(n){return{type:6,styles:n,offset:null}}function hk(n,e,t){return{type:0,name:n,styles:e,options:t}}function fk(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function pk(n=null){return{type:9,options:n}}function gk(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function mk(n){Promise.resolve(null).then(n)}class a0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){mk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class _k{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?mk(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==l&&this._onFinish()}),c.onDestroy(()=>{++r==l&&this._onDestroy()}),c.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const on=!1;function yk(n){return new h.vHH(3e3,on)}function HV(){return"undefined"!=typeof window&&void 0!==window.document}function uM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function yh(n){switch(n.length){case 0:return new a0;case 1:return n[0];default:return new _k(n)}}function vk(n,e,t,r,i={},l={}){const c=[],p=[];let _=-1,w=null;if(r.forEach(S=>{const x=S.offset,V=x==_,G=V&&w||{};Object.keys(S).forEach(W=>{let me=W,Fe=S[W];if("offset"!==W)switch(me=e.normalizePropertyName(me,c),Fe){case"!":Fe=i[W];break;case Tc:Fe=l[W];break;default:Fe=e.normalizeStyleValue(W,me,Fe,c)}G[me]=Fe}),V||p.push(G),w=G,_=x}),c.length)throw function OV(n){return new h.vHH(3502,on)}();return p}function cM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&dM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&dM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&dM(t,"destroy",n)))}}function dM(n,e,t){const r=t.totalTime,l=hM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(l._data=c),l}function hM(n,e,t,r,i="",l=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!c}}function Ro(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function bk(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let fM=(n,e)=>!1,Ek=(n,e,t)=>[],wk=null;function pM(n){const e=n.parentNode||n.host;return e===wk?null:e}(uM()||"undefined"!=typeof Element)&&(HV()?(wk=(()=>document.documentElement)(),fM=(n,e)=>{for(;e;){if(e===n)return!0;e=pM(e)}return!1}):fM=(n,e)=>n.contains(e),Ek=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Mp=null,Ck=!1;function Dk(n){Mp||(Mp=function GV(){return"undefined"!=typeof document?document.body:null}()||{},Ck=!!Mp.style&&"WebkitAppearance"in Mp.style);let e=!0;return Mp.style&&!function $V(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Mp.style,!e&&Ck&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Mp.style)),e}const Ik=fM,Tk=Ek;let Ak=(()=>{class n{validateStyleProperty(t){return Dk(t)}matchesElement(t,r){return!1}containsElement(t,r){return Ik(t,r)}getParentElement(t){return pM(t)}query(t,r,i){return Tk(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,c,p=[],_){return new a0(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),gM=(()=>{class n{}return n.NOOP=new Ak,n})();const mM="ng-enter",_D="ng-leave",yD="ng-trigger",vD=".ng-trigger",Mk="ng-animating",_M=".ng-animating";function xp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yM(parseFloat(e[1]),e[2])}function yM(n,e){return"s"===e?1e3*n:n}function bD(n,e,t){return n.hasOwnProperty("duration")?n:function WV(n,e,t){let i,l=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(yk()),{duration:0,delay:0,easing:""};i=yM(parseFloat(p[1]),p[2]);const _=p[3];null!=_&&(l=yM(parseFloat(_),p[4]));const w=p[5];w&&(c=w)}else i=n;if(!t){let p=!1,_=e.length;i<0&&(e.push(function uV(){return new h.vHH(3100,on)}()),p=!0),l<0&&(e.push(function cV(){return new h.vHH(3101,on)}()),p=!0),p&&e.splice(_,0,yk())}return{duration:i,delay:l,easing:c}}(n,e,t)}function T_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function vh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else T_(n,t);return t}function Ok(n,e,t){return t?e+":"+t+";":""}function Rk(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Ok(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Ok(0,YV(t),n.style[t]));n.setAttribute("style",e)}function nu(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=bM(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),uM()&&Rk(n))}function Op(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=bM(t);n.style[r]=""}),uM()&&Rk(n))}function l0(n){return Array.isArray(n)?1==n.length?n[0]:dk(n):n}const vM=new RegExp("{{\\s*(.+?)\\s*}}","g");function kk(n){let e=[];if("string"==typeof n){let t;for(;t=vM.exec(n);)e.push(t[1]);vM.lastIndex=0}return e}function ED(n,e,t){const r=n.toString(),i=r.replace(vM,(l,c)=>{let p=e[c];return e.hasOwnProperty(c)||(t.push(function hV(n){return new h.vHH(3003,on)}()),p=""),p.toString()});return i==r?n:i}function wD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ZV=/-+([a-z0-9])/g;function bM(n){return n.replace(ZV,(...e)=>e[1].toUpperCase())}function YV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ko(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function fV(n){return new h.vHH(3004,on)}()}}function Pk(n,e){return window.getComputedStyle(n)[e]}function nB(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function rB(n,e,t){if(":"==n[0]){const _=function iB(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function AV(n){return new h.vHH(3016,on)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function TV(n){return new h.vHH(3015,on)}()),e;const i=r[1],l=r[2],c=r[3];e.push(Nk(i,c));"<"==l[0]&&!("*"==i&&"*"==c)&&e.push(Nk(c,i))}(r,t,e)):t.push(n),t}const TD=new Set(["true","1"]),AD=new Set(["false","0"]);function Nk(n,e){const t=TD.has(n)||AD.has(n),r=TD.has(e)||AD.has(e);return(i,l)=>{let c="*"==n||n==i,p="*"==e||e==l;return!c&&t&&"boolean"==typeof i&&(c=i?TD.has(n):AD.has(n)),!p&&r&&"boolean"==typeof l&&(p=l?TD.has(e):AD.has(e)),c&&p}}const sB=new RegExp("s*:selfs*,?","g");function EM(n,e,t,r){return new oB(n).build(e,t,r)}class oB{constructor(e){this._driver=e}build(e,t,r){const i=new uB(t);this._resetContextStyleTimingState(i);const l=ko(this,l0(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function gV(){return new h.vHH(3006,on)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const _=p,w=_.name;w.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,l.push(this.visitState(_,t))}),_.name=w}else if(1==p.type){const _=this.visitTransition(p,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function mV(){return new h.vHH(3007,on)}())}),{type:7,name:e.name,states:l,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,c=i||{};r.styles.forEach(p=>{if(SD(p)){const _=p;Object.keys(_).forEach(w=>{kk(_[w]).forEach(S=>{c.hasOwnProperty(S)||l.add(S)})})}}),l.size&&(wD(l.values()),t.errors.push(function _V(n,e){return new h.vHH(3008,on)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ko(this,l0(e.animation),t);return{type:1,matchers:nB(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Rp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ko(this,r,t)),options:Rp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(c=>{t.currentTime=r;const p=ko(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:l,options:Rp(e.options)}}visitAnimate(e,t){const r=function dB(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return wM(bD(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=wM(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||bD(r,e),wM(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:I_({});if(5==l.type)i=this.visitKeyframes(l,t);else{let c=e.styles,p=!1;if(!c){p=!0;const w={};r.easing&&(w.easing=r.easing),c=I_(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=p,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Tc?r.push(c):t.errors.push(function yV(n){return new h.vHH(3002,on)}()):r.push(c)}):r.push(e.styles);let i=!1,l=null;return r.forEach(c=>{if(SD(c)){const p=c,_=p.easing;if(_&&(l=_,delete p.easing),!i)for(let w in p)if(p[w].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete c[p],void t.unsupportedCSSPropertiesFound.add(p);const _=t.collectedStyles[t.currentQuerySelector],w=_[p];let S=!0;w&&(l!=i&&l>=w.startTime&&i<=w.endTime&&(t.errors.push(function vV(n,e,t,r,i){return new h.vHH(3010,on)}()),S=!1),l=w.startTime),S&&(_[p]={startTime:l,endTime:i}),t.options&&function KV(n,e,t){const r=e.params||{},i=kk(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function dV(n){return new h.vHH(3001,on)}())})}(c[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function bV(){return new h.vHH(3011,on)}()),r;let l=0;const c=[];let p=!1,_=!1,w=0;const S=e.steps.map(pt=>{const mt=this._makeStyleAst(pt,t);let Ct=null!=mt.offset?mt.offset:function cB(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(SD(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(SD(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(mt.styles),lt=0;return null!=Ct&&(l++,lt=mt.offset=Ct),_=_||lt<0||lt>1,p=p||lt<w,w=lt,c.push(lt),mt});_&&t.errors.push(function EV(){return new h.vHH(3012,on)}()),p&&t.errors.push(function wV(){return new h.vHH(3200,on)}());const x=e.steps.length;let V=0;l>0&&l<x?t.errors.push(function CV(){return new h.vHH(3202,on)}()):0==l&&(V=1/(x-1));const G=x-1,W=t.currentTime,me=t.currentAnimateTimings,Fe=me.duration;return S.forEach((pt,mt)=>{const Ct=V>0?mt==G?1:V*mt:c[mt],lt=Ct*Fe;t.currentTime=W+me.delay+lt,me.duration=lt,this._validateStyleAst(pt,t),pt.offset=Ct,r.styles.push(pt)}),r}visitReference(e,t){return{type:8,animation:ko(this,l0(e.animation),t),options:Rp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Rp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Rp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,c]=function aB(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(sB,"")),n=n.replace(/@\*/g,vD).replace(/@\w+/g,t=>vD+"-"+t.substr(1)).replace(/:animating/g,_M),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Ro(t.collectedStyles,t.currentQuerySelector,{});const p=ko(this,l0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:Rp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function DV(){return new h.vHH(3013,on)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:bD(e.timings,t.errors,!0);return{type:12,animation:ko(this,l0(e.animation),t),timings:r,options:null}}}class uB{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function SD(n){return!Array.isArray(n)&&"object"==typeof n}function Rp(n){return n?(n=T_(n)).params&&(n.params=function lB(n){return n?T_(n):null}(n.params)):n={},n}function wM(n,e,t){return{duration:n,delay:e,easing:t}}function CM(n,e,t,r,i,l,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:c,subTimeline:p}}class MD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const pB=new RegExp(":enter","g"),mB=new RegExp(":leave","g");function DM(n,e,t,r,i,l={},c={},p,_,w=[]){return(new _B).buildKeyframes(n,e,t,r,i,l,c,p,_,w)}class _B{buildKeyframes(e,t,r,i,l,c,p,_,w,S=[]){w=w||new MD;const x=new IM(e,t,w,i,l,S,[]);x.options=_,x.currentTimeline.setStyles([c],null,x.errors,_),ko(this,r,x);const V=x.timelines.filter(G=>G.containsAnimation());if(Object.keys(p).length){let G;for(let W=V.length-1;W>=0;W--){const me=V[W];if(me.element===t){G=me;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([p],null,x.errors,_)}return V.length?V.map(G=>G.buildKeyframes()):[CM(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);l!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const c=null!=r.duration?xp(r.duration):null,p=null!=r.delay?xp(r.delay):null;return 0!==c&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,c,p);l=Math.max(l,w.duration+w.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),ko(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=xD);const c=xp(l.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ko(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?xp(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);l&&p.delayNextStep(l),ko(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return bD(t.params?ED(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(_=>{p.forwardTime((_.offset||0)*l),p.setStyles(_.styles,_.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?xp(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=xD);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let _=null;p.forEach((w,S)=>{t.currentQueryIndex=S;const x=t.createSubContext(e.options,w);l&&x.delayNextStep(l),w===t.element&&(_=x.currentTimeline),ko(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,c=Math.abs(l.duration),p=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=p-_;break;case"full":_=r.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const x=S.currentTime;ko(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const xD={};class IM{constructor(e,t,r,i,l,c,p,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new OD(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=xp(r.duration)),null!=r.delay&&(i.delay=xp(r.delay));const l=r.params;if(l){let c=i.params;c||(c=this.options.params={}),Object.keys(l).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=ED(l[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new IM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=xD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new yB(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(pB,"."+this._enterClassName)).replace(mB,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),p.push(...w)}return!l&&0==p.length&&c.push(function IV(n){return new h.vHH(3014,on)}()),p}}class OD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new OD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Tc,this._currentKeyframe[t]=Tc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const l=i&&i.params||{},c=function vB(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(l=>{t[l]=Tc})):vh(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(p=>{const _=ED(c[p],l,r);this._pendingStyles[p]=_,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:Tc),this._updateStyle(p,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,_)=>{const w=vh(p,!0);Object.keys(w).forEach(S=>{const x=w[S];"!"==x?e.add(S):x==Tc&&t.add(S)}),r||(w.offset=_/this.duration),i.push(w)});const l=e.size?wD(e.values()):[],c=t.size?wD(t.values()):[];if(r){const p=i[0],_=T_(p);p.offset=0,_.offset=1,i=[p,_]}return CM(this.element,i,l,c,this.duration,this.startTime,this.easing,!1)}}class yB extends OD{constructor(e,t,r,i,l,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],c=r+t,p=t/c,_=vh(e[0],!1);_.offset=0,l.push(_);const w=vh(e[0],!1);w.offset=Vk(p),l.push(w);const S=e.length-1;for(let x=1;x<=S;x++){let V=vh(e[x],!1);V.offset=Vk((t+V.offset*r)/c),l.push(V)}r=c,t=0,i="",e=l}return CM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Vk(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class TM{}class bB extends TM{normalizePropertyName(e,t){return bM(e)}normalizeStyleValue(e,t,r,i){let l="";const c=r.toString().trim();if(EB[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function pV(n,e){return new h.vHH(3005,on)}())}return c+l}}const EB=(()=>function wB(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Bk(n,e,t,r,i,l,c,p,_,w,S,x,V){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:c,timelines:p,queriedElements:_,preStyleProps:w,postStyleProps:S,totalTime:x,errors:V}}const AM={};class Uk{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function CB(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],l=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return l?l.buildStyles(t,r):c}build(e,t,r,i,l,c,p,_,w,S){const x=[],V=this.ast.options&&this.ast.options.params||AM,W=this.buildStyles(r,p&&p.params||AM,x),me=_&&_.params||AM,Fe=this.buildStyles(i,me,x),pt=new Set,mt=new Map,Ct=new Map,lt="void"===i,Vt={params:Object.assign(Object.assign({},V),me)},$t=S?[]:DM(e,t,this.ast.animation,l,c,W,Fe,Vt,w,x);let Cn=0;if($t.forEach(Ac=>{Cn=Math.max(Ac.duration+Ac.delay,Cn)}),x.length)return Bk(t,this._triggerName,r,i,lt,W,Fe,[],[],mt,Ct,Cn,x);$t.forEach(Ac=>{const Sc=Ac.element,sP=Ro(mt,Sc,{});Ac.preStyleProps.forEach(kp=>sP[kp]=!0);const c0=Ro(Ct,Sc,{});Ac.postStyleProps.forEach(kp=>c0[kp]=!0),Sc!==t&&pt.add(Sc)});const Hi=wD(pt.values());return Bk(t,this._triggerName,r,i,lt,W,Fe,$t,Hi,mt,Ct,Cn)}}class DB{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=T_(this.defaultParams);return Object.keys(e).forEach(l=>{const c=e[l];null!=c&&(i[l]=c)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const c=l;Object.keys(c).forEach(p=>{let _=c[p];_.length>1&&(_=ED(_,i,t));const w=this.normalizer.normalizePropertyName(p,t);_=this.normalizer.normalizeStyleValue(p,w,_,t),r[w]=_})}}),r}}class TB{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new DB(i.style,i.options&&i.options.params||{},r)}),jk(this.states,"true","1"),jk(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Uk(e,i,this.states))}),this.fallbackTransition=function AB(n,e,t){return new Uk(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function jk(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const SB=new MD;class MB{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],l=EM(this._driver,t,r,[]);if(r.length)throw function RV(n){return new h.vHH(3503,on)}();this._animations[e]=l}_buildPlayer(e,t,r){const i=e.element,l=vk(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations[e];let c;const p=new Map;if(l?(c=DM(this._driver,t,l,mM,_D,{},{},r,SB,i),c.forEach(S=>{const x=Ro(p,S.element,{});S.postStyleProps.forEach(V=>x[V]=null)})):(i.push(function kV(){return new h.vHH(3300,on)}()),c=[]),i.length)throw function PV(n){return new h.vHH(3504,on)}();p.forEach((S,x)=>{Object.keys(S).forEach(V=>{S[V]=this._driver.computeStyle(x,V,Tc)})});const w=yh(c.map(S=>{const x=p.get(S.element);return this._buildPlayer(S,{},x)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function NV(n){return new h.vHH(3301,on)}();return t}listen(e,t,r,i){const l=hM(t,"","","");return cM(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Hk="ng-animate-queued",SM="ng-animate-disabled",PB=[],$k={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},NB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ca="__ng_removed";class MM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function BB(n){return null!=n?n:null}(r?e.value:e),r){const l=T_(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const u0="void",xM=new MM(u0);class FB{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,da(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function FV(n,e){return new h.vHH(3302,on)}();if(null==r||0==r.length)throw function LV(n){return new h.vHH(3303,on)}();if(!function UB(n){return"start"==n||"done"==n}(r))throw function VV(n,e){return new h.vHH(3400,on)}();const l=Ro(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};l.push(c);const p=Ro(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(da(e,yD),da(e,yD+"-"+t),p[t]=xM),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(c);_>=0&&l.splice(_,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function BV(n){return new h.vHH(3401,on)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),c=new OM(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(da(e,yD),da(e,yD+"-"+t),this._engine.statesByElement.set(e,p={}));let _=p[t];const w=new MM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),p[t]=w,_||(_=xM),w.value!==u0&&_.value===w.value){if(!function $B(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(_.params,w.params)){const me=[],Fe=l.matchStyles(_.value,_.params,me),pt=l.matchStyles(w.value,w.params,me);me.length?this._engine.reportError(me):this._engine.afterFlush(()=>{Op(e,Fe),nu(e,pt)})}return}const V=Ro(this._engine.playersByElement,e,[]);V.forEach(me=>{me.namespaceId==this.id&&me.triggerName==t&&me.queued&&me.destroy()});let G=l.matchTransition(_.value,w.value,e,w.params),W=!1;if(!G){if(!i)return;G=l.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:G,fromState:_,toState:w,player:c,isFallbackTransition:W}),W||(da(e,Hk),c.onStart(()=>{A_(e,Hk)})),c.onDone(()=>{let me=this.players.indexOf(c);me>=0&&this.players.splice(me,1);const Fe=this._engine.playersByElement.get(e);if(Fe){let pt=Fe.indexOf(c);pt>=0&&Fe.splice(pt,1)}}),this.players.push(c),V.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,vD,!0);r.forEach(i=>{if(i[ca])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),c=new Map;if(l){const p=[];if(Object.keys(l).forEach(_=>{if(c.set(_,l[_].value),this._triggers[_]){const w=this.trigger(e,_,u0,i);w&&p.push(w)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&yh(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const c=l.name;if(i.has(c))return;i.add(c);const _=this._triggers[c].fallbackTransition,w=r[c]||xM,S=new MM(u0),x=new OM(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:w,toState:S,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[ca];(!l||l===$k)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){da(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,c=this._elementListeners.get(l);c&&c.forEach(p=>{if(p.name==r.triggerName){const _=hM(l,r.triggerName,r.fromState.value,r.toState.value);_._data=e,cM(r.player,p.phase,_,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==l||0==c?l-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class LB{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new FB(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,l=r.length-1;if(l>=0){let c=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const _=i.get(p);if(_){const w=r.indexOf(_);r.splice(w+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}}else for(let p=l;p>=0;p--)if(this.driver.containsElement(r[p].hostElement,t)){r.splice(p+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let l=0;l<i.length;l++){const c=r[i[l]].namespaceId;if(c){const p=this._fetchNamespace(c);p&&t.add(p)}}}return t}trigger(e,t,r,i){if(RD(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!RD(t))return;const l=t[ca];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),da(e,SM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),A_(e,SM))}removeNode(e,t,r,i){if(RD(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[ca]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return RD(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,vD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_M,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return yh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[ca];if(r&&r.setForRemoval){if(e[ca]=$k,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(SM))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)da(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?yh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function UV(n){return new h.vHH(3402,on)}()}_flushAnimations(e,t){const r=new MD,i=[],l=new Map,c=[],p=new Map,_=new Map,w=new Map,S=new Set;this.disabledNodes.forEach(ot=>{S.add(ot);const Dt=this.driver.query(ot,".ng-animate-queued",!0);for(let Mt=0;Mt<Dt.length;Mt++)S.add(Dt[Mt])});const x=this.bodyNode,V=Array.from(this.statesByElement.keys()),G=qk(V,this.collectedEnterElements),W=new Map;let me=0;G.forEach((ot,Dt)=>{const Mt=mM+me++;W.set(Dt,Mt),ot.forEach(mn=>da(mn,Mt))});const Fe=[],pt=new Set,mt=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const Dt=this.collectedLeaveElements[ot],Mt=Dt[ca];Mt&&Mt.setForRemoval&&(Fe.push(Dt),pt.add(Dt),Mt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(mn=>pt.add(mn)):mt.add(Dt))}const Ct=new Map,lt=qk(V,Array.from(pt));lt.forEach((ot,Dt)=>{const Mt=_D+me++;Ct.set(Dt,Mt),ot.forEach(mn=>da(mn,Mt))}),e.push(()=>{G.forEach((ot,Dt)=>{const Mt=W.get(Dt);ot.forEach(mn=>A_(mn,Mt))}),lt.forEach((ot,Dt)=>{const Mt=Ct.get(Dt);ot.forEach(mn=>A_(mn,Mt))}),Fe.forEach(ot=>{this.processLeaveNode(ot)})});const Vt=[],$t=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(Mt=>{const mn=Mt.player,xi=Mt.element;if(Vt.push(mn),this.collectedEnterElements.length){const Ts=xi[ca];if(Ts&&Ts.setForMove){if(Ts.previousTriggersValues&&Ts.previousTriggersValues.has(Mt.triggerName)){const Pp=Ts.previousTriggersValues.get(Mt.triggerName),Eh=this.statesByElement.get(Mt.element);Eh&&Eh[Mt.triggerName]&&(Eh[Mt.triggerName].value=Pp)}return void mn.destroy()}}const ru=!x||!this.driver.containsElement(x,xi),Po=Ct.get(xi),bh=W.get(xi),or=this._buildInstruction(Mt,r,bh,Po,ru);if(or.errors&&or.errors.length)return void $t.push(or);if(ru)return mn.onStart(()=>Op(xi,or.fromStyles)),mn.onDestroy(()=>nu(xi,or.toStyles)),void i.push(mn);if(Mt.isFallbackTransition)return mn.onStart(()=>Op(xi,or.fromStyles)),mn.onDestroy(()=>nu(xi,or.toStyles)),void i.push(mn);const lP=[];or.timelines.forEach(Ts=>{Ts.stretchStartingKeyframe=!0,this.disabledNodes.has(Ts.element)||lP.push(Ts)}),or.timelines=lP,r.append(xi,or.timelines),c.push({instruction:or,player:mn,element:xi}),or.queriedElements.forEach(Ts=>Ro(p,Ts,[]).push(mn)),or.preStyleProps.forEach((Ts,Pp)=>{const Eh=Object.keys(Ts);if(Eh.length){let Np=_.get(Pp);Np||_.set(Pp,Np=new Set),Eh.forEach(NM=>Np.add(NM))}}),or.postStyleProps.forEach((Ts,Pp)=>{const Eh=Object.keys(Ts);let Np=w.get(Pp);Np||w.set(Pp,Np=new Set),Eh.forEach(NM=>Np.add(NM))})});if($t.length){const ot=[];$t.forEach(Dt=>{ot.push(function jV(n,e){return new h.vHH(3505,on)}())}),Vt.forEach(Dt=>Dt.destroy()),this.reportError(ot)}const Cn=new Map,Hi=new Map;c.forEach(ot=>{const Dt=ot.element;r.has(Dt)&&(Hi.set(Dt,Dt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,Cn))}),i.forEach(ot=>{const Dt=ot.element;this._getPreviousPlayers(Dt,!1,ot.namespaceId,ot.triggerName,null).forEach(mn=>{Ro(Cn,Dt,[]).push(mn),mn.destroy()})});const Ac=Fe.filter(ot=>Kk(ot,_,w)),Sc=new Map;zk(Sc,this.driver,mt,w,Tc).forEach(ot=>{Kk(ot,_,w)&&Ac.push(ot)});const c0=new Map;G.forEach((ot,Dt)=>{zk(c0,this.driver,new Set(ot),_,"!")}),Ac.forEach(ot=>{const Dt=Sc.get(ot),Mt=c0.get(ot);Sc.set(ot,Object.assign(Object.assign({},Dt),Mt))});const kp=[],oP=[],aP={};c.forEach(ot=>{const{element:Dt,player:Mt,instruction:mn}=ot;if(r.has(Dt)){if(S.has(Dt))return Mt.onDestroy(()=>nu(Dt,mn.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(mn.totalTime),void i.push(Mt);let xi=aP;if(Hi.size>1){let Po=Dt;const bh=[];for(;Po=Po.parentNode;){const or=Hi.get(Po);if(or){xi=or;break}bh.push(Po)}bh.forEach(or=>Hi.set(or,xi))}const ru=this._buildAnimation(Mt.namespaceId,mn,Cn,l,c0,Sc);if(Mt.setRealPlayer(ru),xi===aP)kp.push(Mt);else{const Po=this.playersByElement.get(xi);Po&&Po.length&&(Mt.parentPlayer=yh(Po)),i.push(Mt)}}else Op(Dt,mn.fromStyles),Mt.onDestroy(()=>nu(Dt,mn.toStyles)),oP.push(Mt),S.has(Dt)&&i.push(Mt)}),oP.forEach(ot=>{const Dt=l.get(ot.element);if(Dt&&Dt.length){const Mt=yh(Dt);ot.setRealPlayer(Mt)}}),i.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<Fe.length;ot++){const Dt=Fe[ot],Mt=Dt[ca];if(A_(Dt,_D),Mt&&Mt.hasAnimation)continue;let mn=[];if(p.size){let ru=p.get(Dt);ru&&ru.length&&mn.push(...ru);let Po=this.driver.query(Dt,_M,!0);for(let bh=0;bh<Po.length;bh++){let or=p.get(Po[bh]);or&&or.length&&mn.push(...or)}}const xi=mn.filter(ru=>!ru.destroyed);xi.length?jB(this,Dt,xi):this.processLeaveNode(Dt)}return Fe.length=0,kp.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const Dt=this.players.indexOf(ot);this.players.splice(Dt,1)}),ot.play()}),kp}elementContainsData(e,t){let r=!1;const i=t[ca];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const _=!l||l==u0;p.forEach(w=>{w.queued||!_&&w.triggerName!=i||c.push(w)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const l=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,S=w!==l,x=Ro(r,w,[]);this._getPreviousPlayers(w,S,c,p,t.toState).forEach(G=>{const W=G.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),G.destroy(),x.push(G)})}Op(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,c){const p=t.triggerName,_=t.element,w=[],S=new Set,x=new Set,V=t.timelines.map(W=>{const me=W.element;S.add(me);const Fe=me[ca];if(Fe&&Fe.removedBeforeQueried)return new a0(W.duration,W.delay);const pt=me!==_,mt=function HB(n){const e=[];return Wk(n,e),e}((r.get(me)||PB).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===me),Ct=l.get(me),lt=c.get(me),Vt=vk(0,this._normalizer,0,W.keyframes,Ct,lt),$t=this._buildPlayer(W,Vt,mt);if(W.subTimeline&&i&&x.add(me),pt){const Cn=new OM(e,p,me);Cn.setRealPlayer($t),w.push(Cn)}return $t});w.forEach(W=>{Ro(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function VB(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,W.element,W))}),S.forEach(W=>da(W,Mk));const G=yh(V);return G.onDestroy(()=>{S.forEach(W=>A_(W,Mk)),nu(_,t.toStyles)}),x.forEach(W=>{Ro(i,W,[]).push(G)}),G}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new a0(e.duration,e.delay)}}class OM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new a0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>cM(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ro(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function RD(n){return n&&1===n.nodeType}function Gk(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function zk(n,e,t,r,i){const l=[];t.forEach(_=>l.push(Gk(_)));const c=[];r.forEach((_,w)=>{const S={};_.forEach(x=>{const V=S[x]=e.computeStyle(w,x,i);(!V||0==V.length)&&(w[ca]=NB,c.push(w))}),n.set(w,S)});let p=0;return t.forEach(_=>Gk(_,l[p++])),c}function qk(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),l=new Map;function c(p){if(!p)return 1;let _=l.get(p);if(_)return _;const w=p.parentNode;return _=t.has(w)?w:i.has(w)?1:c(w),l.set(p,_),_}return e.forEach(p=>{const _=c(p);1!==_&&t.get(_).push(p)}),t}function da(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function A_(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function jB(n,e,t){yh(t).onDone(()=>n.processLeaveNode(e))}function Wk(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof _k?Wk(r.players,e):e.push(r)}}function Kk(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class kD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new LB(e,t,r),this._timelineEngine=new MB(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const _=[],S=EM(this._driver,l,_,[]);if(_.length)throw function xV(n,e){return new h.vHH(3404,on)}();p=function IB(n,e,t){return new TB(n,e,t)}(i,S,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,c]=bk(r);this._timelineEngine.command(l,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[c,p]=bk(r);return this._timelineEngine.listen(c,t,p,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let zB=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&nu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nu(this._element,this._initialStyles),this._endStyles&&(nu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Op(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Op(this._element,this._endStyles),this._endStyles=null),nu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function RM(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];qB(i)&&(e=e||{},e[i]=n[i])}return e}function qB(n){return"display"===n||"position"===n}class Zk{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Pk(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class WB{validateStyleProperty(e){return Dk(e)}matchesElement(e,t){return!1}containsElement(e,t){return Ik(e,t)}getParentElement(e){return pM(e)}query(e,t,r){return Tk(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(_.easing=l);const w={},S=c.filter(V=>V instanceof Zk);(function QV(n,e){return 0===n||0===e})(r,i)&&S.forEach(V=>{let G=V.currentSnapshot;Object.keys(G).forEach(W=>w[W]=G[W])}),t=function XV(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],c=[];if(r.forEach(p=>{l.hasOwnProperty(p)||c.push(p),l[p]=t[p]}),c.length)for(var i=1;i<e.length;i++){let p=e[i];c.forEach(function(_){p[_]=Pk(n,_)})}}return e}(e,t=t.map(V=>vh(V,!1)),w);const x=function GB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=RM(e[0]),e.length>1&&(r=RM(e[e.length-1]))):e&&(t=RM(e)),t||r?new zB(n,t,r):null}(e,t);return new Zk(e,t,_,x)}}let KB=(()=>{class n extends lk{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?dk(t):t;return Yk(this._renderer,null,r,"register",[i]),new ZB(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ZB extends class aV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new YB(this._id,e,t||{},this._renderer)}}class YB{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Yk(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Yk(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Qk="@.disabled";let QB=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,c)=>{const p=null==c?void 0:c.parentNode(l);p&&c.removeChild(p,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(l);return S||(S=new Xk("",l,this.engine),this._rendererCache.set(l,S)),S}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(c,p,t,S.name,S)};return r.data.animation.forEach(_),new XB(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[c,p]=l;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(kD),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Xk{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Qk?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class XB extends Xk{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Qk?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function JB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),c="";return"@"!=l.charAt(0)&&([l,c]=function eU(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let tU=(()=>{class n extends kD{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne),h.LFG(gM),h.LFG(TM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const kM=new h.OlP("AnimationModuleType"),Jk=[{provide:lk,useClass:KB},{provide:TM,useFactory:function nU(){return new bB}},{provide:kD,useClass:tU},{provide:h.FYo,useFactory:function rU(n,e,t){return new QB(n,e,t)},deps:[An,kD,h.R0b]}],eP=[{provide:gM,useFactory:()=>new WB},{provide:kM,useValue:"BrowserAnimations"},...Jk],iU=[{provide:gM,useClass:Ak},{provide:kM,useValue:"NoopAnimations"},...Jk];let sU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?iU:eP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:eP,imports:[Ho]}),n})();function oU(n,e){}class PM{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const aU={dialogContainer:lV("dialogContainer",[hk("void, exit",I_({opacity:0,transform:"scale(0.7)"})),hk("enter",I_({transform:"none"})),fk("* => enter",ck([uk("150ms cubic-bezier(0, 0, 0.2, 1)",I_({transform:"none",opacity:1})),gk("@*",pk(),{optional:!0})])),fk("* => void, * => exit",ck([uk("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",I_({opacity:0})),gk("@*",pk(),{optional:!0})]))])};let lU=(()=>{class n extends rM{constructor(t,r,i,l,c,p,_,w){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=c,this._interactivityChecker=p,this._ngZone=_,this._focusMonitor=w,this._animationStateChanged=new h.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=S=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(S)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=XS())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=XS(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=XS();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36($L),h.Y36(h.sBO),h.Y36(ne,8),h.Y36(PM),h.Y36(XR),h.Y36(h.R0b),h.Y36(QL))},n.\u0275dir=h.lG2({type:n,viewQuery:function(t,r){if(1&t&&h.Gf(LR,7),2&t){let i;h.iGM(i=h.CRH())&&(r._portalOutlet=i.first)}},features:[h.qOj]}),n})(),uU=(()=>{class n extends lU{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&h.WFA("@dialogContainer.start",function(l){return r._onAnimationStart(l)})("@dialogContainer.done",function(l){return r._onAnimationDone(l)}),2&t&&(h.Ikx("id",r._id),h.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),h.d8E("@dialogContainer",r._state))},features:[h.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&h.YNc(0,oU,0,0,"ng-template",0)},directives:[LR],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[aU.dialogContainer]}}),n})(),cU=0;class dU{constructor(e,t,r="mat-dialog-"+cU++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new gn.x,this._afterClosed=new gn.x,this._beforeClosed=new gn.x,this._state=0,t._id=r,t._animationStateChanged.pipe(ii(i=>"opened"===i.state),(0,Vr.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(ii(i=>"closed"===i.state),(0,Vr.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(ii(i=>27===i.keyCode&&!this.disableClose&&!function SL(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),tP(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():tP(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(ii(t=>"closing"===t.state),(0,Vr.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function tP(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const hU=new h.OlP("MatDialogData"),fU=new h.OlP("mat-dialog-default-options"),nP=new h.OlP("mat-dialog-scroll-strategy"),gU={provide:nP,deps:[pD],useFactory:function pU(n){return()=>n.scrollStrategies.block()}};let mU=(()=>{class n{constructor(t,r,i,l,c,p,_,w,S,x){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=l,this._overlayContainer=c,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=S,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new gn.x,this._afterOpenedAtThisLevel=new gn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Gu(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Io(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){r=function _U(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new PM),r.id&&this.getDialogById(r.id);const i=this._createOverlay(r),l=this._attachDialogContainer(i,r),c=this._attachDialogContent(t,l,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),l._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new $R({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const l=h.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:PM,useValue:r}]}),c=new nM(this._dialogContainerType,r.viewContainerRef,l,r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,r,i,l){const c=new this._dialogRefConstructor(i,r,l.id);if(t instanceof h.Rgc)r.attachTemplatePortal(new FR(t,null,{$implicit:l.data,dialogRef:c}));else{const p=this._createInjector(l,c,r),_=r.attachComponentPortal(new nM(t,l.viewContainerRef,p,l.componentFactoryResolver));c.componentInstance=_.instance}return c.updateSize(l.width,l.height).updatePosition(l.position),c}_createInjector(t,r,i){const l=t&&t.viewContainerRef&&t.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!l||!l.get(eM,null,h.XFs.Optional))&&c.push({provide:eM,useValue:{value:t.direction,change:tt()}}),h.zs3.create({parent:l||this._injector,providers:c})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,l)=>{i?l.setAttribute("aria-hidden",i):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let l=r[i];l!==t&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275dir=h.lG2({type:n}),n})(),rP=(()=>{class n extends mU{constructor(t,r,i,l,c,p,_,w){super(t,r,l,p,_,c,dU,uU,hU,w)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pD),h.LFG(h.zs3),h.LFG(be,8),h.LFG(fU,8),h.LFG(nP),h.LFG(n,12),h.LFG(sM),h.LFG(kM,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),yU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[rP,gU],imports:[[EL,VR,D_],D_]}),n})();const vU=[{path:"home",component:vF},{path:"login",component:EF},{path:"registro",component:(()=>{class n{constructor(t,r,i){this.authService=t,this.router=r,this.errorDialog=i,this.responseMessage="",this.miUsuario=new IR}ngOnInit(){}Registrar(){const{email:t,contrasenia:r}=this.miUsuario;this.authService.register(t,r).catch(i=>{switch(i.code){case"auth/email-already-in-use":this.responseMessage="Email ya registrado.";break;case"auth/invalid-email":this.responseMessage="Email invalido.";break;case"auth/operation-not-allowed":this.responseMessage="Operacion no valido xd"}console.log("Error en el registro A: ",i)}).then(i=>{console.log("Se registro el usuario",i),null!=i&&this.router.navigate(["home"])})}IrAlLogin(){this.router.navigate(["login"])}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(qS),h.Y36(si),h.Y36(rP))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-registro"]],decls:18,vars:3,consts:[[1,"container"],[1,"imagen"],["src","../../../assets/astroRegistro.png","alt","",1,"imagLogin"],[1,"articleLogin"],["action","#"],[1,"buttonDatos",3,"click"],[2,"font-weight","normal"],["type","email","placeholder","Email","name","email",3,"ngModel","ngModelChange"],["type","password","placeholder","Password","name","pwd",3,"ngModel","ngModelChange"],[1,"buttonLogIn",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div")(1,"section",0)(2,"article",1),h._UZ(3,"img",2),h.qZA(),h.TgZ(4,"article",3)(5,"form",4)(6,"h1"),h._uU(7,"Registrarme"),h.qZA(),h.TgZ(8,"button",5),h.NdJ("click",function(){return r.IrAlLogin()}),h.TgZ(9,"span",6),h._uU(10,"Ir al logIn"),h.qZA()(),h.TgZ(11,"input",7),h.NdJ("ngModelChange",function(l){return r.miUsuario.email=l}),h.qZA(),h.TgZ(12,"input",8),h.NdJ("ngModelChange",function(l){return r.miUsuario.contrasenia=l}),h.qZA(),h.TgZ(13,"div")(14,"p"),h._uU(15),h.qZA()(),h.TgZ(16,"button",9),h.NdJ("click",function(){return r.Registrar()}),h._uU(17,"Registrarme"),h.qZA()()()()()),2&t&&(h.xp6(11),h.Q6J("ngModel",r.miUsuario.email),h.xp6(1),h.Q6J("ngModel",r.miUsuario.contrasenia),h.xp6(3),h.Oqu(r.responseMessage))},directives:[jh,Wi,Oa,bo,Il,Nu],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,800";*[_ngcontent-%COMP%]{box-sizing:border-box;padding:0}h1[_ngcontent-%COMP%]{font-weight:700;margin:0}h2[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{font-size:14px;font-weight:100;line-height:20px;letter-spacing:.5px;margin:20px 0 30px}span[_ngcontent-%COMP%]{font-size:12px}a[_ngcontent-%COMP%]{color:#333;font-size:14px;text-decoration:none;margin:15px 0}.buttonLogIn[_ngcontent-%COMP%]{border-radius:20px;border:1px solid #FF4B2B;background-color:#ff4b2b;color:#fff;font-size:12px;font-weight:700;padding:12px 45px;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in}button[_ngcontent-%COMP%]:active{transform:scale(.95)}button[_ngcontent-%COMP%]:focus{outline:none}button.ghost[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}button[_ngcontent-%COMP%]{margin-top:8px}.buttonDatos[_ngcontent-%COMP%]{border-radius:20px;font-size:10px;width:55%;background-color:#f65d43;color:#fff;border:none}section[_ngcontent-%COMP%]{width:75%;height:500px;display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.articleLogin[_ngcontent-%COMP%]{width:340px;height:70%;box-shadow:2px 2px 2px 1px #0003}.imagen[_ngcontent-%COMP%]{width:340px;height:70%;box-shadow:0 2px 2px 1px #0003}form[_ngcontent-%COMP%]{height:100%;width:100%;padding:0 50px;background-color:#fff;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.imagLogin[_ngcontent-%COMP%]{width:100%;height:100%}input[_ngcontent-%COMP%]{background-color:#eee;border:none;padding:10px 15px;margin:8px 0;width:100%}.sign-in-container[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.social-container[_ngcontent-%COMP%]{margin:15px 0}.social-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid #DDDDDD;border-radius:50%;display:inline-flex;justify-content:center;align-items:center;margin:0 5px;height:40px;width:40px}']}),n})()},{path:"quienSoy",component:wF},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"juegos",component:bF,children:[{path:"mayorMenor",component:fE},{path:"ahorcado",component:hE},{path:"preguntados",component:pE}]},{path:"**",component:gE}];let bU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[lE.forRoot(vU)],lE]}),n})(),EU=(()=>{class n{constructor(){this.title="TP-SalaDeJuegosLabIV-FC"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:[mf],styles:["body[_ngcontent-%COMP%]{min-height:75rem;box-sizing:border-box;margin:0;padding-left:0}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.2rem;margin-left:1.5rem}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.2rem}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex-direction:column;justify-content:start}.imagenNav[_ngcontent-%COMP%]{width:45px;height:35px;border-radius:15%}"]}),n})();const iP_firebaseConfig={apiKey:"AIzaSyD6eSMNCc0_VUXCFtzRCR8BWDzsgeGq9lc",authDomain:"tp-saladejuegoslabiv-fc.firebaseapp.com",projectId:"tp-saladejuegoslabiv-fc",storageBucket:"tp-saladejuegoslabiv-fc.appspot.com",messagingSenderId:"892135385115",appId:"1:892135385115:web:8b96d35cdd716d6925b0be"};let wU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[oV,D_],D_]}),n})(),CU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[EU]}),n.\u0275inj=h.cJS({providers:[],imports:[[Ho,bU,Uu,ta.hO.initializeApp(iP_firebaseConfig),yU,sU,wU]]}),n})();(0,h.G48)(),gu().bootstrapModule(CU).catch(n=>console.error(n))},5867:(st,Ie,P)=>{P.d(Ie,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=P(9681);(0,h.registerVersion)("firebase","9.6.11","app")},127:(st,Ie,P)=>{P.d(Ie,{Z:()=>h.Z});var h=P(3942);h.Z.registerVersion("firebase","9.6.11","app-compat")},820:(st,Ie,P)=>{P.r(Ie);var h=P(5861),X=P(3942),N=P(2090),ue=P(9681),te=P(655),_e=P(1877),ne=P(4859);const ke=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new _e.Yd("@firebase/auth");function We(y,...f){et.logLevel<=_e.in.ERROR&&et.error(`Auth (${ue.SDK_VERSION}): ${y}`,...f)}function Ae(y,...f){throw je(y,...f)}function be(y,...f){return je(y,...f)}function we(y,f,m){const b=Object.assign(Object.assign({},Ve()),{[f]:m});return new N.LL("auth","Firebase",b).create(f,{appName:y.name})}function Ge(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ae(y,"argument-error"),we(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...f){if("string"!=typeof y){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return pe.create(y,...f)}function ie(y,f,...m){if(!y)throw je(f,...m)}function K(y){const f="INTERNAL ASSERTION FAILED: "+y;throw We(f),new Error(f)}function se(y,f){y||K(f)}const ye=new Map;function ae(y){se(y instanceof Function,"Expected a class definition");let f=ye.get(y);return f?(se(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,ye.set(y,f),f)}function Tt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function nn(){return"http:"===Fn()||"https:"===Fn()}function Fn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class fn{constructor(f,m){this.shortDelay=f,this.longDelay=m,se(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function at(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nn()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pn(y,f){se(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Oi{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void K("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void K("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void K("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const un={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ji=new fn(3e4,6e4);function rn(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Wt(y,f,m,b){return ar.apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(y,f,m,b,T={}){return di(y,T,(0,h.Z)(function*(){let k={},q={};b&&("GET"===f?q=b:k={body:JSON.stringify(b)});const oe=(0,N.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Be=yield y._getAdditionalHeaders();return Be["Content-Type"]="application/json",y.languageCode&&(Be["X-Firebase-Locale"]=y.languageCode),Oi.fetch()(Rr(y,y.config.apiHost,m,oe),Object.assign({method:f,headers:Be,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function di(y,f,m){return As.apply(this,arguments)}function As(){return(As=(0,h.Z)(function*(y,f,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},un),f);try{const T=new es(y),k=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const q=yield k.json();if("needConfirmation"in q)throw ts(y,"account-exists-with-different-credential",q);if(k.ok&&!("errorMessage"in q))return q;{const oe=k.ok?q.errorMessage:q.error.message,[Be,Xe]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw ts(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Be)throw ts(y,"email-already-in-use",q);const vt=b[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw we(y,vt,Xe);Ae(y,vt)}}catch(T){if(T instanceof N.ZR)throw T;Ae(y,"network-request-failed")}})).apply(this,arguments)}function Or(y,f,m,b){return $i.apply(this,arguments)}function $i(){return($i=(0,h.Z)(function*(y,f,m,b,T={}){const k=yield Wt(y,f,m,b,T);return"mfaPendingCredential"in k&&Ae(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Rr(y,f,m,b){const T=`${f}${m}?${b}`;return y.config.emulator?pn(y.config,T):`${y.config.apiScheme}://${T}`}class es{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(be(this.auth,"network-request-failed")),Ji.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ts(y,f,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const T=be(y,f,b);return T.customData._tokenResponse=m,T}function qr(){return(qr=(0,h.Z)(function*(y,f){return Wt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function er(y,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,h.Z)(function*(y,f){return Wt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function hi(y,f){return ro.apply(this,arguments)}function ro(){return(ro=(0,h.Z)(function*(y,f){return Wt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Tn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function ha(){return(ha=(0,h.Z)(function*(y,f=!1){const m=(0,N.m9)(y),b=yield m.getIdToken(f),T=it(b);ie(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const k="object"==typeof T.firebase?T.firebase:void 0,q=null==k?void 0:k.sign_in_provider;return{claims:T,token:b,authTime:Tn(Kt(T.auth_time)),issuedAtTime:Tn(Kt(T.iat)),expirationTime:Tn(Kt(T.exp)),signInProvider:q||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Kt(y){return 1e3*Number(y)}function it(y){const[f,m,b]=y.split(".");if(void 0===f||void 0===m||void 0===b)return We("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,N.tV)(m);return T?JSON.parse(T):(We("Failed to decode base64 JWT payload"),null)}catch(T){return We("Caught error parsing JWT payload as JSON",T),null}}function lr(y,f){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,h.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof N.ZR&&Gt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Gt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class io{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class mr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tn(this.lastLoginAt),this.creationTime=Tn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ur(y){return dt.apply(this,arguments)}function dt(){return(dt=(0,h.Z)(function*(y){var f;const m=y.auth,b=yield y.getIdToken(),T=yield lr(y,hi(m,{idToken:b}));ie(null==T?void 0:T.users.length,m,"internal-error");const k=T.users[0];y._notifyReloadListener(k);const q=(null===(f=k.providerUserInfo)||void 0===f?void 0:f.length)?Se(k.providerUserInfo):[],oe=Ke(y.providerData,q),vt=!!y.isAnonymous&&!(y.email&&k.passwordHash||(null==oe?void 0:oe.length)),ut={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:oe,metadata:new mr(k.createdAt,k.lastLoginAt),isAnonymous:vt};Object.assign(y,ut)})).apply(this,arguments)}function jt(){return(jt=(0,h.Z)(function*(y){const f=(0,N.m9)(y);yield ur(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ke(y,f){return[...y.filter(b=>!f.some(T=>T.providerId===b.providerId)),...f]}function Se(y){return y.map(f=>{var{providerId:m}=f,b=(0,te._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ht(){return(ht=(0,h.Z)(function*(y,f){const m=yield di(y,{},(0,h.Z)(function*(){const b=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:k}=y.config,q=Rr(y,T,"/v1/token",`key=${k}`),oe=yield y._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",Oi.fetch()(q,{method:"POST",headers:oe,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ie(f.idToken,"internal-error"),ie(void 0!==f.idToken,"internal-error"),ie(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function wt(y){const f=it(y);return ie(f,"internal-error"),ie(void 0!==f.exp,"internal-error"),ie(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,h.Z)(function*(){return ie(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,h.Z)(function*(){const{accessToken:T,refreshToken:k,expiresIn:q}=yield function Qe(y,f){return ht.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(T,k,Number(q))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:T,expirationTime:k}=m,q=new Ht;return b&&(ie("string"==typeof b,"internal-error",{appName:f}),q.refreshToken=b),T&&(ie("string"==typeof T,"internal-error",{appName:f}),q.accessToken=T),k&&(ie("number"==typeof k,"internal-error",{appName:f}),q.expirationTime=k),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ht,this.toJSON())}_performRefresh(){return K("not implemented")}}function Bt(y,f){ie("string"==typeof y||void 0===y,"internal-error",{appName:f})}class j{constructor(f){var{uid:m,auth:b,stsTokenManager:T}=f,k=(0,te._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new io(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new mr(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,h.Z)(function*(){const b=yield lr(m,m.stsTokenManager.getToken(m.auth,f));return ie(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function Ss(y){return ha.apply(this,arguments)}(this,f)}reload(){return function _r(y){return jt.apply(this,arguments)}(this)}_assign(f){this!==f&&(ie(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new j(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,h.Z)(function*(){let T=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),T=!0),m&&(yield ur(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,h.Z)(function*(){const m=yield f.getIdToken();return yield lr(f,function ct(y,f){return qr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,T,k,q,oe,Be,Xe,vt;const ut=null!==(b=m.displayName)&&void 0!==b?b:void 0,Pn=null!==(T=m.email)&&void 0!==T?T:void 0,Yi=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,qu=null!==(q=m.photoURL)&&void 0!==q?q:void 0,dd=null!==(oe=m.tenantId)&&void 0!==oe?oe:void 0,Pl=null!==(Be=m._redirectEventId)&&void 0!==Be?Be:void 0,hd=null!==(Xe=m.createdAt)&&void 0!==Xe?Xe:void 0,$_=null!==(vt=m.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Yo,emailVerified:fd,isAnonymous:sf,providerData:pd,stsTokenManager:Lt}=m;ie(Yo&&Lt,f,"internal-error");const G_=Ht.fromJSON(this.name,Lt);ie("string"==typeof Yo,f,"internal-error"),Bt(ut,f.name),Bt(Pn,f.name),ie("boolean"==typeof fd,f,"internal-error"),ie("boolean"==typeof sf,f,"internal-error"),Bt(Yi,f.name),Bt(qu,f.name),Bt(dd,f.name),Bt(Pl,f.name),Bt(hd,f.name),Bt($_,f.name);const Qo=new j({uid:Yo,auth:f,email:Pn,emailVerified:fd,displayName:ut,isAnonymous:sf,photoURL:qu,phoneNumber:Yi,tenantId:dd,stsTokenManager:G_,createdAt:hd,lastLoginAt:$_});return pd&&Array.isArray(pd)&&(Qo.providerData=pd.map(gg=>Object.assign({},gg))),Pl&&(Qo._redirectEventId=Pl),Qo}static _fromIdTokenResponse(f,m,b=!1){return(0,h.Z)(function*(){const T=new Ht;T.updateFromServerResponse(m);const k=new j({uid:m.localId,auth:f,stsTokenManager:T,isAnonymous:b});return yield ur(k),k})()}}const z=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,b){var T=this;return(0,h.Z)(function*(){T.storage[m]=b})()}_get(m){var b=this;return(0,h.Z)(function*(){const T=b.storage[m];return void 0===T?null:T})()}_remove(m){var b=this;return(0,h.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function he(y,f,m){return`firebase:${y}:${f}:${m}`}class J{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:T,name:k}=this.auth;this.fullUserKey=he(this.userKey,T.apiKey,k),this.fullPersistenceKey=he("persistence",T.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?j._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,h.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,h.Z)(function*(){if(!m.length)return new J(ae(z),f,b);const T=(yield Promise.all(m.map(function(){var Xe=(0,h.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let k=T[0]||ae(z);const q=he(b,f.config.apiKey,f.name);let oe=null;for(const Xe of m)try{const vt=yield Xe._get(q);if(vt){const ut=j._fromJSON(f,vt);Xe!==k&&(oe=ut),k=Xe;break}}catch(vt){}const Be=T.filter(Xe=>Xe._shouldAllowMigration);return k._shouldAllowMigration&&Be.length?(k=Be[0],oe&&(yield k._set(q,oe.toJSON())),yield Promise.all(m.map(function(){var Xe=(0,h.Z)(function*(vt){if(vt!==k)try{yield vt._remove(q)}catch(ut){}});return function(vt){return Xe.apply(this,arguments)}}())),new J(k,f,b)):new J(k,f,b)})()}}function Ue(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Zt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(yt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Pt(f))return"Blackberry";if(_n(f))return"Webos";if(Xt(f))return"Safari";if((f.includes("chrome/")||yr(f))&&!f.includes("edge/"))return"Chrome";if(On(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function yt(y=(0,N.z$)()){return/firefox\//i.test(y)}function Xt(y=(0,N.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function yr(y=(0,N.z$)()){return/crios\//i.test(y)}function Zt(y=(0,N.z$)()){return/iemobile/i.test(y)}function On(y=(0,N.z$)()){return/android/i.test(y)}function Pt(y=(0,N.z$)()){return/blackberry/i.test(y)}function _n(y=(0,N.z$)()){return/webos/i.test(y)}function nr(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)}function ns(y=(0,N.z$)()){return nr(y)||On(y)||_n(y)||Pt(y)||/windows phone/i.test(y)||Zt(y)}function pa(y,f=[]){let m;switch(y){case"Browser":m=Ue((0,N.z$)());break;case"Worker":m=`${Ue((0,N.z$)())}-${y}`;break;default:m=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ue.SDK_VERSION}/${b}`}class fi{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ft(this),this.idTokenSubscription=new Ft(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=ae(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var T,k;if(!b._deleted&&(b.persistenceManager=yield J.create(b,f),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(q){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(k=b.currentUser)||void 0===k?void 0:k.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,h.Z)(function*(){var b;let T=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const k=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,q=null==T?void 0:T._redirectEventId,oe=yield m.tryRedirectSignIn(f);(!k||k===q)&&(null==oe?void 0:oe.user)&&(T=oe.user)}return T?T._redirectEventId?(ie(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===T._redirectEventId?m.directlySetCurrentUser(T):m.reloadAndSetCurrentUserOrClear(T)):m.reloadAndSetCurrentUserOrClear(T):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,h.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(T){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,h.Z)(function*(){try{yield ur(f)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function _t(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){const b=f?(0,N.m9)(f):null;return b&&ie(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){if(!m._deleted)return f&&ie(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,h.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(ae(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,h.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(m);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&ae(f)||m._popupRedirectResolver;ie(b,m,"argument-error"),m.redirectPersistenceManager=yield J.create(m,[ae(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,h.Z)(function*(){var b,T;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,h.Z)(function*(){if(f===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,T){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),q=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(q,this,"internal-error"),q.then(()=>k(this.currentUser)),"function"==typeof m?f.addObserver(m,b,T):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=pa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function Pe(y){return(0,N.m9)(y)}class Ft{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function cr(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function $n(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class cn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return K("not implemented")}_getIdTokenResponse(f){return K("not implemented")}_linkToIdToken(f,m){return K("not implemented")}_getReauthenticationResolver(f){return K("not implemented")}}function Ln(y,f){return xs.apply(this,arguments)}function xs(){return(xs=(0,h.Z)(function*(y,f){return Wt(y,"POST","/v1/accounts:resetPassword",rn(y,f))})).apply(this,arguments)}function xt(y,f){return No.apply(this,arguments)}function No(){return(No=(0,h.Z)(function*(y,f){return Wt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function oo(y,f){return ga.apply(this,arguments)}function ga(){return(ga=(0,h.Z)(function*(y,f){return Wt(y,"POST","/v1/accounts:update",rn(y,f))})).apply(this,arguments)}function vr(){return(vr=(0,h.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithPassword",rn(y,f))})).apply(this,arguments)}function rs(y,f){return is.apply(this,arguments)}function is(){return(is=(0,h.Z)(function*(y,f){return Wt(y,"POST","/v1/accounts:sendOobCode",rn(y,f))})).apply(this,arguments)}function pi(y,f){return dn.apply(this,arguments)}function dn(){return(dn=(0,h.Z)(function*(y,f){return rs(y,f)})).apply(this,arguments)}function Ja(y,f){return el.apply(this,arguments)}function el(){return(el=(0,h.Z)(function*(y,f){return rs(y,f)})).apply(this,arguments)}function Ri(y,f){return gi.apply(this,arguments)}function gi(){return(gi=(0,h.Z)(function*(y,f){return rs(y,f)})).apply(this,arguments)}function Mc(y,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,h.Z)(function*(y,f){return rs(y,f)})).apply(this,arguments)}function Wr(){return(Wr=(0,h.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithEmailLink",rn(y,f))})).apply(this,arguments)}function xc(){return(xc=(0,h.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithEmailLink",rn(y,f))})).apply(this,arguments)}class nl extends cn{constructor(f,m,b,T=null){super("password",b),this._email=f,this._password=m,this._tenantId=T}static _fromEmailAndPassword(f,m){return new nl(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new nl(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function Os(y,f){return vr.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function tl(y,f){return Wr.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ae(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,h.Z)(function*(){switch(b.signInMethod){case"password":return xt(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function wh(y,f){return xc.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:Ae(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Gn(y,f){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,h.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithIdp",rn(y,f))})).apply(this,arguments)}class ss extends cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new ss(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T}=m,k=(0,te._T)(m,["providerId","signInMethod"]);if(!b||!T)return null;const q=new ss(b,T);return q.idToken=k.idToken||void 0,q.accessToken=k.accessToken||void 0,q.secret=k.secret,q.nonce=k.nonce,q.pendingToken=k.pendingToken||null,q}_getIdTokenResponse(f){return Gn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,Gn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Gn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,N.xO)(m)}return f}}function Lp(y,f){return iu.apply(this,arguments)}function iu(){return(iu=(0,h.Z)(function*(y,f){return Wt(y,"POST","/v1/accounts:sendVerificationCode",rn(y,f))})).apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithPhoneNumber",rn(y,f))})).apply(this,arguments)}function Rc(){return(Rc=(0,h.Z)(function*(y,f){const m=yield Or(y,"POST","/v1/accounts:signInWithPhoneNumber",rn(y,f));if(m.temporaryProof)throw ts(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Bp={USER_NOT_FOUND:"user-not-found"};function kc(){return(kc=(0,h.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithPhoneNumber",rn(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Bp)})).apply(this,arguments)}class Fo extends cn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Fo({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Fo({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function su(y,f){return ks.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Vp(y,f){return Rc.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Up(y,f){return kc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:T}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:k}=f;return b||m||T||k?new Fo({verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:k}):null}}class ao{constructor(f){var m,b,T,k,q,oe;const Be=(0,N.zd)((0,N.pd)(f)),Xe=null!==(m=Be.apiKey)&&void 0!==m?m:null,vt=null!==(b=Be.oobCode)&&void 0!==b?b:null,ut=function S_(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Be.mode)&&void 0!==T?T:null);ie(Xe&&vt&&ut,"argument-error"),this.apiKey=Xe,this.operation=ut,this.code=vt,this.continueUrl=null!==(k=Be.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(q=Be.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(oe=Be.tenantId)&&void 0!==oe?oe:null}static parseLink(f){const m=function rl(y){const f=(0,N.zd)((0,N.pd)(y)).link,m=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,b=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(b?(0,N.zd)((0,N.pd)(b)).link:null)||b||m||f||y}(f);try{return new ao(m)}catch(b){return null}}}let ou=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return nl._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const T=ao.parseLink(b);return ie(T,"argument-error"),nl._fromEmailAndCode(m,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ps{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Kr extends Ps{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Lo extends Kr{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return ie("providerId"in m&&"signInMethod"in m,"argument-error"),ss._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ie(f.idToken||f.accessToken,"argument-error"),ss._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Lo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Lo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:k,nonce:q,providerId:oe}=f;if(!b&&!T&&!m&&!k||!oe)return null;try{return new Lo(oe)._credential({idToken:m,accessToken:b,nonce:q,pendingToken:k})}catch(Be){return null}}}let lo=(()=>{class y extends Kr{constructor(){super("facebook.com")}static credential(m){return ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ma=(()=>{class y extends Kr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:T}=m;if(!b&&!T)return null;try{return y.credential(b,T)}catch(k){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Pc=(()=>{class y extends Kr{constructor(){super("github.com")}static credential(m){return ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Vo extends cn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Gn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,Gn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Gn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T,pendingToken:k}=m;return b&&T&&k&&b===T?new Vo(b,k):null}static _create(f,m){return new Vo(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mi extends Ps{constructor(f){ie(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return mi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return mi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Vo.fromJSON(f);return ie(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Vo._create(b,m)}catch(T){return null}}}let il=(()=>{class y extends Kr{constructor(){super("twitter.com")}static credential(m,b){return ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=m;if(!b||!T)return null;try{return y.credential(b,T)}catch(k){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function sl(y,f){return kr.apply(this,arguments)}function kr(){return(kr=(0,h.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signUp",rn(y,f))})).apply(this,arguments)}class dr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,T=!1){return(0,h.Z)(function*(){const k=yield j._fromIdTokenResponse(f,b,T),q=Dh(b);return new dr({user:k,providerId:q,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const T=Dh(b);return new dr({user:f,providerId:T,_tokenResponse:b,operationType:m})})()}}function Dh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Nc(){return(Nc=(0,h.Z)(function*(y){var f;const m=Pe(y);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new dr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield sl(m,{returnSecureToken:!0}),T=yield dr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class al extends N.ZR{constructor(f,m,b,T){var k;super(m.code,m.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,al.prototype),this.customData={appName:f.name,tenantId:null!==(k=f.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,T){return new al(f,m,b,T)}}function ll(y,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?al._fromErrorAndOperation(y,k,f,b):k})}function os(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function au(){return(au=(0,h.Z)(function*(y,f){const m=(0,N.m9)(y);yield Fs(!0,m,f);const{providerUserInfo:b}=yield er(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),T=os(b||[]);return m.providerData=m.providerData.filter(k=>T.has(k.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Dn(y,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,h.Z)(function*(y,f,m=!1){const b=yield lr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return dr._forOperation(y,"link",b)})).apply(this,arguments)}function Fs(y,f,m){return hn.apply(this,arguments)}function hn(){return(hn=(0,h.Z)(function*(y,f,m){yield ur(f);const T=!1===y?"provider-already-linked":"no-such-provider";ie(os(f.providerData).has(m)===y,f.auth,T)})).apply(this,arguments)}function Fc(y,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(y,f,m=!1){const{auth:b}=y,T="reauthenticate";try{const k=yield lr(y,ll(b,T,f,y),m);ie(k.idToken,b,"internal-error");const q=it(k.idToken);ie(q,b,"internal-error");const{sub:oe}=q;return ie(y.uid===oe,b,"user-mismatch"),dr._forOperation(y,T,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Ae(b,"user-mismatch"),k}})).apply(this,arguments)}function co(y,f){return br.apply(this,arguments)}function br(){return(br=(0,h.Z)(function*(y,f,m=!1){const b="signIn",T=yield ll(y,b,f),k=yield dr._fromIdTokenResponse(y,b,T);return m||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Vn(y,f){return ya.apply(this,arguments)}function ya(){return(ya=(0,h.Z)(function*(y,f){return co(Pe(y),f)})).apply(this,arguments)}function ki(y,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(y,f){const m=(0,N.m9)(y);return yield Fs(!1,m,f.providerId),Dn(m,f)})).apply(this,arguments)}function Ls(y,f){return as.apply(this,arguments)}function as(){return(as=(0,h.Z)(function*(y,f){return Fc((0,N.m9)(y),f)})).apply(this,arguments)}function ul(y,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,h.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithCustomToken",rn(y,f))})).apply(this,arguments)}function Bs(){return(Bs=(0,h.Z)(function*(y,f){const m=Pe(y),b=yield ul(m,{token:f,returnSecureToken:!0}),T=yield dr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class ft{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?cl._fromServerResponse(f,m):Ae(f,"internal-error")}}class cl extends ft{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new cl(m)}}function va(y,f,m){var b;ie((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),ie(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ie(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(ie(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function hl(){return(hl=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y),T={requestType:"PASSWORD_RESET",email:f};m&&va(b,T,m),yield Ja(b,T)})).apply(this,arguments)}function lu(){return(lu=(0,h.Z)(function*(y,f,m){yield Ln((0,N.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function De(){return(De=(0,h.Z)(function*(y,f){yield oo((0,N.m9)(y),{oobCode:f})})).apply(this,arguments)}function Ut(y,f){return cu.apply(this,arguments)}function cu(){return(cu=(0,h.Z)(function*(y,f){const m=(0,N.m9)(y),b=yield Ln(m,{oobCode:f}),T=b.requestType;switch(ie(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(b.mfaInfo,m,"internal-error");default:ie(b.email,m,"internal-error")}let k=null;return b.mfaInfo&&(k=ft._fromServerResponse(Pe(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:k},operation:T}})).apply(this,arguments)}function Uo(){return(Uo=(0,h.Z)(function*(y,f){const{data:m}=yield Ut((0,N.m9)(y),f);return m.email})).apply(this,arguments)}function Yr(){return(Yr=(0,h.Z)(function*(y,f,m){const b=Pe(y),T=yield sl(b,{returnSecureToken:!0,email:f,password:m}),k=yield dr._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}function Lc(){return(Lc=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y),T={requestType:"EMAIL_SIGNIN",email:f};ie(m.handleCodeInApp,b,"argument-error"),m&&va(b,T,m),yield Ri(b,T)})).apply(this,arguments)}function Us(){return(Us=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y),T=ou.credentialWithLink(f,m||Tt());return ie(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Vn(b,T)})).apply(this,arguments)}function hr(y,f){return _i.apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(y,f){return Wt(y,"POST","/v1/accounts:createAuthUri",rn(y,f))})).apply(this,arguments)}function js(){return(js=(0,h.Z)(function*(y,f){const b={identifier:f,continueUri:nn()?Tt():"http://localhost"},{signinMethods:T}=yield hr((0,N.m9)(y),b);return T||[]})).apply(this,arguments)}function pu(){return(pu=(0,h.Z)(function*(y,f){const m=(0,N.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&va(m.auth,T,f);const{email:k}=yield pi(m.auth,T);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function _l(){return(_l=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&va(b.auth,k,m);const{email:q}=yield Mc(b.auth,k);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function gu(y,f){return ba.apply(this,arguments)}function ba(){return(ba=(0,h.Z)(function*(y,f){return Wt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function mu(){return(mu=(0,h.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,N.m9)(y),k={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},q=yield lr(b,gu(b.auth,k));b.displayName=q.displayName||null,b.photoURL=q.photoUrl||null;const oe=b.providerData.find(({providerId:Be})=>"password"===Be);oe&&(oe.displayName=b.displayName,oe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(q)})).apply(this,arguments)}function yu(y,f,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,h.Z)(function*(y,f,m){const{auth:b}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(k.email=f),m&&(k.password=m);const q=yield lr(y,xt(b,k));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class fo{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class Uc extends fo{constructor(f,m,b,T){super(f,m,b),this.username=T}}class jc extends fo{constructor(f,m){super(f,"facebook.com",m)}}class po extends Uc{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Hs extends fo{constructor(f,m){super(f,"google.com",m)}}class vu extends Uc{constructor(f,m,b){super(f,"twitter.com",m,b)}}function wr(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Bc(y){var f,m;if(!y)return null;const{providerId:b}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const q=null===(m=null===(f=it(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(q)return new fo(k,"anonymous"!==q&&"custom"!==q?q:null)}if(!b)return null;switch(b){case"facebook.com":return new jc(k,T);case"github.com":return new po(k,T);case"google.com":return new Hs(k,T);case"twitter.com":return new vu(k,T,y.screenName||null);case"custom":case"anonymous":return new fo(k,null);default:return new fo(k,b,T)}}(m)}class ls{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new ls("enroll",f)}static _fromMfaPendingCredential(f){return new ls("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ls._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return ls._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ea{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=Pe(f),T=m.customData._serverResponse,k=(T.mfaInfo||[]).map(oe=>ft._fromServerResponse(b,oe));ie(T.mfaPendingCredential,b,"internal-error");const q=ls._fromMfaPendingCredential(T.mfaPendingCredential);return new Ea(q,k,function(){var oe=(0,h.Z)(function*(Be){const Xe=yield Be._process(b,q);delete T.mfaInfo,delete T.mfaPendingCredential;const vt=Object.assign(Object.assign({},T),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(m.operationType){case"signIn":const ut=yield dr._fromIdTokenResponse(b,m.operationType,vt);return yield b._updateCurrentUser(ut.user),ut;case"reauthenticate":return ie(m.user,b,"internal-error"),dr._forOperation(m.user,m.operationType,vt);default:Ae(b,"internal-error")}});return function(Be){return oe.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,h.Z)(function*(){return m.signInResolver(f)})()}}function zn(y,f){return Wt(y,"POST","/v2/accounts/mfaEnrollment:start",rn(y,f))}class us{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>ft._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new us(f)}getSession(){var f=this;return(0,h.Z)(function*(){return ls._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var b=this;return(0,h.Z)(function*(){const T=f,k=yield b.getSession(),q=yield lr(b.user,T._process(b.user.auth,k,m));return yield b.user._updateTokensIfNecessary(q),b.user.reload()})()}unenroll(f){var m=this;return(0,h.Z)(function*(){const b="string"==typeof f?f:f.uid,T=yield m.user.getIdToken(),k=yield lr(m.user,function Hp(y,f){return Wt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",rn(y,f))}(m.user.auth,{idToken:T,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:q})=>q!==b),yield m.user._updateTokensIfNecessary(k);try{yield m.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const $o=new WeakMap,wu="__sak";class go{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(wu,"1"),this.storage.removeItem(wu),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const vn=(()=>{class y extends go{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gc(){const y=(0,N.z$)();return Xt(y)||nr(y)}()&&function Kn(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=ns(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),k=this.localCache[b];T!==k&&m(b,k,T)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((oe,Be,Xe)=>{this.notifyListeners(oe,Xe)});const T=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const oe=this.storage.getItem(T);if(m.newValue!==oe)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!b)return}const k=()=>{const oe=this.storage.getItem(T);!b&&this.localCache[T]===oe||this.notifyListeners(T,oe)},q=this.storage.getItem(T);!function fa(){return(0,N.w1)()&&10===document.documentMode}()||q===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const k of Array.from(T))k(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var T=()=>super._set,k=this;return(0,h.Z)(function*(){yield T().call(k,m,b),k.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,T=this;return(0,h.Z)(function*(){const k=yield b().call(T,m);return T.localCache[m]=JSON.stringify(k),k})()}_remove(m){var b=()=>super._remove,T=this;return(0,h.Z)(function*(){yield b().call(T,m),delete T.localCache[m]})()}}return y.type="LOCAL",y})(),cs=(()=>{class y extends go{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let wa=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(k=>k.isListeningto(m));if(b)return b;const T=new y(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,h.Z)(function*(){const T=m,{eventId:k,eventType:q,data:oe}=T.data,Be=b.handlersMap[q];if(!(null==Be?void 0:Be.size))return;T.ports[0].postMessage({status:"ack",eventId:k,eventType:q});const Xe=Array.from(Be).map(function(){var ut=(0,h.Z)(function*(Pn){return Pn(T.origin,oe)});return function(Pn){return ut.apply(this,arguments)}}()),vt=yield function Du(y){return Promise.all(y.map(function(){var f=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(Xe);T.ports[0].postMessage({status:"done",eventId:k,eventType:q,response:vt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function mo(y="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return y+m}class zc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var T=this;return(0,h.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let q,oe;return new Promise((Be,Xe)=>{const vt=mo("",20);k.port1.start();const ut=setTimeout(()=>{Xe(new Error("unsupported_event"))},b);oe={messageChannel:k,onMessage(Pn){const Yi=Pn;if(Yi.data.eventId===vt)switch(Yi.data.status){case"ack":clearTimeout(ut),q=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Be(Yi.data.response);break;default:clearTimeout(ut),clearTimeout(q),Xe(new Error("invalid_response"))}}},T.handlers.add(oe),k.port1.addEventListener("message",oe.onMessage),T.target.postMessage({eventType:f,eventId:vt,data:m},[k.port2])}).finally(()=>{oe&&T.removeMessageHandler(oe)})})()}}function Jt(){return window}function bn(){return void 0!==Jt().WorkerGlobalScope&&"function"==typeof Jt().importScripts}function Gs(){return(Gs=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const bl="firebaseLocalStorageDb",_o="firebaseLocalStorage",yi="fbase_key";class Zn{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function zo(y,f){return y.transaction([_o],f?"readwrite":"readonly").objectStore(_o)}function yo(){const y=indexedDB.open(bl,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(_o,{keyPath:yi})}catch(T){m(T)}}),y.addEventListener("success",(0,h.Z)(function*(){const b=y.result;b.objectStoreNames.contains(_o)?f(b):(b.close(),yield function Qr(){const y=indexedDB.deleteDatabase(bl);return new Zn(y).toPromise()}(),f(yield yo()))}))})}function Iu(y,f,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,h.Z)(function*(y,f,m){const b=zo(y,!0).put({[yi]:f,value:m});return new Zn(b).toPromise()})).apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(y,f){const m=zo(y,!1).get(f),b=yield new Zn(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function zs(y,f){const m=zo(y,!0).delete(f);return new Zn(m).toPromise()}const ds=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield yo()),m.db})()}_withRetries(m){var b=this;return(0,h.Z)(function*(){let T=0;for(;;)try{const k=yield b._openDb();return yield m(k)}catch(k){if(T++>3)throw k;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return bn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=wa._getInstance(function vl(){return bn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,h.Z)(function*(T,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(T,k){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,h.Z)(function*(T,k){return["keyChanged"]});return function(T,k){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var b,T;if(m.activeServiceWorker=yield function Ot(){return Gs.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new zc(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(b=k[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=k[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,h.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Gp(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield yo();return yield Iu(m,wu,"1"),yield zs(m,wu),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,h.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(k=>Iu(k,m,b)),T.localCache[m]=b,T.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,h.Z)(function*(){const T=yield b._withRetries(k=>function bo(y,f){return vi.apply(this,arguments)}(k,m));return b.localCache[m]=T,T})()}_remove(m){var b=this;return(0,h.Z)(function*(){return b._withPendingWrite((0,h.Z)(function*(){return yield b._withRetries(T=>zs(T,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const b=yield m._withRetries(q=>{const oe=zo(q,!1).getAll();return new Zn(oe).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const T=[],k=new Set;for(const{fbase_key:q,value:oe}of b)k.add(q),JSON.stringify(m.localCache[q])!==JSON.stringify(oe)&&(m.notifyListeners(q,oe),T.push(q));for(const q of Object.keys(m.localCache))m.localCache[q]&&!k.has(q)&&(m.notifyListeners(q,null),T.push(q));return T})()}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const k of Array.from(T))k(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function qc(y,f){return Wt(y,"POST","/v2/accounts/mfaSignIn:start",rn(y,f))}function Ni(){return(Ni=(0,h.Z)(function*(y){return(yield Wt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wo(y){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=T=>{const k=be("internal-error");k.customData=T,m(k)},b.type="text/javascript",b.charset="UTF-8",function Su(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function Da(y){return`__${y}${Math.floor(1e6*Math.random())}`}const bi=1e12;class Wc{constructor(f){this.auth=f,this.counter=bi,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new El(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||bi;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||bi))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,h.Z)(function*(){var b;return null===(b=m._widgets.get(f||bi))||void 0===b||b.execute(),""})()}}class El{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;ie(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Co(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wl=Da("rcb"),Sh=new fn(3e4,6e4);class Kc{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Jt().grecaptcha}load(f,m=""){return ie(function zp(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Jt().grecaptcha):new Promise((b,T)=>{const k=Jt().setTimeout(()=>{T(be(f,"network-request-failed"))},Sh.get());Jt()[wl]=()=>{Jt().clearTimeout(k),delete Jt()[wl];const oe=Jt().grecaptcha;if(!oe)return void T(be(f,"internal-error"));const Be=oe.render;oe.render=(Xe,vt)=>{const ut=Be(Xe,vt);return this.counter++,ut},this.hostLanguage=m,b(oe)},wo(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:wl,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),T(be(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Jt().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zc{load(f){return(0,h.Z)(function*(){return new Wc(f)})()}clearedOneInstance(){}}const Mu="recaptcha",Yc={theme:"light",type:"image"};class Mh{constructor(f,m=Object.assign({},Yc),b){this.parameters=m,this.type=Mu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pe(b),this.isInvisible="invisible"===this.parameters.size,ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;ie(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zc:new Kc,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(k=>{const q=oe=>{!oe||(f.tokenChangeListeners.delete(q),k(oe))};f.tokenChangeListeners.add(q),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=Jt()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){ie(nn()&&!bn(),f.auth,"internal-error"),yield function Qc(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Au(y){return Ni.apply(this,arguments)}(f.auth);ie(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qi{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Fo._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Mn(){return(Mn=(0,h.Z)(function*(y,f,m){const b=Pe(y),T=yield Nr(b,f,(0,N.m9)(m));return new qi(T,k=>Vn(b,k))})).apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y);yield Fs(!1,b,"phone");const T=yield Nr(b.auth,f,(0,N.m9)(m));return new qi(T,k=>ki(b,k))})).apply(this,arguments)}function Dl(){return(Dl=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y),T=yield Nr(b.auth,f,(0,N.m9)(m));return new qi(T,k=>Ls(b,k))})).apply(this,arguments)}function Nr(y,f,m){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(y,f,m){var b;const T=yield m.verify();try{let k;if(ie("string"==typeof T,y,"argument-error"),ie(m.type===Mu,y,"argument-error"),k="string"==typeof f?{phoneNumber:f}:f,"session"in k){const q=k.session;if("phoneNumber"in k)return ie("enroll"===q.type,y,"internal-error"),(yield zn(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ie("signin"===q.type,y,"internal-error");const oe=(null===(b=k.multiFactorHint)||void 0===b?void 0:b.uid)||k.multiFactorUid;return ie(oe,y,"missing-multi-factor-info"),(yield qc(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Lp(y,{phoneNumber:k.phoneNumber,recaptchaToken:T});return q}}finally{m._reset()}})).apply(this,arguments)}function Wi(){return(Wi=(0,h.Z)(function*(y,f){yield Dn((0,N.m9)(y),f)})).apply(this,arguments)}let Jr=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Pe(m)}verifyPhoneNumber(m,b){return Nr(this.auth,m,(0,N.m9)(b))}static credential(m,b){return Fo._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:T}=m;return b&&T?Fo._fromTokenResponse(b,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ei(y,f){return f?ae(f):(ie(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ia extends cn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Gn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Gn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Gn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Ta(y){return co(y.auth,new Ia(y),y.bypassAuthState)}function Xc(y){const{auth:f,user:m}=y;return ie(m,f,"internal-error"),Fc(m,new Ia(y),y.bypassAuthState)}function Oh(y){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,h.Z)(function*(y){const{auth:f,user:m}=y;return ie(m,f,"internal-error"),Dn(m,new Ia(y),y.bypassAuthState)})).apply(this,arguments)}class Ei{constructor(f,m,b,T,k=!1){this.auth=f,this.resolver=b,this.user=T,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,h.Z)(function*(b,T){f.pendingPromise={resolve:b,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(k){f.reject(k)}});return function(b,T){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,h.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:k,tenantId:q,error:oe,type:Be}=f;if(oe)return void m.reject(oe);const Xe={auth:m.auth,requestUri:b,sessionId:T,tenantId:q||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Be)(Xe))}catch(vt){m.reject(vt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ta;case"linkViaPopup":case"linkViaRedirect":return Oh;case"reauthViaPopup":case"reauthViaRedirect":return Xc;default:Ae(this.auth,"internal-error")}}resolve(f){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rh=new fn(2e3,1e4);function kh(){return(kh=(0,h.Z)(function*(y,f,m){const b=Pe(y);Ge(y,f,Ps);const T=ei(b,m);return new ps(b,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Sa(){return(Sa=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y);Ge(b.auth,f,Ps);const T=ei(b.auth,m);return new ps(b.auth,"reauthViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}function xu(){return(xu=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y);Ge(b.auth,f,Ps);const T=ei(b.auth,m);return new ps(b.auth,"linkViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}let ps=(()=>{class y extends Ei{constructor(m,b,T,k,q){super(m,b,k,q),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const b=yield m.execute();return ie(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,h.Z)(function*(){se(1===m.filter.length,"Popup operations only handle one event");const b=mo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(be(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Rh.get())};m()}}return y.currentPopupAction=null,y})();const Cr=new Map;class Ma extends Ei{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,h.Z)(function*(){let b=Cr.get(m.auth._key());if(!b){try{const k=(yield function qo(y,f){return Ou.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(k)}catch(T){b=()=>Promise.reject(T)}Cr.set(m.auth._key(),b)}return m.bypassAuthState||Cr.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const T=yield b.auth._redirectUserForId(f.eventId);if(T)return b.user=T,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Ou(){return(Ou=(0,h.Z)(function*(y,f){const m=I(f),b=D(y);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(m));return yield b._remove(m),T})).apply(this,arguments)}function gs(y,f){return qs.apply(this,arguments)}function qs(){return(qs=(0,h.Z)(function*(y,f){return D(y)._set(I(f),"true")})).apply(this,arguments)}function D(y){return ae(y._redirectPersistence)}function I(y){return he("pendingRedirect",y.config.apiKey,y.name)}function Y(){return(Y=(0,h.Z)(function*(y,f,m){const b=Pe(y);Ge(y,f,Ps);const T=ei(b,m);return yield gs(T,b),T._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Ze(){return(Ze=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y);Ge(b.auth,f,Ps);const T=ei(b.auth,m);yield gs(T,b.auth);const k=yield Wo(b);return T._openRedirect(b.auth,f,"reauthViaRedirect",k)})).apply(this,arguments)}function zt(){return(zt=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y);Ge(b.auth,f,Ps);const T=ei(b.auth,m);yield Fs(!1,b,f.providerId),yield gs(T,b.auth);const k=yield Wo(b);return T._openRedirect(b.auth,f,"linkViaRedirect",k)})).apply(this,arguments)}function Un(){return(Un=(0,h.Z)(function*(y,f){return yield Pe(y)._initializationPromise,xn(y,f,!1)})).apply(this,arguments)}function xn(y,f){return xa.apply(this,arguments)}function xa(){return(xa=(0,h.Z)(function*(y,f,m=!1){const b=Pe(y),T=ei(b,f),q=yield new Ma(b,T,m).execute();return q&&!m&&(delete q.user._redirectEventId,yield b._persistUserIfCurrent(q.user),yield b._setRedirectUser(null,f)),q})).apply(this,arguments)}function Wo(y){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,h.Z)(function*(y){const f=mo(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class ti{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ed(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qp(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!qp(f)){const T=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(be(this.auth,T))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Li(f))}saveEventToCache(f){this.cachedEventUids.add(Li(f)),this.lastProcessedEventTime=Date.now()}}function Li(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function qp({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function ku(y){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,h.Z)(function*(y,f={}){return Wt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Nh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,td=/^https?/;function Ws(){return(Ws=(0,h.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield ku(y);for(const m of f)try{if(Pu(m))return}catch(b){}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function Pu(y){const f=Tt(),{protocol:m,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&q.hostname===b}if(!td.test(m))return!1;if(Nh.test(y))return b===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const Kp=new fn(3e4,6e4);function Zp(){const y=Jt().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Al=null;function x_(y){return Al=Al||function Fh(y){return new Promise((f,m)=>{var b,T,k;function q(){Zp(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Zp(),m(be(y,"network-request-failed"))},timeout:Kp.get()})}if(null===(T=null===(b=Jt().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)f(gapi.iframes.getContext());else{if(!(null===(k=Jt().gapi)||void 0===k?void 0:k.load)){const oe=Da("iframefcb");return Jt()[oe]=()=>{gapi.load?q():m(be(y,"network-request-failed"))},wo(`https://apis.google.com/js/api.js?onload=${oe}`).catch(Be=>m(Be))}q()}}).catch(f=>{throw Al=null,f})}(y),Al}const Lh=new fn(5e3,15e3),Zo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ra(y){const f=y.config;ie(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?pn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:ue.SDK_VERSION},T=Oa.get(y.config.apiHost);T&&(b.eid=T);const k=y._getFrameworks();return k.length&&(b.fw=k.join(",")),`${m}?${(0,N.xO)(b).slice(1)}`}function Yp(){return Yp=(0,h.Z)(function*(y){const f=yield x_(y),m=Jt().gapi;return ie(m,y,"internal-error"),f.open({where:document.body,url:Ra(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zo,dontclear:!0},b=>new Promise(function(){var T=(0,h.Z)(function*(k,q){yield b.restyle({setHideOnLeave:!1});const oe=be(y,"network-request-failed"),Be=Jt().setTimeout(()=>{q(oe)},Lh.get());function Xe(){Jt().clearTimeout(Be),k(b)}b.ping(Xe).then(Xe,()=>{q(oe)})});return function(k,q){return T.apply(this,arguments)}}()))}),Yp.apply(this,arguments)}const ND={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Hh(y,f,m,b,T,k){ie(y.config.authDomain,y,"auth-domain-config-required"),ie(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ue.SDK_VERSION,eventId:T};if(f instanceof Ps){f.setDefaultLanguage(y.languageCode),q.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(q.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Be,Xe]of Object.entries(k||{}))q[Be]=Xe}if(f instanceof Kr){const Be=f.getScopes().filter(Xe=>""!==Xe);Be.length>0&&(q.scopes=Be.join(","))}y.tenantId&&(q.tid=y.tenantId);const oe=q;for(const Be of Object.keys(oe))void 0===oe[Be]&&delete oe[Be];return`${function p0({config:y}){return y.emulator?pn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(oe).slice(1)}`}const ms="webStorageSupport";class Gh extends class g0{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return K("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Gh(f)}_finalizeEnroll(f,m,b){return function Hc(y,f){return Wt(y,"POST","/v2/accounts/mfaEnrollment:finalize",rn(y,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Ca(y,f){return Wt(y,"POST","/v2/accounts/mfaSignIn:finalize",rn(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let P_=(()=>{class y{constructor(){}static assertion(m){return Gh._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var N_="@firebase/auth",Jp="0.19.12";class eg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{var T;f((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ka(){return window}function Sl(){return(Sl=(0,h.Z)(function*(y,f,m){var b;const{BuildInfo:T}=ka();se(f.sessionId,"AuthEvent did not contain a session ID");const k=yield m0(f.sessionId),q={};return nr()?q.ibi=T.packageName:On()?q.apn=T.packageName:Ae(y,"operation-not-supported-in-this-environment"),T.displayName&&(q.appDisplayName=T.displayName),q.sessionId=k,Hh(y,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,q)})).apply(this,arguments)}function Ki(){return(Ki=(0,h.Z)(function*(y){const{BuildInfo:f}=ka(),m={};nr()?m.iosBundleId=f.packageName:On()?m.androidPackageName=f.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield ku(y,m)})).apply(this,arguments)}function xl(){return(xl=(0,h.Z)(function*(y,f,m){const{cordova:b}=ka();let T=()=>{};try{yield new Promise((k,q)=>{let oe=null;function Be(){var ut;k();const Pn=null===(ut=b.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof Pn&&Pn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Xe(){oe||(oe=window.setTimeout(()=>{q(be(y,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===(null==document?void 0:document.visibilityState)&&Xe()}f.addPassiveListener(Be),document.addEventListener("resume",Xe,!1),On()&&document.addEventListener("visibilitychange",vt,!1),T=()=>{f.removePassiveListener(Be),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",vt,!1),oe&&window.clearTimeout(oe)}})}finally{T()}})).apply(this,arguments)}function m0(y){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,h.Z)(function*(y){const f=_0(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function _0(y){if(se(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}!function F_(y){(0,ue._registerComponent)(new ne.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:k,authDomain:q}=b.options;return((oe,Be)=>{ie(k&&!k.includes(":"),"invalid-api-key",{appName:oe.name}),ie(!(null==q?void 0:q.includes(":")),"argument-error",{appName:oe.name});const Xe={apiKey:k,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pa(y)},vt=new fi(oe,Be,Xe);return function ce(y,f){const m=(null==f?void 0:f.persistence)||[],b=(Array.isArray(m)?m:[m]).map(ae);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(vt,m),vt})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new ne.wA("auth-internal",f=>{const m=Pe(f.getProvider("auth").getImmediate());return new eg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(N_,Jp,function zh(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ue.registerVersion)(N_,Jp,"esm2017")}("Browser");class Lu extends ti{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function V_(y){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,h.Z)(function*(y){const f=yield rd()._get(Zh(y));return f&&(yield rd()._remove(Zh(y))),f})).apply(this,arguments)}function B_(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function rd(){return ae(vn)}function Zh(y){return he("authEvent",y.config.apiKey,y.name)}function sd(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...m]=y.split("?");return(0,N.zd)(m.join("?"))}function Qh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function ad(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function j_(y=(0,N.z$)()){return!("file:"!==ad()&&"ionic:"!==ad()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ni(){try{const y=self.localStorage,f=mo();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Uu(y=(0,N.z$)()){return function FD(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function v0(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch(y){return ld()&&(0,N.hl)()}return!1}function ld(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xh(){return(function cg(){return"http:"===ad()||"https:"===ad()}()||(0,N.ru)()||j_())&&!function y0(){return(0,N.b$)()||(0,N.UG)()}()&&ni()&&!ld()}function dg(){return j_()&&"undefined"!=typeof document}function gn(){return(gn=(0,h.Z)(function*(){return!!dg()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Dr={LOCAL:"local",NONE:"none",SESSION:"session"},ju=ie,Jh="persistence";function Hu(y){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,h.Z)(function*(y){yield y._initializationPromise;const f=hg(),m=he(Jh,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function hg(){var y;try{return(null===(y=function wi(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const ud=ie;class Vi{constructor(){this.browserResolver=ae(class Fu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cs,this._completeRedirectFn=xn}_openPopup(f,m,b,T){var k=this;return(0,h.Z)(function*(){var q;se(null===(q=k.eventManagers[f._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const oe=Hh(f,m,b,Tt(),T);return function Nu(y,f,m,b=500,T=600){const k=Math.max((window.screen.availHeight-T)/2,0).toString(),q=Math.max((window.screen.availWidth-b)/2,0).toString();let oe="";const Be=Object.assign(Object.assign({},ND),{width:b.toString(),height:T.toString(),top:k,left:q}),Xe=(0,N.z$)().toLowerCase();m&&(oe=yr(Xe)?"_blank":m),yt(Xe)&&(f=f||"http://localhost",Be.scrollbars="yes");const vt=Object.entries(Be).reduce((Pn,[Yi,qu])=>`${Pn}${Yi}=${qu},`,"");if(function Xa(y=(0,N.z$)()){var f;return nr(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Xe)&&"_self"!==oe)return function jh(y,f){const m=document.createElement("a");m.href=y,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",oe),new nd(null);const ut=window.open(f||"",oe,vt);ie(ut,y,"popup-blocked");try{ut.focus()}catch(Pn){}return new nd(ut)}(f,oe,mo())})()}_openRedirect(f,m,b,T){var k=this;return(0,h.Z)(function*(){return yield k._originValidation(f),function Go(y){Jt().location.href=y}(Hh(f,m,b,Tt(),T)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:T,promise:k}=this.eventManagers[m];return T?Promise.resolve(T):(se(k,"If manager is not set, promise should be"),k)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,h.Z)(function*(){const b=yield function f0(y){return Yp.apply(this,arguments)}(f),T=new ti(f);return b.register("authEvent",k=>(ie(null==k?void 0:k.authEvent,f,"invalid-auth-event"),{status:T.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:T},m.iframes[f._key()]=b,T})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(ms,{type:ms},T=>{var k;const q=null===(k=null==T?void 0:T[0])||void 0===k?void 0:k[ms];void 0!==q&&m(!!q),Ae(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Wp(y){return Ws.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return ns()||Xt()||nr()}}),this.cordovaResolver=ae(class ag{constructor(){this._redirectPersistence=cs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xn}_initialize(f){var m=this;return(0,h.Z)(function*(){const b=f._key();let T=m.eventManagers.get(b);return T||(T=new Lu(f),m.eventManagers.set(b,T),m.attachCallbackListeners(f,T)),T})()}_openPopup(f){Ae(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,T){var k=this;return(0,h.Z)(function*(){!function sg(y){var f,m,b,T,k,q,oe,Be,Xe,vt;const ut=ka();ie("function"==typeof(null===(f=null==ut?void 0:ut.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(void 0!==(null===(m=null==ut?void 0:ut.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(k=null===(T=null===(b=null==ut?void 0:ut.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Be=null===(oe=null===(q=null==ut?void 0:ut.cordova)||void 0===q?void 0:q.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===Be?void 0:Be.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(vt=null===(Xe=null==ut?void 0:ut.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===vt?void 0:vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const q=yield k._initialize(f);yield q.initialized(),q.resetRedirect(),function Ru(){Cr.clear()}(),yield k._originValidation(f);const oe=function Kh(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:B_(),postBody:null,tenantId:y.tenantId,error:be(y,"no-auth-event")}}(f,b,T);yield function L_(y,f){return rd()._set(Zh(y),f)}(f,oe);const Be=yield function rg(y,f,m){return Sl.apply(this,arguments)}(f,oe,m),Xe=yield function Ml(y){const{cordova:f}=ka();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let T=null;b?f.plugins.browsertab.openUrl(y):T=f.InAppBrowser.open(y,function so(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(T)})})}(Be);return function ig(y,f,m){return xl.apply(this,arguments)}(f,q,Xe)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function qh(y){return Ki.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:T,BuildInfo:k}=ka(),q=setTimeout((0,h.Z)(function*(){yield V_(f),m.onEvent(Qh())}),500),oe=function(){var vt=(0,h.Z)(function*(ut){clearTimeout(q);const Pn=yield V_(f);let Yi=null;Pn&&(null==ut?void 0:ut.url)&&(Yi=function Pa(y,f){var m,b;const T=function id(y){const f=sd(y),m=f.link?decodeURIComponent(f.link):void 0,b=sd(m).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return sd(T).link||T||b||m||y}(f);if(T.includes("/__/auth/callback")){const k=sd(T),q=k.firebaseError?function Yh(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(k.firebaseError)):null,oe=null===(b=null===(m=null==q?void 0:q.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Be=oe?be(oe):null;return Be?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(Pn,ut.url)),m.onEvent(Yi||Qh())});return function(Pn){return vt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,oe);const Be=T,Xe=`${k.packageName.toLowerCase()}://`;ka().handleOpenURL=function(){var vt=(0,h.Z)(function*(ut){if(ut.toLowerCase().startsWith(Xe)&&oe({url:ut}),"function"==typeof Be)try{Be(ut)}catch(Pn){console.error(Pn)}});return function(ut){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=cs,this._completeRedirectFn=xn}_initialize(f){var m=this;return(0,h.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,T){var k=this;return(0,h.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(f,m,b,T)})()}_openRedirect(f,m,b,T){var k=this;return(0,h.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(f,m,b,T)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return dg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ud(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const m=yield function tt(){return gn.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function fg(y){return y.unwrap()}function Gu(y){return Rl(y)}function Rl(y){const{_tokenResponse:f}=y instanceof N.ZR?y.customData:y;if(!f)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Jr.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=ma;break;case"facebook.com":b=lo;break;case"github.com":b=Pc;break;case"twitter.com":b=il;break;default:const{oauthIdToken:T,oauthAccessToken:k,oauthTokenSecret:q,pendingToken:oe,nonce:Be}=f;return k||q||T||oe?oe?m.startsWith("saml.")?Vo._create(m,oe):ss._fromParams({providerId:m,signInMethod:m,pendingToken:oe,idToken:T,accessToken:k}):new Lo(m).credential({idToken:T,accessToken:k,rawNonce:Be}):null}return y instanceof N.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function an(y,f){return f.catch(m=>{throw m instanceof N.ZR&&function Ol(y,f){var m;const b=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new ri(y,function yl(y,f){var m;const b=(0,N.m9)(y),T=f;return ie(f.customData.operationType,b,"argument-error"),ie(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Ea._fromError(b,T)}(y,f));else if(b){const T=Rl(f),k=f;T&&(k.credential=T,k.tenantId=b.tenantId||void 0,k.email=b.email||void 0,k.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const T=m.user;return{operationType:m.operationType,credential:Gu(m),additionalUserInfo:wr(m),user:Vr.getOrCreate(T)}})}function cd(y,f){return tf.apply(this,arguments)}function tf(){return(tf=(0,h.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>an(y,m.confirm(b))}})).apply(this,arguments)}class ri{constructor(f,m){this.resolver=m,this.auth=function ef(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return an(fg(this.auth),this.resolver.resolveSignIn(f))}}class Vr{constructor(f){this._delegate=f,this.multiFactor=function $c(y){const f=(0,N.m9)(y);return $o.has(f)||$o.set(f,us._fromUser(f)),$o.get(f)}(f)}static getOrCreate(f){return Vr.USER_MAP.has(f)||Vr.USER_MAP.set(f,new Vr(f)),Vr.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,h.Z)(function*(){return an(m.auth,ki(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,h.Z)(function*(){return cd(b.auth,function Cl(y,f,m){return Xr.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,h.Z)(function*(){return an(m.auth,function Ph(y,f,m){return xu.apply(this,arguments)}(m._delegate,f,Vi))})()}linkWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Hu(Pe(m.auth)),function rt(y,f,m){return function Et(y,f,m){return zt.apply(this,arguments)}(y,f,m)}(m._delegate,f,Vi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,h.Z)(function*(){return an(m.auth,Ls(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return cd(this.auth,function Pr(y,f,m){return Dl.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return an(this.auth,function Do(y,f,m){return Sa.apply(this,arguments)}(this._delegate,f,Vi))}reauthenticateWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Hu(Pe(m.auth)),function re(y,f,m){return function Oe(y,f,m){return Ze.apply(this,arguments)}(y,f,m)}(m._delegate,f,Vi)})()}sendEmailVerification(f){return function Pi(y,f){return pu.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,h.Z)(function*(){return yield function _a(y,f){return au.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function _u(y,f){return yu((0,N.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Vc(y,f){return yu((0,N.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Il(y,f){return Wi.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ho(y,f){return mu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function ml(y,f,m){return _l.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vr.USER_MAP=new WeakMap;const Io=ie;let nf=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=m.options;Io(T,"invalid-api-key",{appName:m.name}),Io(T,"invalid-api-key",{appName:m.name});const k="undefined"!=typeof window?Vi:void 0;this._delegate=b.initialize({options:{persistence:ii(T,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function yn(y,f,m){const b=Pe(y);ie(b._canInitEmulator,b,"emulator-config-failed"),ie(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const T=!!(null==m?void 0:m.disableWarnings),k=cr(f),{host:q,port:oe}=function Ms(y){const f=cr(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const k=T[1];return{host:k,port:$n(b.substr(k.length+1))}}{const[k,q]=b.split(":");return{host:k,port:$n(q)}}}(f);b.config.emulator={url:`${k}//${q}${null===oe?"":`:${oe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:q,port:oe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function zi(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function uu(y,f){return De.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ut(this._delegate,m)}confirmPasswordReset(m,b){return function fl(y,f,m){return lu.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var T=this;return(0,h.Z)(function*(){return an(T._delegate,function jo(y,f,m){return Yr.apply(this,arguments)}(T._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function gl(y,f){return js.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function fu(y,f){const m=ao.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,h.Z)(function*(){Io(Xh(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function At(y,f){return Un.apply(this,arguments)}(m._delegate,Vi);return b?an(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function U_(y,f){Pe(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,T){const{next:k,error:q,complete:oe}=kl(m,b,T);return this._delegate.onAuthStateChanged(k,q,oe)}onIdTokenChanged(m,b,T){const{next:k,error:q,complete:oe}=kl(m,b,T);return this._delegate.onIdTokenChanged(k,q,oe)}sendSignInLinkToEmail(m,b){return function hu(y,f,m){return Lc.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function dl(y,f,m){return hl.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,h.Z)(function*(){let T;switch(function H_(y,f){ju(Object.values(Dr).includes(f),y,"invalid-persistence-type"),(0,N.b$)()?ju(f!==Dr.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?ju(f===Dr.NONE,y,"unsupported-persistence-type"):ld()?ju(f===Dr.NONE||f===Dr.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):ju(f===Dr.NONE||ni(),y,"unsupported-persistence-type")}(b._delegate,m),m){case Dr.SESSION:T=cs;break;case Dr.LOCAL:T=(yield ae(ds)._isAvailable())?ds:vn;break;case Dr.NONE:T=z;break;default:return Ae("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return an(this._delegate,function ol(y){return Nc.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return an(this._delegate,Vn(this._delegate,m))}signInWithCustomToken(m){return an(this._delegate,function Vs(y,f){return Bs.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return an(this._delegate,function du(y,f,m){return Vn((0,N.m9)(y),ou.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return an(this._delegate,function pl(y,f,m){return Us.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return cd(this._delegate,function xh(y,f,m){return Mn.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,h.Z)(function*(){return Io(Xh(),b._delegate,"operation-not-supported-in-this-environment"),an(b._delegate,function Aa(y,f,m){return kh.apply(this,arguments)}(b._delegate,m,Vi))})()}signInWithRedirect(m){var b=this;return(0,h.Z)(function*(){return Io(Xh(),b._delegate,"operation-not-supported-in-this-environment"),yield Hu(b._delegate),function R(y,f,m){return function L(y,f,m){return Y.apply(this,arguments)}(y,f,m)}(b._delegate,m,Vi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function An(y,f){return Uo.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Dr,y})();function kl(y,f,m){let b=y;"function"!=typeof y&&({next:b,error:f,complete:m}=y);const T=b;return{next:q=>T(q&&Vr.getOrCreate(q)),error:f,complete:m}}function ii(y,f){const m=function $u(y,f){const m=hg();if(!m)return[];const b=he(Jh,y,f);switch(m.getItem(b)){case Dr.NONE:return[z];case Dr.LOCAL:return[ds,cs];case Dr.SESSION:return[cs];default:return[]}}(y,f);if("undefined"!=typeof self&&!m.includes(ds)&&m.push(ds),"undefined"!=typeof window)for(const b of[vn,cs])m.includes(b)||m.push(b);return m.includes(z)||m.push(z),m}class Ks{constructor(){this.providerId="phone",this._delegate=new Jr(fg(X.Z.auth()))}static credential(f,m){return Jr.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Ks.PHONE_SIGN_IN_METHOD=Jr.PHONE_SIGN_IN_METHOD,Ks.PROVIDER_ID=Jr.PROVIDER_ID;const Ir=ie;class zu{constructor(f,m,b=X.Z.app()){var T;Ir(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Mh(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pg(y){y.INTERNAL.registerComponent(new ne.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new nf(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ou,FacebookAuthProvider:lo,GithubAuthProvider:Pc,GoogleAuthProvider:ma,OAuthProvider:Lo,SAMLAuthProvider:mi,PhoneAuthProvider:Ks,PhoneMultiFactorGenerator:P_,RecaptchaVerifier:zu,TwitterAuthProvider:il,Auth:nf,AuthCredential:cn,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.12")}(X.Z)},8306:(st,Ie,P)=>{P.d(Ie,{y:()=>H});var h=P(930),X=P(727),N=P(8822),ue=P(4671);var ne=P(2416),fe=P(576),de=P(2806);let H=(()=>{class Me{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const pe=new Me;return pe.source=this,pe.operator=Ve,pe}subscribe(Ve,pe,Ce){const et=function ze(Me){return Me&&Me instanceof h.Lv||function ee(Me){return Me&&(0,fe.m)(Me.next)&&(0,fe.m)(Me.error)&&(0,fe.m)(Me.complete)}(Me)&&(0,X.Nn)(Me)}(Ve)?Ve:new h.Hp(Ve,pe,Ce);return(0,de.x)(()=>{const{operator:We,source:Ae}=this;et.add(We?We.call(et,Ae):Ae?this._subscribe(et):this._trySubscribe(et))}),et}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(pe){Ve.error(pe)}}forEach(Ve,pe){return new(pe=$(pe))((Ce,et)=>{const We=new h.Hp({next:Ae=>{try{Ve(Ae)}catch(be){et(be),We.unsubscribe()}},error:et,complete:Ce});this.subscribe(We)})}_subscribe(Ve){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Ve)}[N.L](){return this}pipe(...Ve){return function _e(Me){return 0===Me.length?ue.y:1===Me.length?Me[0]:function(Ve){return Me.reduce((pe,Ce)=>Ce(pe),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=$(Ve))((pe,Ce)=>{let et;this.subscribe(We=>et=We,We=>Ce(We),()=>pe(et))})}}return Me.create=ke=>new Me(ke),Me})();function $(Me){var ke;return null!==(ke=null!=Me?Me:ne.v.Promise)&&void 0!==ke?ke:Promise}},7579:(st,Ie,P)=>{P.d(Ie,{x:()=>ne});var h=P(8306),X=P(727);const ue=(0,P(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=P(8737),_e=P(2806);let ne=(()=>{class de extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const ee=new fe(this,this);return ee.operator=$,ee}_throwIfClosed(){if(this.closed)throw new ue}next($){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next($)}})}error($){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:ee}=this;for(;ee.length;)ee.shift().error($)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:ee,isStopped:ze,observers:Me}=this;return ee||ze?X.Lc:(this.currentObservers=null,Me.push($),new X.w0(()=>{this.currentObservers=null,(0,te.P)(Me,$)}))}_checkFinalizedStatuses($){const{hasError:ee,thrownError:ze,isStopped:Me}=this;ee?$.error(ze):Me&&$.complete()}asObservable(){const $=new h.y;return $.source=this,$}}return de.create=(H,$)=>new fe(H,$),de})();class fe extends ne{constructor(H,$){super(),this.destination=H,this.source=$}next(H){var $,ee;null===(ee=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===ee||ee.call($,H)}error(H){var $,ee;null===(ee=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===ee||ee.call($,H)}complete(){var H,$;null===($=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===$||$.call(H)}_subscribe(H){var $,ee;return null!==(ee=null===($=this.source)||void 0===$?void 0:$.subscribe(H))&&void 0!==ee?ee:X.Lc}}},930:(st,Ie,P)=>{P.d(Ie,{Hp:()=>Ve,Lv:()=>ee});var h=P(576),X=P(727),N=P(2416),ue=P(7849),te=P(5032);const _e=de("C",void 0,void 0);function de(Ae,be,we){return{kind:Ae,value:be,error:we}}var H=P(3410),$=P(2806);class ee extends X.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,X.Nn)(be)&&be.add(this)):this.destination=We}static create(be,we,Ge){return new Ve(be,we,Ge)}next(be){this.isStopped?et(function fe(Ae){return de("N",Ae,void 0)}(be),this):this._next(be)}error(be){this.isStopped?et(function ne(Ae){return de("E",void 0,Ae)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?et(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Me(Ae,be){return ze.call(Ae,be)}class ke{constructor(be){this.partialObserver=be}next(be){const{partialObserver:we}=this;if(we.next)try{we.next(be)}catch(Ge){pe(Ge)}}error(be){const{partialObserver:we}=this;if(we.error)try{we.error(be)}catch(Ge){pe(Ge)}else pe(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(we){pe(we)}}}class Ve extends ee{constructor(be,we,Ge){let je;if(super(),(0,h.m)(be)||!be)je={next:null!=be?be:void 0,error:null!=we?we:void 0,complete:null!=Ge?Ge:void 0};else{let ie;this&&N.v.useDeprecatedNextContext?(ie=Object.create(be),ie.unsubscribe=()=>this.unsubscribe(),je={next:be.next&&Me(be.next,ie),error:be.error&&Me(be.error,ie),complete:be.complete&&Me(be.complete,ie)}):je=be}this.destination=new ke(je)}}function pe(Ae){N.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ae):(0,ue.h)(Ae)}function et(Ae,be){const{onStoppedNotification:we}=N.v;we&&H.z.setTimeout(()=>we(Ae,be))}const We={closed:!0,next:te.Z,error:function Ce(Ae){throw Ae},complete:te.Z}},727:(st,Ie,P)=>{P.d(Ie,{Lc:()=>_e,w0:()=>te,Nn:()=>ne});var h=P(576);const N=(0,P(3888).d)(de=>function($){de(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((ee,ze)=>`${ze+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ue=P(8737);class te{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Me of $)Me.remove(this);else $.remove(this);const{initialTeardown:ee}=this;if((0,h.m)(ee))try{ee()}catch(Me){H=Me instanceof N?Me.errors:[Me]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Me of ze)try{fe(Me)}catch(ke){H=null!=H?H:[],ke instanceof N?H=[...H,...ke.errors]:H.push(ke)}}if(H)throw new N(H)}}add(H){var $;if(H&&H!==this)if(this.closed)fe(H);else{if(H instanceof te){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(H)}}_hasParent(H){const{_parentage:$}=this;return $===H||Array.isArray($)&&$.includes(H)}_addParent(H){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(H),$):$?[$,H]:H}_removeParent(H){const{_parentage:$}=this;$===H?this._parentage=null:Array.isArray($)&&(0,ue.P)($,H)}remove(H){const{_finalizers:$}=this;$&&(0,ue.P)($,H),H instanceof te&&H._removeParent(this)}}te.EMPTY=(()=>{const de=new te;return de.closed=!0,de})();const _e=te.EMPTY;function ne(de){return de instanceof te||de&&"closed"in de&&(0,h.m)(de.remove)&&(0,h.m)(de.add)&&(0,h.m)(de.unsubscribe)}function fe(de){(0,h.m)(de)?de():de.unsubscribe()}},2416:(st,Ie,P)=>{P.d(Ie,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,Ie,P)=>{P.d(Ie,{E:()=>X});const X=new(P(8306).y)(te=>te.complete())},8996:(st,Ie,P)=>{P.d(Ie,{D:()=>be});var h=P(8421),X=P(5363),N=P(9468),_e=P(8306),fe=P(2202),de=P(576),H=P(9672);function ee(we,Ge){if(!we)throw new Error("Iterable cannot be null");return new _e.y(je=>{(0,H.f)(je,Ge,()=>{const ie=we[Symbol.asyncIterator]();(0,H.f)(je,Ge,()=>{ie.next().then(K=>{K.done?je.complete():je.next(K.value)})},0,!0)})})}var ze=P(3670),Me=P(8239),ke=P(1144),Ve=P(6495),pe=P(2206),Ce=P(4532),et=P(3260);function be(we,Ge){return Ge?function Ae(we,Ge){if(null!=we){if((0,ze.c)(we))return function ue(we,Ge){return(0,h.Xf)(we).pipe((0,N.R)(Ge),(0,X.Q)(Ge))}(we,Ge);if((0,ke.z)(we))return function ne(we,Ge){return new _e.y(je=>{let ie=0;return Ge.schedule(function(){ie===we.length?je.complete():(je.next(we[ie++]),je.closed||this.schedule())})})}(we,Ge);if((0,Me.t)(we))return function te(we,Ge){return(0,h.Xf)(we).pipe((0,N.R)(Ge),(0,X.Q)(Ge))}(we,Ge);if((0,pe.D)(we))return ee(we,Ge);if((0,Ve.T)(we))return function $(we,Ge){return new _e.y(je=>{let ie;return(0,H.f)(je,Ge,()=>{ie=we[fe.h](),(0,H.f)(je,Ge,()=>{let K,se;try{({value:K,done:se}=ie.next())}catch(ye){return void je.error(ye)}se?je.complete():je.next(K)},0,!0)}),()=>(0,de.m)(null==ie?void 0:ie.return)&&ie.return()})}(we,Ge);if((0,et.L)(we))return function We(we,Ge){return ee((0,et.Q)(we),Ge)}(we,Ge)}throw(0,Ce.z)(we)}(we,Ge):(0,h.Xf)(we)}},8421:(st,Ie,P)=>{P.d(Ie,{Xf:()=>ze});var h=P(655),X=P(1144),N=P(8239),ue=P(8306),te=P(3670),_e=P(2206),ne=P(4532),fe=P(6495),de=P(3260),H=P(576),$=P(7849),ee=P(8822);function ze(Ae){if(Ae instanceof ue.y)return Ae;if(null!=Ae){if((0,te.c)(Ae))return function Me(Ae){return new ue.y(be=>{const we=Ae[ee.L]();if((0,H.m)(we.subscribe))return we.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,X.z)(Ae))return function ke(Ae){return new ue.y(be=>{for(let we=0;we<Ae.length&&!be.closed;we++)be.next(Ae[we]);be.complete()})}(Ae);if((0,N.t)(Ae))return function Ve(Ae){return new ue.y(be=>{Ae.then(we=>{be.closed||(be.next(we),be.complete())},we=>be.error(we)).then(null,$.h)})}(Ae);if((0,_e.D)(Ae))return Ce(Ae);if((0,fe.T)(Ae))return function pe(Ae){return new ue.y(be=>{for(const we of Ae)if(be.next(we),be.closed)return;be.complete()})}(Ae);if((0,de.L)(Ae))return function et(Ae){return Ce((0,de.Q)(Ae))}(Ae)}throw(0,ne.z)(Ae)}function Ce(Ae){return new ue.y(be=>{(function We(Ae,be){var we,Ge,je,ie;return(0,h.mG)(this,void 0,void 0,function*(){try{for(we=(0,h.KL)(Ae);!(Ge=yield we.next()).done;)if(be.next(Ge.value),be.closed)return}catch(K){je={error:K}}finally{try{Ge&&!Ge.done&&(ie=we.return)&&(yield ie.call(we))}finally{if(je)throw je.error}}be.complete()})})(Ae,be).catch(we=>be.error(we))})}},6451:(st,Ie,P)=>{P.d(Ie,{T:()=>_e});var h=P(8189),X=P(8421),N=P(515),ue=P(3269),te=P(8996);function _e(...ne){const fe=(0,ue.yG)(ne),de=(0,ue._6)(ne,1/0),H=ne;return H.length?1===H.length?(0,X.Xf)(H[0]):(0,h.J)(de)((0,te.D)(H,fe)):N.E}},5403:(st,Ie,P)=>{P.d(Ie,{x:()=>X});var h=P(930);function X(ue,te,_e,ne,fe){return new N(ue,te,_e,ne,fe)}class N extends h.Lv{constructor(te,_e,ne,fe,de,H){super(te),this.onFinalize=de,this.shouldUnsubscribe=H,this._next=_e?function($){try{_e($)}catch(ee){te.error(ee)}}:super._next,this._error=fe?function($){try{fe($)}catch(ee){te.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch($){te.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(te=this.onFinalize)||void 0===te||te.call(this))}}}},4004:(st,Ie,P)=>{P.d(Ie,{U:()=>N});var h=P(4482),X=P(5403);function N(ue,te){return(0,h.e)((_e,ne)=>{let fe=0;_e.subscribe((0,X.x)(ne,de=>{ne.next(ue.call(te,de,fe++))}))})}},8189:(st,Ie,P)=>{P.d(Ie,{J:()=>N});var h=P(5577),X=P(4671);function N(ue=1/0){return(0,h.z)(X.y,ue)}},5577:(st,Ie,P)=>{P.d(Ie,{z:()=>fe});var h=P(4004),X=P(8421),N=P(4482),ue=P(9672),te=P(5403),ne=P(576);function fe(de,H,$=1/0){return(0,ne.m)(H)?fe((ee,ze)=>(0,h.U)((Me,ke)=>H(ee,Me,ze,ke))((0,X.Xf)(de(ee,ze))),$):("number"==typeof H&&($=H),(0,N.e)((ee,ze)=>function _e(de,H,$,ee,ze,Me,ke,Ve){const pe=[];let Ce=0,et=0,We=!1;const Ae=()=>{We&&!pe.length&&!Ce&&H.complete()},be=Ge=>Ce<ee?we(Ge):pe.push(Ge),we=Ge=>{Me&&H.next(Ge),Ce++;let je=!1;(0,X.Xf)($(Ge,et++)).subscribe((0,te.x)(H,ie=>{null==ze||ze(ie),Me?be(ie):H.next(ie)},()=>{je=!0},void 0,()=>{if(je)try{for(Ce--;pe.length&&Ce<ee;){const ie=pe.shift();ke?(0,ue.f)(H,ke,()=>we(ie)):we(ie)}Ae()}catch(ie){H.error(ie)}}))};return de.subscribe((0,te.x)(H,be,()=>{We=!0,Ae()})),()=>{null==Ve||Ve()}}(ee,ze,de,$)))}},5363:(st,Ie,P)=>{P.d(Ie,{Q:()=>ue});var h=P(9672),X=P(4482),N=P(5403);function ue(te,_e=0){return(0,X.e)((ne,fe)=>{ne.subscribe((0,N.x)(fe,de=>(0,h.f)(fe,te,()=>fe.next(de),_e),()=>(0,h.f)(fe,te,()=>fe.complete(),_e),de=>(0,h.f)(fe,te,()=>fe.error(de),_e)))})}},3099:(st,Ie,P)=>{P.d(Ie,{B:()=>_e});var h=P(8996),X=P(5698),N=P(7579),ue=P(930),te=P(4482);function _e(fe={}){const{connector:de=(()=>new N.x),resetOnError:H=!0,resetOnComplete:$=!0,resetOnRefCountZero:ee=!0}=fe;return ze=>{let Me=null,ke=null,Ve=null,pe=0,Ce=!1,et=!1;const We=()=>{null==ke||ke.unsubscribe(),ke=null},Ae=()=>{We(),Me=Ve=null,Ce=et=!1},be=()=>{const we=Me;Ae(),null==we||we.unsubscribe()};return(0,te.e)((we,Ge)=>{pe++,!et&&!Ce&&We();const je=Ve=null!=Ve?Ve:de();Ge.add(()=>{pe--,0===pe&&!et&&!Ce&&(ke=ne(be,ee))}),je.subscribe(Ge),Me||(Me=new ue.Hp({next:ie=>je.next(ie),error:ie=>{et=!0,We(),ke=ne(Ae,H,ie),je.error(ie)},complete:()=>{Ce=!0,We(),ke=ne(Ae,$),je.complete()}}),(0,h.D)(we).subscribe(Me))})(ze)}}function ne(fe,de,...H){return!0===de?(fe(),null):!1===de?null:de(...H).pipe((0,X.q)(1)).subscribe(()=>fe())}},9468:(st,Ie,P)=>{P.d(Ie,{R:()=>X});var h=P(4482);function X(N,ue=0){return(0,h.e)((te,_e)=>{_e.add(N.schedule(()=>te.subscribe(_e),ue))})}},5698:(st,Ie,P)=>{P.d(Ie,{q:()=>ue});var h=P(515),X=P(4482),N=P(5403);function ue(te){return te<=0?()=>h.E:(0,X.e)((_e,ne)=>{let fe=0;_e.subscribe((0,N.x)(ne,de=>{++fe<=te&&(ne.next(de),te<=fe&&ne.complete())}))})}},8505:(st,Ie,P)=>{P.d(Ie,{b:()=>te});var h=P(576),X=P(4482),N=P(5403),ue=P(4671);function te(_e,ne,fe){const de=(0,h.m)(_e)||ne||fe?{next:_e,error:ne,complete:fe}:_e;return de?(0,X.e)((H,$)=>{var ee;null===(ee=de.subscribe)||void 0===ee||ee.call(de);let ze=!0;H.subscribe((0,N.x)($,Me=>{var ke;null===(ke=de.next)||void 0===ke||ke.call(de,Me),$.next(Me)},()=>{var Me;ze=!1,null===(Me=de.complete)||void 0===Me||Me.call(de),$.complete()},Me=>{var ke;ze=!1,null===(ke=de.error)||void 0===ke||ke.call(de,Me),$.error(Me)},()=>{var Me,ke;ze&&(null===(Me=de.unsubscribe)||void 0===Me||Me.call(de)),null===(ke=de.finalize)||void 0===ke||ke.call(de)}))}):ue.y}},4408:(st,Ie,P)=>{P.d(Ie,{o:()=>te});var h=P(727);class X extends h.w0{constructor(ne,fe){super()}schedule(ne,fe=0){return this}}const N={setInterval(_e,ne,...fe){const{delegate:de}=N;return(null==de?void 0:de.setInterval)?de.setInterval(_e,ne,...fe):setInterval(_e,ne,...fe)},clearInterval(_e){const{delegate:ne}=N;return((null==ne?void 0:ne.clearInterval)||clearInterval)(_e)},delegate:void 0};var ue=P(8737);class te extends X{constructor(ne,fe){super(ne,fe),this.scheduler=ne,this.work=fe,this.pending=!1}schedule(ne,fe=0){if(this.closed)return this;this.state=ne;const de=this.id,H=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(H,de,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(H,this.id,fe),this}requestAsyncId(ne,fe,de=0){return N.setInterval(ne.flush.bind(ne,this),de)}recycleAsyncId(ne,fe,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return fe;N.clearInterval(fe)}execute(ne,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ne,fe);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,fe){let H,de=!1;try{this.work(ne)}catch($){de=!0,H=$||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ne,scheduler:fe}=this,{actions:de}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(de,this),null!=ne&&(this.id=this.recycleAsyncId(fe,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,Ie,P)=>{P.d(Ie,{v:()=>N});var h=P(6063);class X{constructor(te,_e=X.now){this.schedulerActionCtor=te,this.now=_e}schedule(te,_e=0,ne){return new this.schedulerActionCtor(this,te).schedule(ne,_e)}}X.now=h.l.now;class N extends X{constructor(te,_e=X.now){super(te,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(te){const{actions:_e}=this;if(this._active)return void _e.push(te);let ne;this._active=!0;do{if(ne=te.execute(te.state,te.delay))break}while(te=_e.shift());if(this._active=!1,ne){for(;te=_e.shift();)te.unsubscribe();throw ne}}}},4986:(st,Ie,P)=>{P.d(Ie,{z:()=>N,P:()=>ue});var h=P(4408);const N=new(P(7565).v)(h.o),ue=N},6063:(st,Ie,P)=>{P.d(Ie,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(st,Ie,P)=>{P.d(Ie,{z:()=>h});const h={setTimeout(X,N,...ue){const{delegate:te}=h;return(null==te?void 0:te.setTimeout)?te.setTimeout(X,N,...ue):setTimeout(X,N,...ue)},clearTimeout(X){const{delegate:N}=h;return((null==N?void 0:N.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(st,Ie,P)=>{P.d(Ie,{h:()=>X});const X=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,Ie,P)=>{P.d(Ie,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(st,Ie,P)=>{P.d(Ie,{jO:()=>ue,yG:()=>te,_6:()=>_e});var h=P(576),X=P(3532);function N(ne){return ne[ne.length-1]}function ue(ne){return(0,h.m)(N(ne))?ne.pop():void 0}function te(ne){return(0,X.K)(N(ne))?ne.pop():void 0}function _e(ne,fe){return"number"==typeof N(ne)?ne.pop():fe}},8737:(st,Ie,P)=>{function h(X,N){if(X){const ue=X.indexOf(N);0<=ue&&X.splice(ue,1)}}P.d(Ie,{P:()=>h})},3888:(st,Ie,P)=>{function h(X){const ue=X(te=>{Error.call(te),te.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}P.d(Ie,{d:()=>h})},2806:(st,Ie,P)=>{P.d(Ie,{x:()=>N,O:()=>ue});var h=P(2416);let X=null;function N(te){if(h.v.useDeprecatedSynchronousErrorHandling){const _e=!X;if(_e&&(X={errorThrown:!1,error:null}),te(),_e){const{errorThrown:ne,error:fe}=X;if(X=null,ne)throw fe}}else te()}function ue(te){h.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=te)}},9672:(st,Ie,P)=>{function h(X,N,ue,te=0,_e=!1){const ne=N.schedule(function(){ue(),_e?X.add(this.schedule(null,te)):this.unsubscribe()},te);if(X.add(ne),!_e)return ne}P.d(Ie,{f:()=>h})},4671:(st,Ie,P)=>{function h(X){return X}P.d(Ie,{y:()=>h})},1144:(st,Ie,P)=>{P.d(Ie,{z:()=>h});const h=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(st,Ie,P)=>{P.d(Ie,{D:()=>X});var h=P(576);function X(N){return Symbol.asyncIterator&&(0,h.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(st,Ie,P)=>{function h(X){return"function"==typeof X}P.d(Ie,{m:()=>h})},3670:(st,Ie,P)=>{P.d(Ie,{c:()=>N});var h=P(8822),X=P(576);function N(ue){return(0,X.m)(ue[h.L])}},6495:(st,Ie,P)=>{P.d(Ie,{T:()=>N});var h=P(2202),X=P(576);function N(ue){return(0,X.m)(null==ue?void 0:ue[h.h])}},8239:(st,Ie,P)=>{P.d(Ie,{t:()=>X});var h=P(576);function X(N){return(0,h.m)(null==N?void 0:N.then)}},3260:(st,Ie,P)=>{P.d(Ie,{Q:()=>N,L:()=>ue});var h=P(655),X=P(576);function N(te){return(0,h.FC)(this,arguments,function*(){const ne=te.getReader();try{for(;;){const{value:fe,done:de}=yield(0,h.qq)(ne.read());if(de)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(fe)}}finally{ne.releaseLock()}})}function ue(te){return(0,X.m)(null==te?void 0:te.getReader)}},3532:(st,Ie,P)=>{P.d(Ie,{K:()=>X});var h=P(576);function X(N){return N&&(0,h.m)(N.schedule)}},4482:(st,Ie,P)=>{P.d(Ie,{A:()=>X,e:()=>N});var h=P(576);function X(ue){return(0,h.m)(null==ue?void 0:ue.lift)}function N(ue){return te=>{if(X(te))return te.lift(function(_e){try{return ue(_e,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(st,Ie,P)=>{function h(){}P.d(Ie,{Z:()=>h})},7849:(st,Ie,P)=>{P.d(Ie,{h:()=>N});var h=P(2416),X=P(3410);function N(ue){X.z.setTimeout(()=>{const{onUnhandledError:te}=h.v;if(!te)throw ue;te(ue)})}},4532:(st,Ie,P)=>{function h(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ie,{z:()=>h})},655:(st,Ie,P)=>{function ue(K,se){var ye={};for(var ae in K)Object.prototype.hasOwnProperty.call(K,ae)&&se.indexOf(ae)<0&&(ye[ae]=K[ae]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(ae=Object.getOwnPropertySymbols(K);Re<ae.length;Re++)se.indexOf(ae[Re])<0&&Object.prototype.propertyIsEnumerable.call(K,ae[Re])&&(ye[ae[Re]]=K[ae[Re]])}return ye}function fe(K,se,ye,ae){return new(ye||(ye=Promise))(function(ce,Tt){function nn(_t){try{at(ae.next(_t))}catch(fn){Tt(fn)}}function Fn(_t){try{at(ae.throw(_t))}catch(fn){Tt(fn)}}function at(_t){_t.done?ce(_t.value):function Re(ce){return ce instanceof ye?ce:new ye(function(Tt){Tt(ce)})}(_t.value).then(nn,Fn)}at((ae=ae.apply(K,se||[])).next())})}function pe(K){return this instanceof pe?(this.v=K,this):new pe(K)}function Ce(K,se,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ae=ye.apply(K,se||[]),ce=[];return Re={},Tt("next"),Tt("throw"),Tt("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function Tt(pn){ae[pn]&&(Re[pn]=function(Oi){return new Promise(function(un,Ji){ce.push([pn,Oi,un,Ji])>1||nn(pn,Oi)})})}function nn(pn,Oi){try{!function Fn(pn){pn.value instanceof pe?Promise.resolve(pn.value.v).then(at,_t):fn(ce[0][2],pn)}(ae[pn](Oi))}catch(un){fn(ce[0][3],un)}}function at(pn){nn("next",pn)}function _t(pn){nn("throw",pn)}function fn(pn,Oi){pn(Oi),ce.shift(),ce.length&&nn(ce[0][0],ce[0][1])}}function We(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,se=K[Symbol.asyncIterator];return se?se.call(K):(K=function ee(K){var se="function"==typeof Symbol&&Symbol.iterator,ye=se&&K[se],ae=0;if(ye)return ye.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&ae>=K.length&&(K=void 0),{value:K&&K[ae++],done:!K}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),ye={},ae("next"),ae("throw"),ae("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function ae(ce){ye[ce]=K[ce]&&function(Tt){return new Promise(function(nn,Fn){!function Re(ce,Tt,nn,Fn){Promise.resolve(Fn).then(function(at){ce({value:at,done:nn})},Tt)}(nn,Fn,(Tt=K[ce](Tt)).done,Tt.value)})}}}P.d(Ie,{_T:()=>ue,mG:()=>fe,qq:()=>pe,FC:()=>Ce,KL:()=>We})},5e3:(st,Ie,P)=>{P.d(Ie,{deG:()=>Kc,tb:()=>hC,AFp:()=>cC,ip1:()=>uC,CZH:()=>Km,hGG:()=>XT,z2F:()=>Jm,sBO:()=>sn,Sil:()=>gb,_Vd:()=>qf,EJc:()=>eh,SBq:()=>Kf,qLn:()=>an,vpe:()=>In,tBr:()=>Fr,XFs:()=>ct,OlP:()=>kn,zs3:()=>So,ZZ4:()=>lp,aQg:()=>to,soG:()=>Zm,YKP:()=>zv,h0i:()=>Gd,PXZ:()=>bC,R0b:()=>ws,FiY:()=>Lr,Lbi:()=>mc,g9A:()=>qa,Qsj:()=>IT,FYo:()=>Aw,JOm:()=>oe,tp0:()=>Li,Rgc:()=>Je,dDg:()=>_C,q4F:()=>$v,GfV:()=>Hv,s_b:()=>xe,ifc:()=>Kt,eFA:()=>EC,G48:()=>ap,Gpc:()=>$,f3M:()=>zt,X6Q:()=>CC,_c5:()=>NC,VLi:()=>nh,c2e:()=>db,zSh:()=>yy,wAp:()=>bt,vHH:()=>ke,cg1:()=>Tr,kL8:()=>vm,dqk:()=>Gt,sIi:()=>Ui,CqO:()=>BI,QGY:()=>Tf,F4k:()=>sm,RDi:()=>os,AaK:()=>fe,qOj:()=>wE,TTD:()=>lo,_Bn:()=>Iw,xp6:()=>ey,uIk:()=>Ay,ekj:()=>Qy,Suo:()=>tn,Xpm:()=>Bt,lG2:()=>Xt,Yz7:()=>un,cJS:()=>rn,oAB:()=>J,Yjl:()=>yr,Y36:()=>Md,_UZ:()=>BE,qZA:()=>jy,TgZ:()=>rm,EpF:()=>$y,n5z:()=>Su,Ikx:()=>Pf,LFG:()=>rt,$8M:()=>Da,$Z:()=>Uy,NdJ:()=>Af,CRH:()=>Jw,oxw:()=>HI,ALo:()=>Hw,lcZ:()=>$w,Q6J:()=>tm,DdM:()=>Wl,iGM:()=>eb,CHM:()=>cu,LSH:()=>od,WFA:()=>HE,d8E:()=>ym,YNc:()=>xE,_uU:()=>nv,Oqu:()=>um,Gf:()=>Kd});var h=P(7579),X=P(727),N=P(8306),ue=P(6451),te=P(3099);function _e(s){for(let o in s)if(s[o]===_e)return o;throw Error("Could not find renamed property on target object.")}function ne(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=_e({__forward_ref__:_e});function $(s){return s.__forward_ref__=$,s.toString=function(){return fe(this())},s}function ee(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===$}class ke extends Error{constructor(o,a){super(function Ve(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function pe(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():pe(s)}function be(s,o){const a=o?` in ${o}`:"";throw new ke(-201,`No provider for ${Ce(s)} found${a}`)}function at(s,o){null==s&&function _t(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function un(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function rn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Wt(s){return ar(s,$i)||ar(s,es)}function ar(s,o){return s.hasOwnProperty(o)?s[o]:null}function Or(s){return s&&(s.hasOwnProperty(Rr)||s.hasOwnProperty(ts))?s[Rr]:null}const $i=_e({\u0275prov:_e}),Rr=_e({\u0275inj:_e}),es=_e({ngInjectableDef:_e}),ts=_e({ngInjectorDef:_e});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let qr;function Wn(s){const o=qr;return qr=s,o}function hi(s,o,a){const u=Wt(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&ct.Optional?null:void 0!==o?o:void be(fe(s),"Injector")}function Tn(s){return{toString:s}.toString()}var tr=(()=>((tr=tr||{})[tr.OnPush=0]="OnPush",tr[tr.Default=1]="Default",tr))(),Kt=(()=>{return(s=Kt||(Kt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Kt;var s})();const it="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,lr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=it||"undefined"!=typeof global&&global||wt||lr,ur={},dt=[],_r=_e({\u0275cmp:_e}),jt=_e({\u0275dir:_e}),Ke=_e({\u0275pipe:_e}),Se=_e({\u0275mod:_e}),Qe=_e({\u0275fac:_e}),ht=_e({__NG_ELEMENT_ID__:_e});let Ht=0;function Bt(s){return Tn(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===tr.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||dt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Kt.Emulated,id:"c",styles:s.styles||dt,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,g=s.features,v=s.pipes;return u.id+=Ht++,u.inputs=yt(s.inputs,a),u.outputs=yt(s.outputs),g&&g.forEach(E=>E(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(B):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map(z):null,u})}function B(s){return Zt(s)||function On(s){return s[jt]||null}(s)}function z(s){return function Pt(s){return s[Ke]||null}(s)}const he={};function J(s){return Tn(()=>{const o={type:s.type,bootstrap:s.bootstrap||dt,declarations:s.declarations||dt,imports:s.imports||dt,exports:s.exports||dt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(he[s.id]=s.type),o})}function yt(s,o){if(null==s)return ur;const a={};for(const u in s)if(s.hasOwnProperty(u)){let d=s[u],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=u,o&&(o[d]=g)}return a}const Xt=Bt;function yr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Zt(s){return s[_r]||null}function _n(s,o){const a=s[Se]||null;if(!a&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return a}function Ri(s){return Array.isArray(s)&&"object"==typeof s[1]}function gi(s){return Array.isArray(s)&&!0===s[1]}function Mc(s){return 0!=(8&s.flags)}function Rs(s){return 2==(2&s.flags)}function tl(s){return 1==(1&s.flags)}function Wr(s){return null!==s.template}function wh(s){return 0!=(512&s[2])}function Kr(s,o){return s.hasOwnProperty(Qe)?s[Qe]:null}class Lo{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function lo(){return ma}function ma(s){return s.type.prototype.ngOnChanges&&(s.setInput=jp),Pc}function Pc(){const s=Ns(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===ur)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function jp(s,o,a,u){const d=Ns(s)||function mi(s,o){return s[Vo]=o}(s,{previous:ur,current:null}),g=d.current||(d.current={}),v=d.previous,E=this.declaredInputs[a],C=v[E];g[E]=new Lo(C&&C.currentValue,o,v===ur),s[u]=o}lo.ngInherit=!0;const Vo="__ngSimpleChanges__";function Ns(s){return s[Vo]||null}let ll;function os(s){ll=s}function Dn(s){return!!s.listen}const Bo={createRenderer:(s,o)=>function _a(){return void 0!==ll?ll:"undefined"!=typeof document?document:void 0}()};function hn(s){for(;Array.isArray(s);)s=s[0];return s}function co(s,o){return hn(o[s])}function br(s,o){return hn(o[s.index])}function ya(s,o){return s.data[o]}function Er(s,o){const a=o[s];return Ri(a)?a:a[0]}function Ls(s){return 4==(4&s[2])}function as(s){return 128==(128&s[2])}function Zr(s,o){return null==o?null:s[o]}function Vs(s){s[18]=0}function Bs(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const ft={lFrame:fo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function fl(){return ft.bindingsEnabled}function De(){return ft.lFrame.lView}function Ut(){return ft.lFrame.tView}function cu(s){return ft.lFrame.contextLView=s,s[8]}function An(){let s=Uo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Uo(){return ft.lFrame.currentTNode}function Yr(s,o){const a=ft.lFrame;a.currentTNode=s,a.isParent=o}function du(){return ft.lFrame.isParent}function pl(){return ft.isInCheckNoChangesMode}function Us(s){ft.isInCheckNoChangesMode=s}function hr(){const s=ft.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function js(){return ft.lFrame.bindingIndex++}function _l(s,o){const a=ft.lFrame;a.bindingIndex=a.bindingRootIndex=s,ba(o)}function ba(s){ft.lFrame.currentDirectiveIndex=s}function Ho(s){const o=ft.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function mu(){return ft.lFrame.currentQueryIndex}function _u(s){ft.lFrame.currentQueryIndex=s}function Vc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function yu(s,o,a){if(a&ct.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||a&ct.Host||(d=Vc(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const u=ft.lFrame=Bc();return u.currentTNode=o,u.lView=s,!0}function ho(s){const o=Bc(),a=s[1];ft.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Bc(){const s=ft.lFrame,o=null===s?null:s.child;return null===o?fo(s):o}function fo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Uc(){const s=ft.lFrame;return ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const jc=Uc;function po(){const s=Uc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function wr(){return ft.lFrame.selectedIndex}function $s(s){ft.lFrame.selectedIndex=s}function Rn(){const s=ft.lFrame;return ya(s.tView,s.selectedIndex)}function ls(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:O}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),M&&((s.viewHooks||(s.viewHooks=[])).push(a,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,M)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(a,O)}}function Ea(s,o,a){Hc(s,o,3,a)}function yl(s,o,a,u){(3&s[2])===a&&Hc(s,o,a,u)}function zn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Hc(s,o,a,u){const g=null!=u?u:-1,v=o.length-1;let E=0;for(let C=void 0!==u?65535&s[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=u&&E>=u)break}else o[C]<0&&(s[18]+=65536),(E<g||-1==g)&&(Hp(s,a,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Hp(s,o,a,u){const d=a[u]<0,g=a[u+1],E=s[d?-a[u]:a[u]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class $o{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Cu(s,o,a){const u=Dn(s);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const v=a[d++],E=a[d++],C=a[d++];u?s.setAttribute(o,E,C,v):o.setAttributeNS(v,E,C)}else{const v=g,E=a[++d];Du(v)?u&&s.setProperty(o,v,E):u?s.setAttribute(o,v,E):o.setAttribute(v,E),d++}}return d}function cs(s){return 3===s||4===s||6===s}function Du(s){return 64===s.charCodeAt(0)}function wa(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const d=o[u];"number"==typeof d?a=d:0===a||mo(s,a,d,null,-1===a||2===a?o[++u]:null)}}return s}function mo(s,o,a,u,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==d&&(s[g+1]=d));if(u===s[g+1])return void(s[g+2]=d)}g++,null!==u&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,a),null!==u&&s.splice(g++,0,u),null!==d&&s.splice(g++,0,d)}function zc(s){return-1!==s}function Jt(s){return 32767&s}function bn(s,o){let a=function Go(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let Ot=!0;function Gs(s){const o=Ot;return Ot=s,o}let Ah=0;function yi(s,o){const a=zo(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Zn(u.data,s),Zn(o,null),Zn(u.blueprint,null));const d=Qr(s,o),g=s.injectorIndex;if(zc(d)){const v=Jt(d),E=bn(d,o),C=E[1].data;for(let M=0;M<8;M++)o[g+M]=E[v+M]|C[v+M]}return o[g+8]=d,g}function Zn(s,o){s.push(0,0,0,0,0,0,0,0,o)}function zo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Qr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,d=o;for(;null!==d;){const g=d[1],v=g.type;if(u=2===v?g.declTNode:1===v?d[6]:null,null===u)return-1;if(a++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function yo(s,o,a){!function _o(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ht)&&(u=a[ht]),null==u&&(u=a[ht]=Ah++);const d=255&u;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function vo(s,o,a){if(a&ct.Optional)return s;be(o,"NodeInjector")}function bo(s,o,a,u){if(a&ct.Optional&&void 0===u&&(u=null),0==(a&(ct.Self|ct.Host))){const d=s[9],g=Wn(void 0);try{return d?d.get(o,u,a&ct.Optional):hi(o,u,a&ct.Optional)}finally{Wn(g)}}return vo(u,o,a)}function vi(s,o,a,u=ct.Default,d){if(null!==s){const g=function qc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ht)?s[ht]:void 0;return"number"==typeof o?o>=0?255&o:Yn:o}(a);if("function"==typeof g){if(!yu(o,s,u))return u&ct.Host?vo(d,a,u):bo(o,a,u,d);try{const v=g(u);if(null!=v||u&ct.Optional)return v;be(a)}finally{jc()}}else if("number"==typeof g){let v=null,E=zo(s,o),C=-1,M=u&ct.Host?o[16][6]:null;for((-1===E||u&ct.SkipSelf)&&(C=-1===E?Qr(s,o):o[E+8],-1!==C&&Au(u,!1)?(v=o[1],E=Jt(C),o=bn(C,o)):E=-1);-1!==E;){const O=o[1];if(Ca(g,E,O.data)){const F=Eo(E,o,a,v,u,M);if(F!==zs)return F}C=o[E+8],-1!==C&&Au(u,o[1].data[E+8]===M)&&Ca(g,E,o)?(v=O,E=Jt(C),o=bn(C,o)):E=-1}}}return bo(o,a,u,d)}const zs={};function Yn(){return new Ni(An(),De())}function Eo(s,o,a,u,d,g){const v=o[1],E=v.data[s+8],O=Tu(E,v,a,null==u?Rs(E)&&Ot:u!=v&&0!=(3&E.type),d&ct.Host&&g===E);return null!==O?ds(o,v,O,E):zs}function Tu(s,o,a,u,d){const g=s.providerIndexes,v=o.data,E=1048575&g,C=s.directiveStart,O=g>>20,U=d?E+O:s.directiveEnd;for(let Q=u?E:E+O;Q<U;Q++){const ve=v[Q];if(Q<C&&a===ve||Q>=C&&ve.type===a)return Q}if(d){const Q=v[C];if(Q&&Wr(Q)&&Q.type===a)return C}return null}function ds(s,o,a,u){let d=s[a];const g=o.data;if(function $c(s){return s instanceof $o}(d)){const v=d;v.resolving&&function et(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ke(-200,`Circular dependency in DI detected for ${s}${a}`)}(Ce(g[a]));const E=Gs(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?Wn(v.injectImpl):null;yu(s,u,ct.Default);try{d=s[a]=v.factory(void 0,g,s,u),o.firstCreatePass&&a>=u.directiveStart&&function Eu(s,o,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(u){const v=ma(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==C&&Wn(C),Gs(E),v.resolving=!1,jc()}}return d}function Ca(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Au(s,o){return!(s&ct.Self||s&ct.Host&&o)}class Ni{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return vi(this._tNode,this._lView,o,u,a)}}function Su(s){return Tn(()=>{const o=s.prototype.constructor,a=o[Qe]||wo(o),u=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==u;){const g=d[Qe]||wo(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function wo(s){return ze(s)?()=>{const o=wo(ee(s));return o&&o()}:Kr(s)}function Da(s){return function Iu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const g=a[d];if(cs(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(An(),s)}const fs="__parameters__";function Co(s,o,a){return Tn(()=>{const u=function El(s){return function(...a){if(s){const u=s(...a);for(const d in u)this[d]=u[d]}}}(o);function d(...g){if(this instanceof d)return u.apply(this,g),this;const v=new d(...g);return E.annotation=v,E;function E(C,M,O){const F=C.hasOwnProperty(fs)?C[fs]:Object.defineProperty(C,fs,{value:[]})[fs];for(;F.length<=O;)F.push(null);return(F[O]=F[O]||[]).push(v),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class kn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=un({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Kc=new kn("AnalyzeForEntryComponents");function Nr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Nr(u,o)):o!==s&&o.push(u)}return o}function Fi(s,o){s.forEach(a=>Array.isArray(a)?Fi(a,o):o(a))}function Il(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Wi(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ei(s,o,a){let u=Aa(s,o);return u>=0?s[1|u]=a:(u=~u,function Ta(s,o,a,u){let d=s.length;if(d==o)s.push(a,u);else if(1===d)s.push(u,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function Rh(s,o){const a=Aa(s,o);if(a>=0)return s[1|a]}function Aa(s,o){return function Do(s,o,a){let u=0,d=s.length>>a;for(;d!==u;){const g=u+(d-u>>1),v=s[g<<a];if(o===v)return g<<a;v>o?d=g:u=g+1}return~(d<<a)}(s,o,1)}const gs={},qs="__NG_DI_FLAG__",Ru="ngTempTokenPath",I=/\n/gm,L="__source",Y=_e({provide:String,useValue:_e});let re;function Oe(s){const o=re;return re=s,o}function Ze(s,o=ct.Default){if(void 0===re)throw new ke(203,"");return null===re?hi(s,void 0,o):re.get(s,o&ct.Optional?null:void 0,o)}function rt(s,o=ct.Default){return(function er(){return qr}()||Ze)(ee(s),o)}const zt=rt;function At(s){const o=[];for(let a=0;a<s.length;a++){const u=ee(s[a]);if(Array.isArray(u)){if(0===u.length)throw new ke(900,"");let d,g=ct.Default;for(let v=0;v<u.length;v++){const E=u[v],C=xn(E);"number"==typeof C?-1===C?d=E.token:g|=C:d=E}o.push(rt(d,g))}else o.push(rt(u))}return o}function Un(s,o){return s[qs]=o,s.prototype[qs]=o,s}function xn(s){return s[qs]}const Fr=Un(Co("Inject",s=>({token:s})),-1),Lr=Un(Co("Optional"),8),Li=Un(Co("SkipSelf"),4);class Nu{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ms(s){return s instanceof Nu?s.changingThisBreaksApplicationSecurity:s}const ka=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Qn=(()=>((Qn=Qn||{})[Qn.NONE=0]="NONE",Qn[Qn.HTML=1]="HTML",Qn[Qn.STYLE=2]="STYLE",Qn[Qn.SCRIPT=3]="SCRIPT",Qn[Qn.URL=4]="URL",Qn[Qn.RESOURCE_URL=5]="RESOURCE_URL",Qn))();function od(s){const o=function Uu(){const s=De();return s&&s[12]}();return o?o.sanitize(Qn.URL,s)||"":function Fu(s,o){const a=function $h(s){return s instanceof Nu&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?ms(s):function Sl(s){return(s=String(s)).match(ka)||s.match(rg)?s:"unsafe:"+s}(pe(s))}const dg="__ngContext__";function tt(s,o){s[dg]=o}function wi(s){const o=function gn(s){return s[dg]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Gu(s){return s.ngOriginalError}function Rl(s,...o){s.error(...o)}class an{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function Ol(s){return s&&s.ngErrorLogger||Rl}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Gu(o);for(;a&&Gu(a);)a=Gu(a);return a||null}}const zu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function m(s){return s instanceof Function?s():s}var oe=(()=>((oe=oe||{})[oe.Important=1]="Important",oe[oe.DashCase=2]="DashCase",oe))();function Xe(s,o){return undefined(s,o)}function Pn(s){const o=s[3];return gi(o)?o[3]:o}function dd(s){return hd(s[13])}function Pl(s){return hd(s[4])}function hd(s){for(;null!==s&&!gi(s);)s=s[4];return s}function Yo(s,o,a,u,d){if(null!=u){let g,v=!1;gi(u)?g=u:Ri(u)&&(v=!0,u=u[0]);const E=hn(u);0===s&&null!==a?null==d?w0(o,a,E):Wu(o,a,E,d||null,!0):1===s&&null!==a?Wu(o,a,E,d||null,!0):2===s?function A0(s,o,a){const u=_g(s,o);u&&function C0(s,o,a,u){Dn(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function lf(s,o,a,u,d){const g=a[7];g!==hn(a)&&Yo(o,s,u,g,d);for(let E=10;E<a.length;E++){const C=a[E];md(C[1],C,s,o,u,g)}}(o,s,g,a,d)}}function Lt(s,o,a){if(Dn(s))return s.createElement(o,a);{const u=null!==a?function al(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function b0(s,o){const a=s[9],u=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Bs(d,-1)),a.splice(u,1)}function Zs(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const d=u[17];null!==d&&d!==s&&b0(d,u),o>0&&(s[a-1][4]=u[4]);const g=Wi(s,10+o);!function G_(s,o){md(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=g[19];null!==v&&v.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function q_(s,o){if(!(256&o[2])){const a=o[11];Dn(a)&&a.destroyNode&&md(s,o,a,3,null,null),function z_(s){let o=s[13];if(!o)return mg(s[1],s);for(;o;){let a=null;if(Ri(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)Ri(o)&&mg(o[1],o),o=o[3];null===o&&(o=s),Ri(o)&&mg(o[1],o),a=o&&o[4]}o=a}}(o)}}function mg(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function FM(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const d=o[a[u]];if(!(d instanceof $o)){const g=a[u+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=d[g[v]],C=g[v+1];try{C.call(E)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function E0(s,o){const a=s.cleanup,u=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],E="function"==typeof v?v(o):hn(o[v]),C=u[d=a[g+2]],M=a[g+3];"boolean"==typeof M?E.removeEventListener(a[g],C,M):M>=0?u[d=M]():u[d=-M].unsubscribe(),g+=2}else{const v=u[d=a[g+1]];a[g].call(v)}if(null!==u){for(let g=d+1;g<u.length;g++)u[g]();o[7]=null}}(s,o),1===o[1].type&&Dn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&gi(o[3])){a!==o[3]&&b0(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function Br(s,o,a){return function To(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const d=s.data[u.directiveStart].encapsulation;if(d===Kt.None||d===Kt.Emulated)return null}return br(u,a)}(s,o.parent,a)}function Wu(s,o,a,u,d){Dn(s)?s.insertBefore(o,a,u,d):o.insertBefore(a,u,d)}function w0(s,o,a){Dn(s)?s.appendChild(o,a):o.appendChild(a)}function W_(s,o,a,u,d){null!==u?Wu(s,o,a,u,d):w0(s,o,a)}function _g(s,o){return Dn(s)?s.parentNode(o):o.parentNode}let Z_=function K_(s,o,a){return 40&s.type?br(s,a):null};function qt(s,o,a,u){const d=Br(s,u,o),g=o[11],E=function I0(s,o,a){return Z_(s,o,a)}(u.parent||o[6],u,o);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)W_(g,d,a[C],E,!1);else W_(g,d,a,E,!1)}function Fl(s,o){if(null!==o){const a=o.type;if(3&a)return br(o,s);if(4&a)return Na(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return Fl(s,u);{const d=s[o.index];return gi(d)?Na(-1,d):hn(d)}}if(32&a)return Xe(o,s)()||hn(s[o.index]);{const u=T0(s,o);return null!==u?Array.isArray(u)?u[0]:Fl(Pn(s[16]),u):Fl(s,o.next)}}return null}function T0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Na(s,o){const a=10+s+1;if(a<o.length){const u=o[a],d=u[1].firstChild;if(null!==d)return Fl(u,d)}return o[7]}function yg(s,o,a,u,d,g,v){for(;null!=a;){const E=u[a.index],C=a.type;if(v&&0===o&&(E&&tt(hn(E),u),a.flags|=4),64!=(64&a.flags))if(8&C)yg(s,o,a.child,u,d,g,!1),Yo(o,s,d,E,g);else if(32&C){const M=Xe(a,u);let O;for(;O=M();)Yo(o,s,d,O,g);Yo(o,s,d,E,g)}else 16&C?af(s,o,u,a,d,g):Yo(o,s,d,E,g);a=v?a.projectionNext:a.next}}function md(s,o,a,u,d,g){yg(a,u,s.firstChild,o,d,g,!1)}function af(s,o,a,u,d,g){const v=a[16],C=v[6].projection[u.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)Yo(o,s,d,C[M],g);else yg(s,o,C,v[3],d,g,!0)}function uf(s,o,a){Dn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Y_(s,o,a){Dn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function vg(s,o,a){let u=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===u||s.charCodeAt(d+g)<=32)return d}a=d+1}}const X_="ng-template";function M0(s,o,a){let u=0;for(;u<s.length;){let d=s[u++];if(a&&"class"===d){if(d=s[u],-1!==vg(d.toLowerCase(),o,0))return!0}else if(1===d){for(;u<s.length&&"string"==typeof(d=s[u++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function x0(s){return 4===s.type&&s.value!==X_}function UD(s,o,a){return o===(4!==s.type||a?s.value:X_)}function jD(s,o,a){let u=4;const d=s.attrs||[],g=function GD(s){for(let o=0;o<s.length;o++)if(cs(s[o]))return o;return s.length}(d);let v=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!v)if(4&u){if(u=2|1&u,""!==C&&!UD(s,C,a)||""===C&&1===o.length){if(Qi(u))return!1;v=!0}}else{const M=8&u?C:o[++E];if(8&u&&null!==s.attrs){if(!M0(s.attrs,M,a)){if(Qi(u))return!1;v=!0}continue}const F=HD(8&u?"class":C,d,x0(s),a);if(-1===F){if(Qi(u))return!1;v=!0;continue}if(""!==M){let U;U=F>g?"":d[F+1].toLowerCase();const Q=8&u?U:null;if(Q&&-1!==vg(Q,M,0)||2&u&&M!==U){if(Qi(u))return!1;v=!0}}}}else{if(!v&&!Qi(u)&&!Qi(C))return!1;if(v&&Qi(C))continue;v=!1,u=C|1&u}}return Qi(u)||v}function Qi(s){return 0==(1&s)}function HD(s,o,a,u){if(null===o)return-1;let d=0;if(u||!a){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function zD(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function O0(s,o,a=!1){for(let u=0;u<o.length;u++)if(jD(s,o[u],a))return!0;return!1}function bg(s,o){return s?":not("+o.trim()+")":o}function J_(s){let o=s[0],a=1,u=2,d="",g=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&u){const E=s[++a];d+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?d+="."+v:4&u&&(d+=" "+v);else""!==d&&!Qi(v)&&(o+=bg(g,d),d=""),u=v,g=g||!Qi(u);a++}return""!==d&&(o+=bg(g,d)),o}const Rt={};function ey(s){k0(Ut(),De(),wr()+s,pl())}function k0(s,o,a,u){if(!u)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Ea(o,g,a)}else{const g=s.preOrderHooks;null!==g&&yl(o,g,0,a)}$s(a)}function cf(s,o){return s<<17|o<<2}function Ao(s){return s>>17&32767}function hf(s){return 2|s}function Xo(s){return(131068&s)>>2}function ff(s,o){return-131069&s|o<<2}function ty(s){return 1|s}function iy(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const d=a[u],g=a[u+1];if(-1!==g){const v=s.data[g];_u(d),v.contentQueries(2,o[g],g)}}}function Vl(s,o,a,u,d,g,v,E,C,M){const O=o.blueprint.slice();return O[0]=d,O[2]=140|u,Vs(O),O[3]=O[15]=s,O[8]=a,O[10]=v||s&&s[10],O[11]=E||s&&s[11],O[12]=C||s&&s[12]||null,O[9]=M||s&&s[9]||null,O[6]=g,O[16]=2==o.type?s[16]:O,O}function vd(s,o,a,u,d){let g=s.data[o];if(null===g)g=function sy(s,o,a,u,d){const g=Uo(),v=du(),C=s.data[o]=function JD(s,o,a,u,d,g){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,u,d);return null===s.firstChild&&(s.firstChild=C),null!==g&&(v?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}(s,o,a,u,d),function pu(){return ft.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=u,g.attrs=d;const v=function jo(){const s=ft.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Yr(g,!0),g}function bd(s,o,a,u){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(u),s.blueprint.push(u),s.data.push(null);return d}function yf(s,o,a){ho(o);try{const u=s.viewQuery;null!==u&&py(1,u,a);const d=s.template;null!==d&&oy(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&iy(s,o),s.staticViewQueries&&py(2,s.viewQuery,a);const g=s.components;null!==g&&function Sg(s,o){for(let a=0;a<o.length;a++)hI(s,o[a])}(o,g)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,po()}}function Va(s,o,a,u){const d=o[2];if(256==(256&d))return;ho(o);const g=pl();try{Vs(o),function gl(s){return ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&oy(s,o,a,2,u);const v=3==(3&d);if(!g)if(v){const M=s.preOrderCheckHooks;null!==M&&Ea(o,M,null)}else{const M=s.preOrderHooks;null!==M&&yl(o,M,0,null),zn(o,0)}if(function cI(s){for(let o=dd(s);null!==o;o=Pl(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const d=a[u],g=d[3];0==(1024&d[2])&&Bs(g,1),d[2]|=1024}}}(o),function tE(s){for(let o=dd(s);null!==o;o=Pl(o))for(let a=10;a<o.length;a++){const u=o[a],d=u[1];as(u)&&Va(d,u,d.template,u[8])}}(o),null!==s.contentQueries&&iy(s,o),!g)if(v){const M=s.contentCheckHooks;null!==M&&Ea(o,M)}else{const M=s.contentHooks;null!==M&&yl(o,M,1),zn(o,1)}!function Ys(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)$s(~d);else{const g=d,v=a[++u],E=a[++u];_l(v,g),E(2,o[g])}}}finally{$s(-1)}}(s,o);const E=s.components;null!==E&&function $0(s,o){for(let a=0;a<o.length;a++)dI(s,o[a])}(o,E);const C=s.viewQuery;if(null!==C&&py(2,C,u),!g)if(v){const M=s.viewCheckHooks;null!==M&&Ea(o,M)}else{const M=s.viewHooks;null!==M&&yl(o,M,2),zn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Bs(o[3],-1))}finally{po()}}function G0(s,o,a,u){const d=o[10],g=!pl(),v=Ls(o);try{g&&!v&&d.begin&&d.begin(),v&&yf(s,o,u),Va(s,o,a,u)}finally{g&&!v&&d.end&&d.end()}}function oy(s,o,a,u,d){const g=wr(),v=2&u;try{$s(-1),v&&o.length>20&&k0(s,o,20,pl()),a(u,d)}finally{$s(g)}}function Mg(s,o,a){!fl()||(function iI(s,o,a,u){const d=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||yi(a,o),tt(u,o);const v=a.initialInputs;for(let E=d;E<g;E++){const C=s.data[E],M=Wr(C);M&&lI(o,a,C);const O=ds(o,s,E,a);tt(O,o),null!==v&&KM(0,E-d,O,C,0,v),M&&(Er(a.index,o)[8]=O)}}(s,o,a,br(a,o)),128==(128&a.flags)&&function sI(s,o,a){const u=a.directiveStart,d=a.directiveEnd,v=a.index,E=function gu(){return ft.lFrame.currentDirectiveIndex}();try{$s(v);for(let C=u;C<d;C++){const M=s.data[C],O=o[C];ba(C),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Z0(M,O)}}finally{$s(-1),ba(E)}}(s,o,a))}function ec(s,o,a=br){const u=o.localNames;if(null!==u){let d=o.index+1;for(let g=0;g<u.length;g+=2){const v=u[g+1],E=-1===v?a(o,s):s[v];s[d++]=E}}}function ay(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=xg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function xg(s,o,a,u,d,g,v,E,C,M){const O=20+u,F=O+d,U=function XD(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:Rt);return a}(O,F),Q="function"==typeof M?M():M;return U[1]={type:s,blueprint:U,template:a,queries:null,viewQuery:E,declTNode:o,data:U.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:Q,incompleteFirstPass:!1}}function Og(s,o,a,u){const d=gy(o);null===a?d.push(u):(d.push(a),s.firstCreatePass&&iE(s).push(u,d.length-1))}function ly(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const d=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,d):a[u]=[o,d]}return a}function _s(s,o,a,u,d,g,v,E){const C=br(o,a);let O,M=o.inputs;!E&&null!=M&&(O=M[u])?(oE(s,a,O,u,d),Rs(o)&&function kg(s,o){const a=Er(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function eI(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),d=null!=v?v(d,o.value||"",u):d,Dn(g)?g.setProperty(C,u,d):Du(u)||(C.setProperty?C.setProperty(u,d):C[u]=d))}function uy(s,o,a,u){let d=!1;if(fl()){const g=function oI(s,o,a){const u=s.directiveRegistry;let d=null;if(u)for(let g=0;g<u.length;g++){const v=u[g];O0(a,v.selectors,!1)&&(d||(d=[]),yo(yi(a,o),s,v.type),Wr(v)?(Y0(s,a),d.unshift(v)):d.push(v))}return d}(s,o,a),v=null===u?null:{"":-1};if(null!==g){d=!0,X0(a,s.data.length,g.length);for(let O=0;O<g.length;O++){const F=g[O];F.providersResolver&&F.providersResolver(F)}let E=!1,C=!1,M=bd(s,o,g.length,null);for(let O=0;O<g.length;O++){const F=g[O];a.mergedAttrs=wa(a.mergedAttrs,F.hostAttrs),J0(s,a,o,M,F),aI(M,F,v),null!==F.contentQueries&&(a.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=128);const U=F.type.prototype;!E&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!C&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),C=!0),M++}!function Rg(s,o){const u=o.directiveEnd,d=s.data,g=o.attrs,v=[];let E=null,C=null;for(let M=o.directiveStart;M<u;M++){const O=d[M],F=O.inputs,U=null===g||x0(o)?null:eE(F,g);v.push(U),E=ly(F,M,E),C=ly(O.outputs,M,C)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=C}(s,a)}v&&function Q0(s,o,a){if(o){const u=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new ke(-301,!1);u.push(o[d],g)}}}(a,u,v)}return a.mergedAttrs=wa(a.mergedAttrs,a.attrs),d}function K0(s,o,a,u,d,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const C=~o.index;(function rI(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=C&&E.push(C),E.push(u,d,v)}}function Z0(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Y0(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function aI(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;Wr(o)&&(a[""]=s)}}function X0(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function J0(s,o,a,u,d){s.data[u]=d;const g=d.factory||(d.factory=Kr(d.type)),v=new $o(g,Wr(d),null);s.blueprint[u]=v,a[u]=v,K0(s,o,0,u,bd(s,a,d.hostVars,Rt),d)}function lI(s,o,a){const u=br(o,s),d=ay(a),g=s[10],v=Lg(s,Vl(s,d,null,a.onPush?64:16,u,o,g,g.createRenderer(u,a),null,null));s[o.index]=v}function Jo(s,o,a,u,d,g){const v=br(s,o);!function Fg(s,o,a,u,d,g,v){if(null==g)Dn(s)?s.removeAttribute(o,d,a):o.removeAttribute(d);else{const E=null==v?pe(g):v(g,u||"",d);Dn(s)?s.setAttribute(o,d,E,a):a?o.setAttributeNS(a,d,E):o.setAttribute(d,E)}}(o[11],v,g,s.value,a,u,d)}function KM(s,o,a,u,d,g){const v=g[o];if(null!==v){const E=u.setInput;for(let C=0;C<v.length;){const M=v[C++],O=v[C++],F=v[C++];null!==E?u.setInput(a,F,M,O):a[O]=F}}}function eE(s,o){let a=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[u+1])),u+=2}else u+=2;else u+=4}return a}function cy(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function dI(s,o){const a=Er(o,s);if(as(a)){const u=a[1];80&a[2]?Va(u,a,u.template,a[8]):a[5]>0&&dy(a)}}function dy(s){for(let u=dd(s);null!==u;u=Pl(u))for(let d=10;d<u.length;d++){const g=u[d];if(1024&g[2]){const v=g[1];Va(v,g,v.template,g[8])}else g[5]>0&&dy(g)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const d=Er(a[u],s);as(d)&&d[5]>0&&dy(d)}}function hI(s,o){const a=Er(o,s),u=a[1];(function nE(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),yf(u,a,a[8])}function Lg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function bf(s){for(;s;){s[2]|=64;const o=Pn(s);if(wh(s)&&!o)return s;s=o}return null}function fy(s,o,a){const u=o[10];u.begin&&u.begin();try{Va(s,o,s.template,a)}catch(d){throw si(o,d),d}finally{u.end&&u.end()}}function Vg(s){!function hy(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=wi(a),d=u[1];G0(d,u,d.template,a)}}(s[8])}function py(s,o,a){_u(0),o(s,a)}const gI=(()=>Promise.resolve(null))();function gy(s){return s[7]||(s[7]=[])}function iE(s){return s.cleanup||(s.cleanup=[])}function sE(s,o,a){return(null===s||Wr(s))&&(a=function Fc(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}function si(s,o){const a=s[9],u=a?a.get(an,null):null;u&&u.handleError(o)}function oE(s,o,a,u,d){for(let g=0;g<a.length;){const v=a[g++],E=a[g++],C=o[v],M=s.data[v];null!==M.setInput?M.setInput(C,d,u,E):C[E]=d}}function ea(s,o,a){const u=co(o,s);!function sf(s,o,a){Dn(s)?s.setValue(o,a):o.textContent=a}(s[11],u,a)}function tc(s,o,a){let u=a?s.styles:null,d=a?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?d=de(d,E):2==g&&(u=de(u,E+": "+o[++v]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=d:s.classesWithoutHost=d}const my=new kn("INJECTOR",-1);class _y{get(o,a=gs){if(a===gs){const u=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw u.name="NullInjectorError",u}return a}}const yy=new kn("Set Injector scope."),wd={},aE={};let Ef;function _I(){return void 0===Ef&&(Ef=new _y),Ef}function Bl(s,o=null,a=null,u){const d=vy(s,o,a,u);return d._resolveInjectorDefTypes(),d}function vy(s,o=null,a=null,u){return new yI(s,a,o||_I(),u)}class yI{constructor(o,a,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&Fi(a,E=>this.processProvider(E,o,a)),Fi([o],E=>this.processInjectorType(E,[],g)),this.records.set(my,Cd(void 0,this));const v=this.records.get(yy);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof o?null:fe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=gs,u=ct.Default){this.assertNotDestroyed();const d=Oe(this),g=Wn(void 0);try{if(!(u&ct.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function cE(s){return"function"==typeof s||"object"==typeof s&&s instanceof kn}(o)&&Wt(o);E=C&&this.injectableDefInScope(C)?Cd(by(o),wd):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(u&ct.Self?_I():this.parent).get(o,a=u&ct.Optional&&a===gs?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Ru]=v[Ru]||[]).unshift(fe(o)),d)throw v;return function xa(s,o,a,u){const d=s[Ru];throw o[L]&&d.unshift(o[L]),s.message=function Wo(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=fe(o);if(Array.isArray(o))d=o.map(fe).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):fe(E)))}d=`{${g.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${s.replace(I,"\n  ")}`}("\n"+s.message,d,a,u),s.ngTokenPath=d,s[Ru]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Wn(g),Oe(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,d)=>o.push(fe(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processInjectorType(o,a,u){if(!(o=ee(o)))return!1;let d=Or(o);const g=null==d&&o.ngModule||void 0,v=void 0===g?o:g,E=-1!==u.indexOf(v);if(void 0!==g&&(d=Or(g)),null==d)return!1;if(null!=d.imports&&!E){let O;u.push(v);try{Fi(d.imports,F=>{this.processInjectorType(F,a,u)&&(void 0===O&&(O=[]),O.push(F))})}finally{}if(void 0!==O)for(let F=0;F<O.length;F++){const{ngModule:U,providers:Q}=O[F];Fi(Q,ve=>this.processProvider(ve,U,Q||dt))}}this.injectorDefTypes.add(v);const C=Kr(v)||(()=>new v);this.records.set(v,Cd(C,wd));const M=d.providers;if(null!=M&&!E){const O=o;Fi(M,F=>this.processProvider(F,O,M))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,u){let d=Dd(o=ee(o))?o:ee(o&&o.provide);const g=function vI(s,o,a){return Ey(s)?Cd(void 0,s.useValue):Cd(uE(s),wd)}(o);if(Dd(o)||!0!==o.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=Cd(void 0,wd,!0),v.factory=()=>At(v.multi),this.records.set(d,v)),d=o,v.multi.push(o)}this.records.set(d,g)}hydrate(o,a){return a.value===wd&&(a.value=aE,a.value=a.factory()),"object"==typeof a.value&&a.value&&function CI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ee(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function by(s){const o=Wt(s),a=null!==o?o.factory:Kr(s);if(null!==a)return a;if(s instanceof kn)throw new ke(204,!1);if(s instanceof Function)return function lE(s){const o=s.length;if(o>0)throw function Jr(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}(o,"?"),new ke(204,!1);const a=function di(s){const o=s&&(s[$i]||s[es]);if(o){const a=function As(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new ke(204,!1)}function uE(s,o,a){let u;if(Dd(s)){const d=ee(s);return Kr(d)||by(d)}if(Ey(s))u=()=>ee(s.useValue);else if(function EI(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...At(s.deps||[]));else if(function bI(s){return!(!s||!s.useExisting)}(s))u=()=>rt(ee(s.useExisting));else{const d=ee(s&&(s.useClass||s.provide));if(!function wI(s){return!!s.deps}(s))return Kr(d)||by(d);u=()=>new d(...At(s.deps))}return u}function Cd(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Ey(s){return null!==s&&"object"==typeof s&&Y in s}function Dd(s){return"function"==typeof s}let So=(()=>{class s{static create(a,u){var d;if(Array.isArray(a))return Bl({name:""},u,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return Bl({name:g},a.parent,a.providers,g)}}}return s.THROW_IF_NOT_FOUND=gs,s.NULL=new _y,s.\u0275prov=un({token:s,providedIn:"any",factory:()=>rt(my)}),s.__NG_ELEMENT_ID__=-1,s})();function XM(s,o){ls(wi(s)[1],An())}function wE(s){let o=function AI(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let d;if(Wr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ke(903,"");d=o.\u0275dir}if(d){if(a){u.push(d);const v=s;v.inputs=CE(s.inputs),v.declaredInputs=CE(s.declaredInputs),v.outputs=CE(s.outputs);const E=d.hostBindings;E&&$g(s,E);const C=d.viewQuery,M=d.contentQueries;if(C&&ex(s,C),M&&nc(s,M),ne(s.inputs,d.inputs),ne(s.declaredInputs,d.declaredInputs),ne(s.outputs,d.outputs),Wr(d)&&d.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===wE&&(a=!1)}}o=Object.getPrototypeOf(o)}!function JM(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const d=s[u];d.hostVars=o+=d.hostVars,d.hostAttrs=wa(d.hostAttrs,a=wa(a,d.hostAttrs))}}(u)}function CE(s){return s===ur?{}:s===dt?[]:s}function ex(s,o){const a=s.viewQuery;s.viewQuery=a?(u,d)=>{o(u,d),a(u,d)}:o}function nc(s,o){const a=s.contentQueries;s.contentQueries=a?(u,d,g)=>{o(u,d,g),a(u,d,g)}:o}function $g(s,o){const a=s.hostBindings;s.hostBindings=a?(u,d)=>{o(u,d),a(u,d)}:o}let Gg=null;function Id(){if(!Gg){const s=Gt.Symbol;if(s&&s.iterator)Gg=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Gg=u)}}}return Gg}function Ui(s){return!!Ty(s)&&(Array.isArray(s)||!(s instanceof Map)&&Id()in s)}function Ty(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function na(s,o,a){return s[o]=a}function oi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Ay(s,o,a,u){const d=De();return oi(d,js(),o)&&(Ut(),Jo(Rn(),d,s,o,a,u)),Ay}function xE(s,o,a,u,d,g,v,E){const C=De(),M=Ut(),O=s+20,F=M.firstCreatePass?function SI(s,o,a,u,d,g,v,E,C){const M=o.consts,O=vd(o,s,4,v||null,Zr(M,E));uy(o,a,O,Zr(M,C)),ls(o,O);const F=O.tViews=xg(2,O,u,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,O),F.queries=o.queries.embeddedTView(O)),O}(O,M,C,o,a,u,d,g,v):M.data[O];Yr(F,!1);const U=C[11].createComment("");qt(M,C,U,F),tt(U,C),Lg(C,C[O]=cy(U,C,U,F)),tl(F)&&Mg(M,C,F),null!=v&&ec(C,F,E)}function Md(s,o=ct.Default){const a=De();return null===a?rt(s,o):vi(An(),a,ee(s),o)}function Uy(){throw new Error("invalid")}function tm(s,o,a){const u=De();return oi(u,js(),o)&&_s(Ut(),Rn(),u,s,o,u[11],a,!1),tm}function nm(s,o,a,u,d){const v=d?"class":"style";oE(s,a,o.inputs[v],v,u)}function rm(s,o,a,u){const d=De(),g=Ut(),v=20+s,E=d[11],C=d[v]=Lt(E,o,function M_(){return ft.lFrame.currentNamespace}()),M=g.firstCreatePass?function ox(s,o,a,u,d,g,v){const E=o.consts,M=vd(o,s,2,d,Zr(E,g));return uy(o,a,M,Zr(E,v)),null!==M.attrs&&tc(M,M.attrs,!1),null!==M.mergedAttrs&&tc(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,g,d,0,o,a,u):g.data[v];Yr(M,!0);const O=M.mergedAttrs;null!==O&&Cu(E,C,O);const F=M.classes;null!==F&&Y_(E,C,F);const U=M.styles;return null!==U&&uf(E,C,U),64!=(64&M.flags)&&qt(g,d,C,M),0===function va(){return ft.lFrame.elementDepthCount}()&&tt(C,d),function dl(){ft.lFrame.elementDepthCount++}(),tl(M)&&(Mg(g,d,M),function vf(s,o,a){if(Mc(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,M,d)),null!==u&&ec(d,M),rm}function jy(){let s=An();du()?function hu(){ft.lFrame.isParent=!1}():(s=s.parent,Yr(s,!1));const o=s;!function hl(){ft.lFrame.elementDepthCount--}();const a=Ut();return a.firstCreatePass&&(ls(a,s),Mc(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Th(s){return 0!=(16&s.flags)}(o)&&nm(a,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function $p(s){return 0!=(32&s.flags)}(o)&&nm(a,o,De(),o.stylesWithoutHost,!1),jy}function BE(s,o,a,u){return rm(s,o,a,u),jy(),BE}function $y(){return De()}function Tf(s){return!!s&&"function"==typeof s.then}function sm(s){return!!s&&"function"==typeof s.subscribe}const BI=sm;function Af(s,o,a,u){const d=De(),g=Ut(),v=An();return jI(g,d,d[11],v,s,o,!!a,u),Af}function HE(s,o){const a=An(),u=De(),d=Ut();return jI(d,u,sE(Ho(d.data),a,u),a,s,o,!1),HE}function jI(s,o,a,u,d,g,v,E){const C=tl(u),O=s.firstCreatePass&&iE(s),F=o[8],U=gy(o);let Q=!0;if(3&u.type||E){const $e=br(u,o),nt=E?E($e):$e,Te=U.length,gt=E?Qt=>E(hn(Qt[u.index])):u.index;if(Dn(a)){let Qt=null;if(!E&&C&&(Qt=function UI(s,o,a,u){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===u){const E=o[7],C=d[g+2];return E.length>C?E[C]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,u.index)),null!==Qt)(Qt.__ngLastListenerFn__||Qt).__ngNextListenerFn__=g,Qt.__ngLastListenerFn__=g,Q=!1;else{g=Gy(u,o,F,g,!1);const wn=a.listen(nt,d,g);U.push(g,wn),O&&O.push(d,gt,Te,Te+1)}}else g=Gy(u,o,F,g,!0),nt.addEventListener(d,g,v),U.push(g),O&&O.push(d,gt,Te,v)}else g=Gy(u,o,F,g,!1);const ve=u.outputs;let Le;if(Q&&null!==ve&&(Le=ve[d])){const $e=Le.length;if($e)for(let nt=0;nt<$e;nt+=2){const Cs=o[Le[nt]][Le[nt+1]].subscribe(g),Ec=U.length;U.push(g,Cs),O&&O.push(d,u.index,Ec,-(Ec+1))}}}function $E(s,o,a,u){try{return!1!==a(u)}catch(d){return si(s,d),!1}}function Gy(s,o,a,u,d){return function g(v){if(v===Function)return u;const E=2&s.flags?Er(s.index,o):o;0==(32&o[2])&&bf(E);let C=$E(o,0,u,v),M=g.__ngNextListenerFn__;for(;M;)C=$E(o,0,M,v)&&C,M=M.__ngNextListenerFn__;return d&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function HI(s=1){return function Hs(s){return(ft.lFrame.contextLView=function vu(s,o){for(;s>0;)o=o[15],s--;return o}(s,ft.lFrame.contextLView))[8]}(s)}function om(s,o,a,u,d){const g=s[a+1],v=null===o;let E=u?Ao(g):Xo(g),C=!1;for(;0!==E&&(!1===C||v);){const O=s[E+1];cx(s[E],o)&&(C=!0,s[E+1]=u?ty(O):hf(O)),E=u?Ao(O):Xo(O)}C&&(s[a+1]=u?hf(g):ty(g))}function cx(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Aa(s,o)>=0}function Qy(s,o){return function Sn(s,o,a,u){const d=De(),g=Ut(),v=function Pi(s){const o=ft.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);g.firstUpdatePass&&function QE(s,o,a,u){const d=s.data;if(null===d[a+1]){const g=d[wr()],v=function YE(s,o){return o>=s.expandoStartIndex}(s,a);(function tv(s,o){return 0!=(s.flags&(o?16:32))})(g,u)&&null===o&&!v&&(o=!1),o=function XE(s,o,a,u){const d=Ho(s);let g=u?o.residualClasses:o.residualStyles;if(null===d)0===(u?o.classBindings:o.styleBindings)&&(a=Gl(a=Mf(null,s,o,a,u),o.attrs,u),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(a=Mf(d,s,o,a,u),null===g){let C=function JE(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Xo(u))return s[Ao(u)]}(s,o,u);void 0!==C&&Array.isArray(C)&&(C=Mf(null,s,o,C[1],u),C=Gl(C,o.attrs,u),function JI(s,o,a,u){s[Ao(a?o.classBindings:o.styleBindings)]=u}(s,o,u,C))}else g=function ew(s,o,a){let u;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)u=Gl(u,s[g].hostAttrs,a);return Gl(u,o.attrs,a)}(s,o,u)}return void 0!==g&&(u?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,u),function qE(s,o,a,u,d,g){let v=g?o.classBindings:o.styleBindings,E=Ao(v),C=Xo(v);s[u]=a;let O,M=!1;if(Array.isArray(a)){const F=a;O=F[1],(null===O||Aa(F,O)>0)&&(M=!0)}else O=a;if(d)if(0!==C){const U=Ao(s[E+1]);s[u+1]=cf(U,E),0!==U&&(s[U+1]=ff(s[U+1],u)),s[E+1]=function P0(s,o){return 131071&s|o<<17}(s[E+1],u)}else s[u+1]=cf(E,0),0!==E&&(s[E+1]=ff(s[E+1],u)),E=u;else s[u+1]=cf(C,0),0===E?E=u:s[C+1]=ff(s[C+1],u),C=u;M&&(s[u+1]=hf(s[u+1])),om(s,O,u,!0),om(s,O,u,!1),function WE(s,o,a,u,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Aa(g,o)>=0&&(a[u+1]=ty(a[u+1]))}(o,O,s,u,g),v=cf(E,C),g?o.classBindings=v:o.styleBindings=v}(d,g,o,a,v,u)}}(g,s,v,u),o!==Rt&&oi(d,v,o)&&function Di(s,o,a,u,d,g,v,E){if(!(3&o.type))return;const C=s.data,M=C[E+1];xf(function Eg(s){return 1==(1&s)}(M)?Jy(C,o,a,d,Xo(M),v):void 0)||(xf(g)||function df(s){return 2==(2&s)}(M)&&(g=Jy(C,null,a,d,E,v)),function S0(s,o,a,u,d){const g=Dn(s);if(o)d?g?s.addClass(a,u):a.classList.add(u):g?s.removeClass(a,u):a.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:oe.DashCase;if(null==d)g?s.removeStyle(a,u,v):a.style.removeProperty(u);else{const E="string"==typeof d&&d.endsWith("!important");E&&(d=d.slice(0,-10),v|=oe.Important),g?s.setStyle(a,u,d,v):a.style.setProperty(u,d,E?"important":"")}}}(u,v,co(wr(),a),d,g))}(g,g.data[wr()],d,d[11],s,d[v+1]=function ev(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(ms(s)))),s}(o,a),u,v)}(s,o,null,!0),Qy}function Mf(s,o,a,u,d){let g=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(g=o[E],u=Gl(u,g.hostAttrs,d),g!==s);)E++;return null!==s&&(a.directiveStylingLast=E),u}function Gl(s,o,a){const u=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ei(s,v,!!a||o[++g]))}return void 0===s?null:s}function Jy(s,o,a,u,d,g){const v=null===o;let E;for(;d>0;){const C=s[d],M=Array.isArray(C),O=M?C[1]:C,F=null===O;let U=a[d+1];U===Rt&&(U=F?dt:void 0);let Q=F?Rh(U,u):O===u?U:void 0;if(M&&!xf(Q)&&(Q=Rh(C,u)),xf(Q)&&(E=Q,v))return E;const ve=s[d+1];d=v?Ao(ve):Xo(ve)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(E=Rh(C,u))}return E}function xf(s){return void 0!==s}function nv(s,o=""){const a=De(),u=Ut(),d=s+20,g=u.firstCreatePass?vd(u,d,1,o,null):u.data[d],v=a[d]=function fd(s,o){return Dn(s)?s.createText(o):s.createTextNode(o)}(a[11],o);qt(u,a,v,g),Yr(g,!1)}function um(s){return Of("",s,""),um}function Of(s,o,a){const u=De(),d=function Ba(s,o,a,u){return oi(s,js(),a)?o+pe(a)+u:Rt}(u,s,o,a);return d!==Rt&&ea(u,wr(),d),Of}function Pf(s,o,a){const u=De();return oi(u,js(),o)&&_s(Ut(),Rn(),u,s,o,u[11],a,!0),Pf}function ym(s,o,a){const u=De();if(oi(u,js(),o)){const g=Ut(),v=Rn();_s(g,v,u,s,o,sE(Ho(g.data),v,u),a,!0)}return ym}const ac=void 0;var gv=["en",[["a","p"],["AM","PM"],ac],[["AM","PM"],ac,ac],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ac,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ac,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ac,"{1} 'at' {0}",ac],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pv(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let zl={};function Tr(s){const o=function aT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=aw(o);if(a)return a;const u=o.split("-")[0];if(a=aw(u),a)return a;if("en"===u)return gv;throw new Error(`Missing locale data for the locale "${s}".`)}function vm(s){return Tr(s)[bt.PluralCase]}function aw(s){return s in zl||(zl[s]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[s]),zl[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const Od="en-US";let bm=Od;function Fv(s,o,a,u,d){if(s=ee(s),Array.isArray(s))for(let g=0;g<s.length;g++)Fv(s[g],o,a,u,d);else{const g=Ut(),v=De();let E=Dd(s)?s:ee(s.provide),C=uE(s);const M=An(),O=1048575&M.providerIndexes,F=M.directiveStart,U=M.providerIndexes>>20;if(Dd(s)||!s.multi){const Q=new $o(C,d,Md),ve=zf(E,o,d?O:O+U,F);-1===ve?(yo(yi(M,v),g,E),Mm(g,s,o.length),o.push(E),M.directiveStart++,M.directiveEnd++,d&&(M.providerIndexes+=1048576),a.push(Q),v.push(Q)):(a[ve]=Q,v[ve]=Q)}else{const Q=zf(E,o,O+U,F),ve=zf(E,o,O,O+U),Le=Q>=0&&a[Q],$e=ve>=0&&a[ve];if(d&&!$e||!d&&!Le){yo(yi(M,v),g,E);const nt=function Bv(s,o,a,u,d){const g=new $o(s,a,Md);return g.multi=[],g.index=o,g.componentProviders=0,Lv(g,d,u&&!a),g}(d?Dw:Vv,a.length,d,u,C);!d&&$e&&(a[ve].providerFactory=nt),Mm(g,s,o.length,0),o.push(E),M.directiveStart++,M.directiveEnd++,d&&(M.providerIndexes+=1048576),a.push(nt),v.push(nt)}else Mm(g,s,Q>-1?Q:ve,Lv(a[d?ve:Q],C,!d&&u));!d&&u&&$e&&a[ve].componentProviders++}}}function Mm(s,o,a,u){const d=Dd(o),g=function wy(s){return!!s.useClass}(o);if(d||g){const C=(g?ee(o.useClass):o).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const O=M.indexOf(a);-1===O?M.push(a,[u,C]):M[O+1].push(u,C)}else M.push(a,C)}}}function Lv(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function zf(s,o,a,u){for(let d=a;d<u;d++)if(o[d]===s)return d;return-1}function Vv(s,o,a,u){return xm(this.multi,[])}function Dw(s,o,a,u){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=ds(a,a[1],this.providerFactory.index,u);g=E.slice(0,v),xm(d,g);for(let C=v;C<E.length;C++)g.push(E[C])}else g=[],xm(d,g);return g}function xm(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Iw(s,o=[]){return a=>{a.providersResolver=(u,d)=>function Cw(s,o,a){const u=Ut();if(u.firstCreatePass){const d=Wr(s);Fv(a,u.data,u.blueprint,d,!0),Fv(o,u.data,u.blueprint,d,!1)}}(u,d?d(s):s,o)}}class Tw{}class jv{resolveComponentFactory(o){throw function Om(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let qf=(()=>{class s{}return s.NULL=new jv,s})();function Wf(){return oa(An(),De())}function oa(s,o){return new Kf(br(s,o))}let Kf=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Wf,s})();function pr(s){return s instanceof Kf?s.nativeElement:s}class Aw{}let IT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function AT(){const s=De(),a=Er(An().index,s);return function TT(s){return s[11]}(Ri(a)?a:s)}(),s})(),Sw=(()=>{class s{}return s.\u0275prov=un({token:s,providedIn:"root",factory:()=>null}),s})();class Hv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const $v=new Hv("13.2.7"),$d={};function Zf(s,o,a,u,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&u.push(hn(g)),gi(g))for(let E=10;E<g.length;E++){const C=g[E],M=C[1].firstChild;null!==M&&Zf(C[1],C,M,u)}const v=a.type;if(8&v)Zf(s,o,a.child,u);else if(32&v){const E=Xe(a,o);let C;for(;C=E();)u.push(C)}else if(16&v){const E=T0(o,a);if(Array.isArray(E))u.push(...E);else{const C=Pn(o[16]);Zf(C[1],C,E,u,!0)}}a=d?a.projectionNext:a.next}return u}class bs{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Zf(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(gi(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(Zs(o,u),Wi(a,u))}this._attachedToViewContainer=!1}q_(this._lView[1],this._lView)}onDestroy(o){Og(this._lView[1],this._lView,null,o)}markForCheck(){bf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){fy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function rE(s,o,a){Us(!0);try{fy(s,o,a)}finally{Us(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gg(s,o){md(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ke(902,"");this._appRef=o}}class Mw extends bs{constructor(o){super(o),this._view=o}detectChanges(){Vg(this._view)}checkNoChanges(){!function pI(s){Us(!0);try{Vg(s)}finally{Us(!1)}}(this._view)}get context(){return null}}class xw extends qf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Zt(o);return new Qf(a,this.ngModule)}}function Rm(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Qf extends Tw{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Fa(s){return s.map(J_).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Rm(this.componentDef.inputs)}get outputs(){return Rm(this.componentDef.outputs)}create(o,a,u,d){const g=(d=d||this.ngModule)?function Ow(s,o){return{get:(a,u,d)=>{const g=s.get(a,$d,d);return g!==$d||u===$d?g:o.get(a,u,d)}}}(o,d.injector):o,v=g.get(Aw,Bo),E=g.get(Sw,null),C=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",O=u?function q0(s,o,a){if(Dn(s))return s.selectRootElement(o,a===Kt.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(C,u,this.componentDef.encapsulation):Lt(v.createRenderer(null,this.componentDef),M,function Yf(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),F=this.componentDef.onPush?576:528,U=function TI(s,o){return{components:[],scheduler:s||zu,clean:gI,playerHandler:o||null,flags:0}}(),Q=xg(0,null,null,1,0,null,null,null,null,null),ve=Vl(null,Q,U,F,null,null,v,C,E,g);let Le,$e;ho(ve);try{const nt=function bE(s,o,a,u,d,g){const v=a[1];a[20]=s;const C=vd(v,20,2,"#host",null),M=C.mergedAttrs=o.hostAttrs;null!==M&&(tc(C,M,!0),null!==s&&(Cu(d,s,M),null!==C.classes&&Y_(d,s,C.classes),null!==C.styles&&uf(d,s,C.styles)));const O=u.createRenderer(s,o),F=Vl(a,ay(o),null,o.onPush?64:16,a[20],C,u,O,g||null,null);return v.firstCreatePass&&(yo(yi(C,a),v,o.type),Y0(v,C),X0(C,a.length,1)),Lg(a,F),a[20]=F}(O,this.componentDef,ve,v,C);if(O)if(u)Cu(C,O,["ng-version",$v.full]);else{const{attrs:Te,classes:gt}=function _d(s){const o=[],a=[];let u=1,d=2;for(;u<s.length;){let g=s[u];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++u]):8===d&&a.push(g);else{if(!Qi(d))break;d=g}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Te&&Cu(C,O,Te),gt&&gt.length>0&&Y_(C,O,gt.join(" "))}if($e=ya(Q,20),void 0!==a){const Te=$e.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const Qt=a[gt];Te.push(null!=Qt?Array.from(Qt):null)}}Le=function EE(s,o,a,u,d){const g=a[1],v=function nI(s,o,a){const u=An();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),J0(s,u,o,bd(s,o,1,null),a));const d=ds(o,s,u.directiveStart,u);tt(d,o);const g=br(u,o);return g&&tt(g,o),d}(g,a,o);if(u.components.push(v),s[8]=v,d&&d.forEach(C=>C(v,o)),o.contentQueries){const C=An();o.contentQueries(1,v,C.directiveStart)}const E=An();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||($s(E.index),K0(a[1],E,0,E.directiveStart,E.directiveEnd,o),Z0(o,v)),v}(nt,this.componentDef,ve,U,[XM]),yf(Q,ve,null)}finally{po()}return new Gv(this.componentType,Le,oa($e,ve),ve,$e)}}class Gv extends class CT{}{constructor(o,a,u,d,g){super(),this.location=u,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new Mw(d),this.componentType=o}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Gd{}class zv{}const aa=new Map;class Yv extends Gd{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xw(this);const u=_n(o);this._bootstrapComponents=m(u.bootstrap),this._r3Injector=vy(o,a,[{provide:Gd,useValue:this},{provide:qf,useValue:this.componentFactoryResolver}],fe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=So.THROW_IF_NOT_FOUND,u=ct.Default){return o===So||o===Gd||o===my?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Nm extends zv{constructor(o){super(),this.moduleType=o,null!==_n(o)&&function Wv(s){const o=new Set;!function a(u){const d=_n(u,!0),g=d.id;null!==g&&(function qv(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${fe(o)} vs ${fe(o.name)}`)}(g,aa.get(g),u),aa.set(g,u));const v=m(d.imports);for(const E of v)o.has(E)||(o.add(E),a(E))}(s)}(o)}create(o){return new Yv(this.moduleType,o)}}function Wl(s,o,a){const u=hr()+s,d=De();return d[u]===Rt?na(d,u,a?o.call(a):o()):function wf(s,o){return s[o]}(d,u)}function Bw(s,o,a,u,d,g){const v=o+a;return oi(s,v,d)?na(s,v+1,g?u.call(g,d):u(d)):function Xf(s,o){const a=s[o];return a===Rt?void 0:a}(s,v+1)}function Hw(s,o){const a=Ut();let u;const d=s+20;a.firstCreatePass?(u=function Vm(s,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(s===u.name)return u}}(o,a.pipeRegistry),a.data[d]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,u.onDestroy)):u=a.data[d];const g=u.factory||(u.factory=Kr(u.type)),v=Wn(Md);try{const E=Gs(!1),C=g();return Gs(E),function MI(s,o,a,u){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=u}(a,De(),d,C),C}finally{Wn(v)}}function $w(s,o,a){const u=s+20,d=De(),g=function ki(s,o){return s[o]}(d,u);return function hc(s,o){return s[1].data[o].pure}(d,u)?Bw(d,hr(),o,g.transform,a,g):g.transform(a)}function Ne(s){return o=>{setTimeout(s,void 0,o)}}const In=class xT extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var d,g,v;let E=o,C=a||(()=>null),M=u;if(o&&"object"==typeof o){const F=o;E=null===(d=F.next)||void 0===d?void 0:d.bind(F),C=null===(g=F.error)||void 0===g?void 0:g.bind(F),M=null===(v=F.complete)||void 0===v?void 0:v.bind(F)}this.__isAsync&&(C=Ne(C),E&&(E=Ne(E)),M&&(M=Ne(M)));const O=super.subscribe({next:E,error:C,complete:M});return o instanceof X.w0&&o.add(O),O}};function Jf(){return this._results[Id()]()}class ep{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Id(),u=ep.prototype;u[a]||(u[a]=Jf)}get changes(){return this._changes||(this._changes=new In)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const d=Nr(o);(this._changesDetected=!function Dl(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let d=s[u],g=o[u];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Je=(()=>{class s{}return s.__NG_ELEMENT_ID__=qe,s})();const St=Je,OT=class extends St{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=Vl(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(a)),yf(a,u,o),new bs(u)}};function qe(){return le(An(),De())}function le(s,o){return 4&s.type?new OT(o,s,oa(s,o)):null}let xe=(()=>{class s{}return s.__NG_ELEMENT_ID__=Hr,s})();function Hr(){return Kw(An(),De())}const zw=xe,qw=class extends zw{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return oa(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const o=Qr(this._hostTNode,this._hostLView);if(zc(o)){const a=bn(o,this._hostLView),u=Jt(o);return new Ni(a[1].data[u+8],a)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Ww(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const d=o.createEmbeddedView(a||{});return this.insert(d,u),d}createComponent(o,a,u,d,g){const v=o&&!function Xr(s){return"function"==typeof s}(o);let E;if(v)E=a;else{const F=a||{};E=F.index,u=F.injector,d=F.projectableNodes,g=F.ngModuleRef}const C=v?o:new Qf(Zt(o)),M=u||this.parentInjector;if(!g&&null==C.ngModule){const U=(v?M:this.parentInjector).get(Gd,null);U&&(g=U)}const O=C.create(M,d,void 0,g);return this.insert(O.hostView,E),O}insert(o,a){const u=o._lView,d=u[1];if(function ul(s){return gi(s[3])}(u)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const F=u[3],U=new qw(F,F[6],F[3]);U.detach(U.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function LD(s,o,a,u){const d=10+u,g=a.length;u>0&&(a[d-1][4]=o),u<g-10?(o[4]=a[d],Il(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function VD(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(d,u,v,g);const E=Na(g,v),C=u[11],M=_g(C,v[7]);return null!==M&&function Qo(s,o,a,u,d,g){u[0]=d,u[6]=o,md(s,u,a,1,d,g)}(d,v[6],C,u,M,E),o.attachToViewContainerRef(),Il(Xv(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Ww(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Zs(this._lContainer,a);u&&(Wi(Xv(this._lContainer),a),q_(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=Zs(this._lContainer,a);return u&&null!=Wi(Xv(this._lContainer),a)?new bs(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Ww(s){return s[8]}function Xv(s){return s[8]||(s[8]=[])}function Kw(s,o){let a;const u=o[s.index];if(gi(u))a=u;else{let d;if(8&s.type)d=hn(u);else{const g=o[11];d=g.createComment("");const v=br(s,o);Wu(g,_g(g,v),d,function D0(s,o){return Dn(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=a=cy(u,o,d,s),Lg(o,a)}return new qw(a,s,o)}class Yw{constructor(o){this.queryList=o,this.matches=null}clone(){return new Yw(this.queryList)}setDirty(){this.queryList.setDirty()}}class ji{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<u;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new ji(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==tC(o,a).matches&&this.queries[a].setDirty()}}class Qw{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class Bm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,g=this.getByIndex(u).embeddedTView(o,d);g&&(g.indexInDeclarationView=u,null!==a?a.push(g):a=[g])}return null!==a?new Bm(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Nt{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Nt(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const g=u[d];this.matchTNodeWithReadOption(o,a,Wd(a,g)),this.matchTNodeWithReadOption(o,a,Tu(a,o,g,!1,!1))}else u===Je?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Tu(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===Kf||d===xe||d===Je&&4&a.type)this.addMatch(a.index,-2);else{const g=Tu(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Wd(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function ir(s,o,a,u){return-1===a?function Xw(s,o){return 11&s.type?oa(s,o):4&s.type?le(s,o):null}(o,s):-2===a?function It(s,o,a){return a===Kf?oa(o,s):a===Je?le(o,s):a===xe?Kw(o,s):void 0}(s,o,u):ds(s,s[1],a,o)}function Jv(s,o,a,u){const d=o[19].queries[u];if(null===d.matches){const g=s.data,v=a.matches,E=[];for(let C=0;C<v.length;C+=2){const M=v[C];E.push(M<0?null:ir(o,g[M],v[C+1],a.metadata.read))}d.matches=E}return d.matches}function Ha(s,o,a,u){const d=s.queries.getByIndex(a),g=d.matches;if(null!==g){const v=Jv(s,o,d,a);for(let E=0;E<g.length;E+=2){const C=g[E];if(C>0)u.push(v[E/2]);else{const M=g[E+1],O=o[-C];for(let F=10;F<O.length;F++){const U=O[F];U[17]===U[3]&&Ha(U[1],U,M,u)}if(null!==O[9]){const F=O[9];for(let U=0;U<F.length;U++){const Q=F[U];Ha(Q[1],Q,M,u)}}}}}return u}function eb(s){const o=De(),a=Ut(),u=mu();_u(u+1);const d=tC(a,u);if(s.dirty&&Ls(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?Ha(a,o,u,[]):Jv(a,o,d,u);s.reset(g,pr),s.notifyOnChanges()}return!0}return!1}function Kd(s,o,a){const u=Ut();u.firstCreatePass&&(eC(u,new Qw(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),fc(u,De(),o)}function tn(s,o,a,u){const d=Ut();if(d.firstCreatePass){const g=An();eC(d,new Qw(o,a,u),g.index),function Sr(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}fc(d,De(),a)}function Jw(){return function $r(s,o){return s[19].queries[o].queryList}(De(),mu())}function fc(s,o,a){const u=new ep(4==(4&a));Og(s,o,u,u.destroy),null===o[19]&&(o[19]=new ji),o[19].queries.push(new Yw(u))}function eC(s,o,a){null===s.queries&&(s.queries=new Bm),s.queries.track(new Nt(o,a))}function tC(s,o){return s.queries.getByIndex(o)}function Wm(...s){}const uC=new kn("Application Initializer");let Km=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Wm,this.reject=Wm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(Tf(g))a.push(g);else if(BI(g)){const v=new Promise((E,C)=>{g.subscribe({complete:E,error:C})});a.push(v)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(rt(uC,8))},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const cC=new kn("AppId",{providedIn:"root",factory:function dC(){return`${cb()}${cb()}${cb()}`}});function cb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qa=new kn("Platform Initializer"),mc=new kn("Platform ID"),hC=new kn("appBootstrapListener");let db=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();const Zm=new kn("LocaleId",{providedIn:"root",factory:()=>zt(Zm,ct.Optional|ct.SkipSelf)||function Wa(){return"undefined"!=typeof $localize&&$localize.locale||Od}()}),eh=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class pb{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let gb=(()=>{class s{compileModuleSync(a){return new Nm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),g=m(_n(a).declarations).reduce((v,E)=>{const C=Zt(E);return C&&v.push(new Qf(C)),v},[]);return new pb(u,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const pC=(()=>Promise.resolve(0))();function _c(s){"undefined"==typeof Zone?pC.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ws{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new In(!1),this.onMicrotaskEmpty=new In(!1),this.onStable=new In(!1),this.onError=new In(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function gC(){let s=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function BT(s){const o=()=>{!function mC(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Gt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Qm(s),s.isCheckStableRunning=!0,Ym(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Qm(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,g,v,E)=>{try{return _b(s),a.invokeTask(d,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),yb(s)}},onInvoke:(a,u,d,g,v,E,C)=>{try{return _b(s),a.invoke(d,g,v,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),yb(s)}},onHasTask:(a,u,d,g)=>{a.hasTask(d,g),u===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Qm(s),Ym(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,u,d,g)=>(a.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ws.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ws.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,mb,Wm,Wm);try{return g.runTask(v,a,u)}finally{g.cancelTask(v)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const mb={};function Ym(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Qm(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function _b(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function yb(s){s._nesting--,Ym(s)}class Xm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new In,this.onMicrotaskEmpty=new In,this.onStable=new In,this.onError=new In}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,d){return o.apply(a,u)}}let _C=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ws.assertNotInAngularZone(),_c(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_c(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(rt(ws))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})(),yC=(()=>{class s{constructor(){this._applications=new Map,Ka.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Ka.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();class vC{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function nh(s){Ka=s}let Js,Ka=new vC;const vb=new kn("AllowMultipleToken");class bC{constructor(o,a){this.name=o,this.token=a}}function EC(s,o,a=[]){const u=`Platform: ${o}`,d=new kn(u);return(g=[])=>{let v=sp();if(!v||v.injector.get(vb,!1))if(s)s(a.concat(g).concat({provide:d,useValue:!0}));else{const E=a.concat(g).concat({provide:d,useValue:!0},{provide:yy,useValue:"platform"});!function ip(s){if(Js&&!Js.destroyed&&!Js.injector.get(vb,!1))throw new ke(400,"");Js=s.get(op);const o=s.get(qa,null);o&&o.forEach(a=>a())}(So.create({providers:E,name:u}))}return function jT(s){const o=sp();if(!o)throw new ke(401,"");return o}()}}function sp(){return Js&&!Js.destroyed?Js:null}let op=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const E=function HT(s,o){let a;return a="noop"===s?new Xm:("zone.js"===s?void 0:s)||new ws({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:ws,useValue:E}];return E.run(()=>{const M=So.create({providers:C,parent:this.injector,name:a.moduleType.name}),O=a.create(M),F=O.injector.get(an,null);if(!F)throw new ke(402,"");return E.runOutsideAngular(()=>{const U=E.onError.subscribe({next:Q=>{F.handleError(Q)}});O.onDestroy(()=>{e_(this._modules,O),U.unsubscribe()})}),function bb(s,o,a){try{const u=a();return Tf(u)?u.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(F,E,()=>{const U=O.injector.get(Km);return U.runInitializers(),U.donePromise.then(()=>(function vv(s){at(s,"Expected localeId to be defined"),"string"==typeof s&&(bm=s.toLowerCase().replace(/_/g,"-"))}(O.injector.get(Zm,Od)||Od),this._moduleDoBootstrap(O),O))})})}bootstrapModule(a,u=[]){const d=wC({},u);return function yc(s,o,a){const u=new Nm(a);return Promise.resolve(u)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const u=a.injector.get(Jm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new ke(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(rt(So))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();function wC(s,o){return Array.isArray(o)?o.reduce(wC,s):Object.assign(Object.assign({},s),o)}let Jm=(()=>{class s{constructor(a,u,d,g,v){this._zone=a,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new N.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),C=new N.y(M=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{ws.assertNotInAngularZone(),_c(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{ws.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{O.unsubscribe(),F.unsubscribe()}});this.isStable=(0,ue.T)(E,C.pipe((0,te.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new ke(405,"");let d;d=a instanceof Tw?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function rh(s){return s.isBoundToModule}(d)?void 0:this._injector.get(Gd),E=d.create(So.NULL,[],u||d.selector,g),C=E.location.nativeElement,M=E.injector.get(_C,null),O=M&&E.injector.get(yC);return M&&O&&O.registerApplication(C,M),E.onDestroy(()=>{this.detachView(E.hostView),e_(this.components,E),O&&O.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new ke(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;e_(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(hC,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(rt(ws),rt(So),rt(an),rt(qf),rt(Km))},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function e_(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Eb=!0,wb=!1;function CC(){return wb=!0,Eb}function ap(){if(wb)throw new Error("Cannot enable prod mode after platform setup.");Eb=!1}let sn=(()=>{class s{}return s.__NG_ELEMENT_ID__=IC,s})();function IC(s){return function TC(s,o,a){if(Rs(s)&&!a){const u=Er(s.index,o);return new bs(u,u)}return 47&s.type?new bs(o[16],o):null}(An(),De(),16==(16&s))}class Sb{constructor(){}supports(o){return Ui(o)}create(o){return new MC(o)}}const qT=(s,o)=>o;class MC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||qT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,d=0,g=null;for(;a||u;){const v=!u||a&&a.currentIndex<RC(u,d,g)?a:u,E=RC(v,d,g),C=v.currentIndex;if(v===u)d--,u=u._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const M=E-d,O=C-d;if(M!=O){for(let U=0;U<M;U++){const Q=U<g.length?g[U]:g[U]=0,ve=Q+U;O<=ve&&ve<M&&(g[U]=Q+1)}g[v.previousIndex]=O-M}}E!==C&&o(v,E,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Ui(o))throw new ke(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,g,v,E)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,E),u=!0),a=a._next}else d=0,function Iy(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Id()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,E=>{v=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,E,v,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new xC(a,u),g,d),o}_verifyReinsertion(o,a,u,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new OC),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class xC{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class OC{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new WT,this.map.set(a,u)),u.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RC(s,o,a){const u=s.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+o+d}class ah{constructor(){}supports(o){return o instanceof Map||Ty(o)}create(){return new kC}}class kC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Ty(o)))throw new ke(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const u=new KT(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class KT{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xr(){return new lp([new Sb])}let lp=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||xr()),deps:[[s,new Li,new Lr]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new ke(901,"")}}return s.\u0275prov=un({token:s,providedIn:"root",factory:xr}),s})();function lh(){return new to([new ah])}let to=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||lh()),deps:[[s,new Li,new Lr]]}}find(a){const u=this.factories.find(g=>g.supports(a));if(u)return u;throw new ke(901,"")}}return s.\u0275prov=un({token:s,providedIn:"root",factory:lh}),s})();const NC=EC(null,"core",[{provide:mc,useValue:"unknown"},{provide:op,deps:[So]},{provide:yC,deps:[]},{provide:db,deps:[]}]);let XT=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(rt(Jm))},s.\u0275mod=J({type:s}),s.\u0275inj=rn({}),s})()},3942:(st,Ie,P)=>{P.d(Ie,{Z:()=>ke});var h=P(2090),X=P(4859),N=P(9681),ue=P(1877);class te{constructor(pe,Ce){this._delegate=pe,this.firebase=Ce,(0,N._addComponent)(pe,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(pe,Ce=N._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(pe);return!We.isInitialized()&&"EXPLICIT"===(null===(et=We.getComponent())||void 0===et?void 0:et.instantiationMode)&&We.initialize(),We.getImmediate({identifier:Ce})}_removeServiceInstance(pe,Ce=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Ce)}_addComponent(pe){(0,N._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,N._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function de(){const Ve=function fe(Ve){const pe={},Ce={__esModule:!0,initializeApp:function Ae(je,ie={}){const K=N.initializeApp(je,ie);if((0,h.r3)(pe,K.name))return pe[K.name];const se=new Ve(K,Ce);return pe[K.name]=se,se},app:We,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function we(je){const ie=je.name,K=ie.replace("-compat","");if(N._registerComponent(je)&&"PUBLIC"===je.type){const se=(ye=We())=>{if("function"!=typeof ye[K])throw ne.create("invalid-app-argument",{appName:ie});return ye[K]()};void 0!==je.serviceProps&&(0,h.ZB)(se,je.serviceProps),Ce[K]=se,Ve.prototype[K]=function(...ye){return this._getService.bind(this,ie).apply(this,je.multipleInstances?ye:[])}}return"PUBLIC"===je.type?Ce[K]:null},removeApp:function et(je){delete pe[je]},useAsService:function Ge(je,ie){return"serverAuth"===ie?null:ie},modularAPIs:N}};function We(je){if(!(0,h.r3)(pe,je=je||N._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:je});return pe[je]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function be(){return Object.keys(pe).map(je=>pe[je])}}),We.App=Ve,Ce}(te);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function pe(Ce){(0,h.ZB)(Ve,Ce)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ve}(),$=new ue.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=H;!function Me(Ve){(0,N.registerVersion)("@firebase/app-compat","0.1.22",Ve)}()},9681:(st,Ie,P)=>{P.r(Ie),P.d(Ie,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Or,_DEFAULT_ENTRY_NAME:()=>Fn,_addComponent:()=>pn,_addOrOverwriteComponent:()=>Oi,_apps:()=>_t,_clearComponents:()=>Wt,_components:()=>fn,_getProvider:()=>Ji,_registerComponent:()=>un,_removeServiceInstance:()=>rn,deleteApp:()=>ts,getApp:()=>Rr,getApps:()=>es,initializeApp:()=>$i,onLog:()=>er,registerVersion:()=>qr,setLogLevel:()=>Wn});var h=P(5861),X=P(4859),N=P(1877),ue=P(2090);class te{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Qe=>{if(function _e(Ke){const Se=Ke.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(Qe)){const ht=Qe.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Qe=>Qe).join(" ")}}const ne="@firebase/app",de=new N.Yd("@firebase/app"),Fn="[DEFAULT]",at={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,fn=new Map;function pn(Ke,Se){try{Ke.container.addComponent(Se)}catch(Qe){de.debug(`Component ${Se.name} failed to register with FirebaseApp ${Ke.name}`,Qe)}}function Oi(Ke,Se){Ke.container.addOrOverwriteComponent(Se)}function un(Ke){const Se=Ke.name;if(fn.has(Se))return de.debug(`There were multiple attempts to register component ${Se}.`),!1;fn.set(Se,Ke);for(const Qe of _t.values())pn(Qe,Ke);return!0}function Ji(Ke,Se){const Qe=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return Qe&&Qe.triggerHeartbeat(),Ke.container.getProvider(Se)}function rn(Ke,Se,Qe=Fn){Ji(Ke,Se).clearInstance(Qe)}function Wt(){fn.clear()}const di=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class As{constructor(Se,Qe,ht){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Qe),this._name=Qe.name,this._automaticDataCollectionEnabled=Qe.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}const Or="9.6.11";function $i(Ke,Se={}){"object"!=typeof Se&&(Se={name:Se});const Qe=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},Se),ht=Qe.name;if("string"!=typeof ht||!ht)throw di.create("bad-app-name",{appName:String(ht)});const Ht=_t.get(ht);if(Ht){if((0,ue.vZ)(Ke,Ht.options)&&(0,ue.vZ)(Qe,Ht.config))return Ht;throw di.create("duplicate-app",{appName:ht})}const Bt=new X.H0(ht);for(const B of fn.values())Bt.addComponent(B);const j=new As(Ke,Qe,Bt);return _t.set(ht,j),j}function Rr(Ke=Fn){const Se=_t.get(Ke);if(!Se)throw di.create("no-app",{appName:Ke});return Se}function es(){return Array.from(_t.values())}function ts(Ke){return ct.apply(this,arguments)}function ct(){return(ct=(0,h.Z)(function*(Ke){const Se=Ke.name;_t.has(Se)&&(_t.delete(Se),yield Promise.all(Ke.container.getProviders().map(Qe=>Qe.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function qr(Ke,Se,Qe){var ht;let Ht=null!==(ht=at[Ke])&&void 0!==ht?ht:Ke;Qe&&(Ht+=`-${Qe}`);const Bt=Ht.match(/\s|\//),j=Se.match(/\s|\//);if(Bt||j){const B=[`Unable to register library "${Ht}" with version "${Se}":`];return Bt&&B.push(`library name "${Ht}" contains illegal characters (whitespace or "/")`),Bt&&j&&B.push("and"),j&&B.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void de.warn(B.join(" "))}un(new X.wA(`${Ht}-version`,()=>({library:Ht,version:Se}),"VERSION"))}function er(Ke,Se){if(null!==Ke&&"function"!=typeof Ke)throw di.create("invalid-log-argument");(0,N.Am)(Ke,Se)}function Wn(Ke){(0,N.Ub)(Ke)}const Tn="firebase-heartbeat-store";let tr=null;function Ss(){return tr||(tr=(0,ue.X3)("firebase-heartbeat-database",1,(Ke,Se)=>{0===Se&&Ke.createObjectStore(Tn)}).catch(Ke=>{throw di.create("storage-open",{originalErrorMessage:Ke.message})})),tr}function Kt(){return(Kt=(0,h.Z)(function*(Ke){try{return(yield Ss()).transaction(Tn).objectStore(Tn).get(lr(Ke))}catch(Se){throw di.create("storage-get",{originalErrorMessage:Se.message})}})).apply(this,arguments)}function it(Ke,Se){return wt.apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(Ke,Se){try{const ht=(yield Ss()).transaction(Tn,"readwrite");return yield ht.objectStore(Tn).put(Se,lr(Ke)),ht.complete}catch(Qe){throw di.create("storage-set",{originalErrorMessage:Qe.message})}})).apply(this,arguments)}function lr(Ke){return`${Ke.name}!${Ke.options.appId}`}class io{constructor(Se){this.container=Se,this._heartbeatsCache=null;const Qe=this.container.getProvider("app").getImmediate();this._storage=new dt(Qe),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var Se=this;return(0,h.Z)(function*(){const ht=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ht=mr();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Ht&&!Se._heartbeatsCache.heartbeats.some(Bt=>Bt.date===Ht))return Se._heartbeatsCache.heartbeats.push({date:Ht,agent:ht}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Bt=>{const j=new Date(Bt.date).valueOf();return Date.now()-j<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,h.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const Qe=mr(),{heartbeatsToSend:ht,unsentEntries:Ht}=function ur(Ke,Se=1024){const Qe=[];let ht=Ke.slice();for(const Ht of Ke){const Bt=Qe.find(j=>j.agent===Ht.agent);if(Bt){if(Bt.dates.push(Ht.date),_r(Qe)>Se){Bt.dates.pop();break}}else if(Qe.push({agent:Ht.agent,dates:[Ht.date]}),_r(Qe)>Se){Qe.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Qe,unsentEntries:ht}}(Se._heartbeatsCache.heartbeats),Bt=(0,ue.L)(JSON.stringify({version:2,heartbeats:ht}));return Se._heartbeatsCache.lastSentHeartbeatDate=Qe,Ht.length>0?(Se._heartbeatsCache.heartbeats=Ht,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Bt})()}}function mr(){return(new Date).toISOString().substring(0,10)}class dt{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,h.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function ha(Ke){return Kt.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var Qe=this;return(0,h.Z)(function*(){var ht;if(yield Qe._canUseIndexedDBPromise){const Bt=yield Qe.read();return it(Qe.app,{lastSentHeartbeatDate:null!==(ht=Se.lastSentHeartbeatDate)&&void 0!==ht?ht:Bt.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var Qe=this;return(0,h.Z)(function*(){var ht;if(yield Qe._canUseIndexedDBPromise){const Bt=yield Qe.read();return it(Qe.app,{lastSentHeartbeatDate:null!==(ht=Se.lastSentHeartbeatDate)&&void 0!==ht?ht:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...Se.heartbeats]})}})()}}function _r(Ke){return(0,ue.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function jt(Ke){un(new X.wA("platform-logger",Se=>new te(Se),"PRIVATE")),un(new X.wA("heartbeat",Se=>new io(Se),"PRIVATE")),qr(ne,"0.7.21",Ke),qr(ne,"0.7.21","esm2017"),qr("fire-js","")}("")},4859:(st,Ie,P)=>{P.d(Ie,{wA:()=>N,H0:()=>fe});var h=P(5861),X=P(2090);class N{constructor(H,$,ee){this.name=H,this.instanceFactory=$,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ue="[DEFAULT]";class te{constructor(H,$){this.name=H,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const $=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has($)){const ee=new X.BH;if(this.instancesDeferred.set($,ee),this.isInitialized($)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:$});ze&&ee.resolve(ze)}catch(ze){}}return this.instancesDeferred.get($).promise}getImmediate(H){var $;const ee=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),ze=null!==($=null==H?void 0:H.optional)&&void 0!==$&&$;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Me){if(ze)return null;throw Me}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ne(de){return"EAGER"===de.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ue})}catch($){}for(const[$,ee]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier($);try{const Me=this.getOrInitializeService({instanceIdentifier:ze});ee.resolve(Me)}catch(Me){}}}}clearInstance(H=ue){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,h.Z)(function*(){const $=Array.from(H.instances.values());yield Promise.all([...$.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...$.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ue){return this.instances.has(H)}getOptions(H=ue){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:$={}}=H,ee=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ee,options:$});for(const[Me,ke]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Me)&&ke.resolve(ze);return ze}onInit(H,$){var ee;const ze=this.normalizeInstanceIdentifier($),Me=null!==(ee=this.onInitCallbacks.get(ze))&&void 0!==ee?ee:new Set;Me.add(H),this.onInitCallbacks.set(ze,Me);const ke=this.instances.get(ze);return ke&&H(ke,ze),()=>{Me.delete(H)}}invokeOnInitCallbacks(H,$){const ee=this.onInitCallbacks.get($);if(ee)for(const ze of ee)try{ze(H,$)}catch(Me){}}getOrInitializeService({instanceIdentifier:H,options:$={}}){let ee=this.instances.get(H);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(de=H,de===ue?void 0:de),options:$}),this.instances.set(H,ee),this.instancesOptions.set(H,$),this.invokeOnInitCallbacks(ee,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ee)}catch(ze){}var de;return ee||null}normalizeInstanceIdentifier(H=ue){return this.component?this.component.multipleInstances?H:ue:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const $=this.getProvider(H.name);if($.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);$.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const $=new te(H,this);return this.providers.set(H,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(st,Ie,P)=>{P.d(Ie,{in:()=>X,Yd:()=>ne,Ub:()=>fe,Am:()=>de});const h=[];var X=(()=>{return(H=X||(X={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",X;var H})();const N={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ue=X.INFO,te={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},_e=(H,$,...ee)=>{if($<H.logLevel)return;const ze=(new Date).toISOString(),Me=te[$];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Me](`[${ze}]  ${H.name}:`,...ee)};class ne{constructor($){this.name=$,this._logLevel=ue,this._logHandler=_e,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in X))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?N[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...$),this._logHandler(this,X.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...$),this._logHandler(this,X.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,X.INFO,...$),this._logHandler(this,X.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,X.WARN,...$),this._logHandler(this,X.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...$),this._logHandler(this,X.ERROR,...$)}}function fe(H){h.forEach($=>{$.setLogLevel(H)})}function de(H,$){for(const ee of h){let ze=null;$&&$.level&&(ze=N[$.level]),ee.userLogHandler=null===H?null:(Me,ke,...Ve)=>{const pe=Ve.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(et){return null}}).filter(Ce=>Ce).join(" ");ke>=(null!=ze?ze:Me.logLevel)&&H({level:X[ke].toLowerCase(),message:pe,args:Ve,type:Me.name})}}}},5861:(st,Ie,P)=>{function h(N,ue,te,_e,ne,fe,de){try{var H=N[fe](de),$=H.value}catch(ee){return void te(ee)}H.done?ue($):Promise.resolve($).then(_e,ne)}function X(N){return function(){var ue=this,te=arguments;return new Promise(function(_e,ne){var fe=N.apply(ue,te);function de($){h(fe,_e,ne,de,H,"next",$)}function H($){h(fe,_e,ne,de,H,"throw",$)}de(void 0)})}}P.d(Ie,{Z:()=>X})}},st=>{st(st.s=9421)}]);